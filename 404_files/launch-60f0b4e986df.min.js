// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/launch-60f0b4e986df.js`.
window._satellite = window._satellite || {}, window._satellite.container = {
    buildInfo: { minified: !0, buildDate: "2023-05-16T06:46:04Z", turbineBuildDate: "2023-02-22T20:37:26Z", turbineVersion: "27.5.0" }, environment: { id: "EN1739254f11f94494b22c075e6f102c22", stage: "production" }, dataElements: {
        URLNoParam: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return location.host + location.pathname } catch (e) { } } } }, fusionEventMapping: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function (e) { function t(e, t, s) { try { s = s || "datalayer field missing"; for (var a = ["", "na", "not set", "n/a", "not available"], o = (t = t || "").split("."), n = e, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && a.indexOf(n.toLowerCase()) > -1 ? "datalayer field empty" : n || s } catch (e) { console.error("Error:", e) } } return function (s) { try { var a = e.message, o = e.fullState, n = t(a, "eventInfo.reference.linkedComponent"), r = t(o, "component")[n], i = t(o, "page.pageInfo.pageName"), c = t(o, "page.category.subCategory1"), d = t(a, "eventInfo.eventAction"), l = t(a, "eventInfo.eventName"), u = t(a, "eventInfo.type"), m = t(a, "eventInfo.effect"), b = t(a, "eventInfo.attributes.media.totalLength"), p = t(a, "eventInfo.attributes.media.currentTime"), g = t(r, "category.primaryCategory"), f = t(r, "componentInfo.componentName"), v = (t(a, "eventInfo.category.primaryCategory"), t(a, "eventInfo.category.subCategory1")), h = t(a, "eventInfo.category.subCategory2"), P = (t(a, "eventInfo.category.subCategory3"), { rao: ["event25,event26", "event27,event28"], rfa: ["event29,event30", "event31,event32"], rfc: ["event33,event34", "event35,event36"], rfcd: ["event37,event38", "event39,event40"], rfd: ["event41,event42", "event43,event44"], rfo: ["event61,event62", "event63,event64"], rfp: ["event65,event66", "event67,event68"], rfs: ["event69,event70", "event71,event72"], tda: ["event85,event86", "event87,event88"], "online tda": ["event89,event90", "event91,event92"], registration: ["event93,event94", "event95,event96"], campaign: ["event97,event98", "event99,event100"], rfi: ["event45,event46", "event47,event48"], download: ["event49,event50", "event51,event52"], generic: ["event53,event54", "event55,event56"], postal: ["event57,event58", "event59,event60"], roi: ["event73,event74", "event75,event76"], "keep me informed": ["event77,event78", "event79,event80"], newsletter: ["event81,event82", "event83,event84"], "fs rfo": ["event101,event102", "event103,event104"], loan: ["event105,event106", "event107,event108"], "operational lease": ["event109,event110", "event111,event112"], "private lease": ["event113,event114", "event115,event116"], quote: ["event117,event118", "event119,event120"], insurance: ["event121,event122", "event123,event124"], lead: ["event17,event18", "event19,event20"], handraiser: ["event21,event22", "event23,event24"], evt: ["event131,event132", "event133,event134"], sws: ["event135,event136", "event137,event138"] }), j = P[c.toLowerCase()], C = P[u.toLowerCase()], y = P[v.toLowerCase()], w = P[h.toLowerCase()]; m.indexOf("form started") > -1 || "Form Start" == l || "Form Start" == i ? (s.events = s.apl(s.events, "event3,event4", ","), null != w && (s.events = s.apl(s.events, w[0])), null != C && (s.events = s.apl(s.events, C[0])), null != j && (s.events = s.apl(s.events, j[0])), null != y && (s.events = s.apl(s.events, y[0]))) : "nsc > form finished" == m || m.indexOf("form finished") > -1 || "Form Success" == l || "Form Start" == i ? (s.events = s.apl(s.events, "event15, event16", ","), null != w && (s.events = s.apl(s.events, w[1])), null != C && (s.events = s.apl(sevents, C[1])), null != j && (s.events = s.apl(s.events, j[1])), null != y && (s.events = s.apl(s.events, y[1]))) : m.indexOf("form start intention") > -1 || "First Interaction" == l || m.indexOf("form first interaction") > -1 ? s.events = s.apl(s.events, "event5,event6,event917,event918", ",") : m.indexOf("form step") > -1 || "Form Step" == l || "Form Step" == i ? s.events = s.apl(s.events, "event7,event8", ",") : m.indexOf("form interaction") > -1 ? s.events = s.apl(s.events, "event9,event10,event917,event918", ",") : m.indexOf("form finish intention") > -1 && (s.events = s.apl(s.events, "event13,event14,event917,event918", ",")), "media started" == d ? s.events = s.apl(s.events, "event351", "") : "media milestone reached" == d ? (s.events = s.apl(s.events, "event357=" + b, ","), s.events = s.apl(s.events, "evant358=" + p, ","), m.indexOf("10%") > -1 && (s.events = s.apl(s.events, "event352", "")), m.indexOf("25%") > -1 && (s.events = s.apl(s.events, "event353", "")), m.indexOf("50%") > -1 && (s.events = s.apl(s.events, "event354", "")), m.indexOf("70%") > -1 && (s.events = s.apl(s.events, "event355", "")), m.indexOf("950%") > -1 && (s.events = s.apl(s.events, "event356", ""))) : "media finished" == d && (s.events = s.apl(s.events, "event359", "")); var R = { "e-mail": ["event901, event902"], download: ["event903, event904"], share: ["event905, event906"], call: ["event913, event914"], print: ["event915, event916"], interaction: ["event917, event918"] }[d.toLowerCase()]; null != R && (s.events = s.apl(s.events, R[0])), "configurations" == g && "visualizer" == f && ("user started configuration" == m && (s.events = s.apl(s.events, "event311,event312", "")), "interaction" == l && (s.events = s.apl(s.events, "event313,event314", "")), "user finished configuration" == m && (s.events = s.apl(s.events, "event315,event316", ""))), s.linkTrackEvents = s.apl(s.linkTrackEvents, s.events) } catch (e) { var x = { from: "AA", type: "DE", name: "fusionEventMapping" }; _satellite.logger.error(e, x) } } } } }, "AA-consentMetaData": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return function (e) { try { if (void 0 !== window.processingWrapper && "function" == typeof window.processingWrapper._getProcessingInfo) { var t = window.processingWrapper._getProcessingInfo("BaseTracking", { type: window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL, format: window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2 }); return e ? t[e] : t } return "datalayer field missing" } catch (e) { var s = { from: "AA", type: "DE", name: "consentMetaData" }; _satellite.logger.error(e, s) } } } } }, smartPreviousValueManager: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = "bmwdtm_hq_previouspage_meta"; function t() { var t = _satellite.getVar("KIT-helpers").cache; this.init = function (s) { var a = t.get(e); if (!a) { for (var o in a = {}, s) s.hasOwnProperty(o) && (a[o] = { value: s[o], valueAfterVirtualPageLoad: void 0 }); t.set(e, a) } }, this.update = function (s, a) { var o = t.get(e); o[s] = o[s] || { value: void 0 }, o[s].valueAfterVirtualPageLoad && (o[s].value = o[s].valueAfterVirtualPageLoad), o[s].valueAfterVirtualPageLoad = a, t.set(e, o) }, this.get = function (s) { var a = t.get(e); return "object" == typeof a[s] ? a[s].value : void 0 }, this.saveDeferredObject = function (s) { t.set(e + "_deferred", s) }, this.getDeferredObject = function () { return t.get(e + "_deferred") || {} } } function s() { var t = _satellite.cookie; this.get = function (t) { var s = {}; try { s = JSON.parse(window.decodeURIComponent(_satellite.cookie.get(e) || "{}")) } catch (e) { } return t ? s[t] : s }, this.update = function (s, a) { var o = this.get(); if (o[s] = a, !1 === t.set(e, window.encodeURIComponent(JSON.stringify(o)), { domain: _satellite.getVar("topLevelDomain"), expires: 18e5 / 864e5 }) || "false" === _satellite.getVar("isAdobeAnalyticsAllowed")) return !1 }, this.saveDeferredObject = function (e) { for (var t in e) e.hasOwnProperty(t) && this.update(t, e[t]) } } function a(e, t) { t.init(e.get()), this.update = function (s, a, o) { if (o && t.update(s, a), !1 === e.update(s, a)) { var n = t.getDeferredObject(); n[s] = a, t.saveDeferredObject(n) } }, this.get = function (e) { return t.get(e) }, this.saveDeferredObject = function () { e.saveDeferredObject(t.getDeferredObject()) } } return new a(new s, new t) } catch (e) { var o = { from: "AA", type: "DE", name: "smartPreviousValueManager" }; _satellite.logger.error(e, o) } } } }, ev_eve_cause: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].eventInfo.cause } catch (e) { } } } }, campaignParameter: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = { "bmw.ca": ["tl"], "bmw-int2i.com": ["tl"], "bmw.pt": ["tl"], "bmw.co.id": ["tl"], "bmw.com.mx": ["tl"], "pml-bmw.com.sg": ["tl"], "munichauto.com.sg": ["tl"], "bmw.co.kr": ["tl"], "bmw.ie": ["tl"], "bmw.com.br": ["tl"], "bmw.com.pa": ["tl"], "bmw.com.py": ["tl"], "bmw.com.co": ["tl"], "bmw.com.pe": ["tl"], "bmw.com.uy": ["tl"], "bmw.com.gt": ["tl"], "bmw.cl": ["tl"], "bmw.co.cr": ["tl"], "bmw.com.bo": ["tl"], "bmw.com.ec": ["tl"], "bmw.com.sv": ["tl"], "bmw.com.ni": ["tl"], "bmw.com.do": ["tl"], "bmw.hn": ["tl"], "bmw.com.ve": ["tl"], "bmw.cw": ["tl"], "bmw.bs": ["tl"], "bmw.bb": ["tl"], "bmw.com.ky": ["tl"], "bmwjamaica.com": ["tl"], "bmw.lc": ["tl"], "bmw.tt": ["tl"], "bmw.ht": ["tl"], "bmw.com.ar": ["tl"], "bmwlat.com": ["tl"], "bmw.co.za": ["tl"], "bmw.in": ["tl"], "bmw.bg": ["tl"], "bmw.gr": ["tl"], "bmw.pl": ["tl"], "bmw.hu": ["tl"], "bmw.sk": ["tl"], "bmw.si": ["tl"], "bmw.ro": ["tl"], "bmw.cz": ["tl"], "bmw.co.jp": ["tl"], "bmw.com.tr": ["tl"], "bmw.com.au": ["tl"], "bmw.fi": ["tl"], "bmw.no": ["tl"], "bmwhk.com": ["tl"], "bmw.dk": ["tl"], "bmw.se": ["tl"], "bmw.ru": ["tl"], "bmw.com.tw": ["tl"], "bmw.lv": ["tl"], "bmw.ee": ["tl"], "next100.bmw": ["tl"], "trgovec.bmw": ["tl"], "testnavoznja.bmw": ["tl"], "bmw.co.nz": ["tl"], "bmw-asia.com": ["tl"], "bmw.com.my": ["tl"], "bmw.co.th": ["tl"], "bmw.lk": ["tl"], "bmw.com.ph": ["tl"], "bmw-eg.com": ["tl"], "bmw.am": ["tl"], "bmw.vn": ["tl"], "bmw.mu": ["tl"], "bmw.com.al": ["tl"], "bmw.ly": ["tl"], "bmw.ua": ["tl"], "bmw.com.bd": ["tl"], "bmw.com.bn": ["tl"], "bmw.com.ge": ["tl"], "bmw.is": ["tl"], "bmwmyanmar.com": ["tl"], "bmw.co.il": ["tl"], "bmw.cc": ["tl"], "bmw-me.com": ["tl"], "bmw.it": ["tl"], "bmw-kuwait.com": ["tl"], "bmw.com.cy": ["tl"], "bmw.bm": ["tl"], "bmw.com.mt": ["tl"], "bmw-abudhabi.com": ["tl"], "bmw-dubai.com": ["tl"], "bmw.az": ["tl"], "bmw.ba": ["tl"], "bmw.be": ["tl"], "bmw.dz": ["tl"], "bmw.fr": ["tl"], "bmw.hr": ["tl"], "bmw-iraq.com": ["tl"], "bmw.com.kz": ["tl"], "bmw-lebanon.com": ["tl"], "bmw.lu": ["tl"], "bmw.md": ["tl"], "bmw.nl": ["tl"], "bmw-oman.com": ["tl"], "bmw-pakistan.com": ["tl"], "bmw-qatar.com": ["tl"], "bmw.re": ["tl"], "bmw-saudiarabia.com": ["tl"], "bmw-tunisia.com": ["tl"], "bmw.de": ["tl"], "bmw.at": ["tl"], "bmw.ch": ["tl"], "bmw.es": ["tl"], "bmw-lao.la": ["tl"], "bmw-jordan.com": ["tl"], "bmw-bahrain.com": ["tl"], "bmw.ps": ["tl"], "bmw-yemen.com": ["tl"], "bmw-tahiti.com": ["tl"], "bmw-antilles.fr": ["tl"], "bmw.mq": ["tl"], "bmw.com.cn": ["tl"], "bmw.nc": ["tl"], "bmw.rs": ["tl"], "bmw-voli.me": ["tl"], "bmw.com.mk": ["tl"], "bmw-yachtsport.com": ["tl"], "bmw-golfsport.com": ["tl"], "bmw-motorsport.com": ["tl"], "bmw-m.com": ["tl"], "bmw.com": ["tl"], "bmw.co.ke": ["tl"], "bmw-ghana.com": ["tl"], "bmw-nigeria.com": ["tl"], "bmw.co.ao": ["tl"], "bmw.sr": ["tl"], "bmw.com.mo": ["tl"], "bmw-special-sales.com": ["tl"], "bmw-pma.com.sg": ["tl"], "bmw.co.uk": ["tl"], "bmwbkk.de": ["tl"], "bmw.com.sg": ["tl"] }; function t(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) } var s = _satellite.getVar("topLevelDomain"); if (void 0 !== e[s]) var a = e[s]; else a = ["tl"]; for (var o = "", n = 0; n < a.length && !(o = t(a[n])); n++); return o } catch (e) { "true" == localStorage.getItem("sdsat_debug") && _satellite.logger.error("SATELLITE: Campaign not tracked") } } } }, setDefaultProductVariables: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("snapshotDL"), t = _satellite.getVar("productBuilder"), a = (window.location.href, e.get("product.-1.productInfo.productID")), o = e.get("product.-1.attributes.bodyType"), n = e.get("product.-1.attributes.fuelType"), r = e.get("product.-1.attributes.hybridVersion"), i = e.get("product.0.category.primaryCategory"), c = (e.get("product.-1.productInfo.manufacturer"), e.get("product.-1.attributes.mmdr")), d = (e.get("product.-1.attributes.modelName"), e.get("product.-1.attributes.modelCode")), l = (e.get("product.-1.attributes.modelCodeAG"), e.get("product.-1.productInfo.productName")), u = e.get("product.-1.attributes.series"), m = ["new vehicle", "used vehicle", "service", "search", "after sales", "accessory"]; function b(e) { return e.indexOf("gasoline") > -1 ? e.indexOf("hybrid") > -1 ? "x" : "o" : e.indexOf("diesel") > -1 ? e.indexOf("hybrid") > -1 ? "y" : "d" : e.indexOf("electric") > -1 ? "e" : e.indexOf("petrol") > -1 ? "b" : e } if (e.get("product").length > 0) for (var p in e.get("product")) if (!isNaN(+p)) { var g = e.get("product." + p + ".attributes.mmdr", e.get("product." + p + ".attributes.internalCode")), f = e.get("product." + p + ".attributes.mmdrVG", e.get("product." + p + ".attributes.internalCode")), v = e.get("product." + p + ".attributes.modelCode"); c = "G26E" == g || "G26E" == f || "71AW" == v || "31AW" == v ? "G26E" : "G70E" == g || "G70E" == f ? "G70E" : e.get("product." + p + ".attributes.mmdr", e.get("product." + p + ".attributes.internalCode")) } var h = e.get("product.-1.attributes.motorization", e.get("product.-1.attributes.engine")); if (h) { var P = /[0-9]{3}[a-z]{1}/i, j = /xdrive[0-9]{2}[a-z]{1}/i, C = /sdrive[0-9]{2}[a-z]{1}/i, y = h.match(P) || h.match(j) || h.match(C); h.indexOf("i3 (120 ah)") > -1 || h.indexOf("i3 (120ah)") > -1 || h.indexOf("i3 120ah") > -1 ? h = "i3 (120 ah)" : h.indexOf("i3s (120 ah)") > -1 || h.indexOf("i3s (120ah)") > -1 || h.indexOf("i3s 120ah") > -1 ? h = "i3s (120 ah)" : y && y.length && (h = y[0].toUpperCase()) } var w = e.get("product.-1.attributes.gearing"); "automatic" == (w = w.toLowerCase()) || "manual" == w || (w.indexOf("autom") > -1 || w.indexOf("steptronic") > -1 ? w = "automatic" : (w.indexOf("manu") > -1 || w.indexOf("schaltgetriebe") > -1) && (w = "manual")), "CA" == (o = e.get("product.-1.attributes.bodyType")) ? o = "CAB" : "HB" == o ? o = "CLU" : "KO" == o ? o = "COM" : "CO" == o || "CP" == o ? o = "COU" : "GF" == o ? o = "GFZ" : "HB" == o || "SH" == o ? o = "SHA" : "LI" == o ? o = "LIM" : "MP" == o ? o = "MPV" : "RO" == o ? o = "ROA" : "SC" == o ? o = "SAC" : "ST" == o ? o = "SAT" : "GF" == o ? o = "SAV" : "HC" == o ? o = "SHA" : "TO" == o && (o = "TOU"), t.id = a, e.get("product.-1.attributes.sellingPriceTotal", "0"), "new car" == i || "New Car" == i || "New car" == i ? (t.category = "new vehicle", basePriceVehicle = e.get("product.-1.attributes.basePriceVehicle", "0"), sellingPriceVehicle = e.get("product.-1.attributes.sellingPriceVehicle", "0")) : "used car" == i ? (t.category = "used vehicle", basePriceVehicle = e.get("product.-1.attributes.basePriceVehicle", "0"), sellingPriceVehicle = e.get("product.-1.attributes.sellingPriceVehicle", "0")) : "accessories" == i ? (t.category = "after sales", basePriceVehicle = e.get("product.-1.attributes.basePriceOptions", "0"), sellingPriceVehicle = e.get("product.-1.attributes.sellingPriceOptions", "0")) : "forms" == i ? (t.category = "new vehicle", t.id = d, basePriceVehicle = e.get("product.-1.attributes.basePriceVehicle", "0"), sellingPriceVehicle = e.get("product.-1.attributes.sellingPriceVehicle", "0")) : m.indexOf(i) > -1 ? (t.category = i, basePriceVehicle = e.get("product.-1.attributes.basePriceVehicle", "0"), sellingPriceVehicle = e.get("product.-1.attributes.sellingPriceVehicle", "0")) : t.category = "datalayer field missing"; var R = { eVar10: c, eVar44: e.get("product.-1.attributes.productionYear"), eVar45: e.get("product.-1.attributes.yearOfRegistration"), eVar46: e.get("product.-1.attributes.vehicleSelection", e.get("product.-1.attributes.vehicleStatus", e.get("product.-1.attributes.status"))), eVar47: e.get("product.-1.productInfo.color"), eVar48: d, eVar49: e.get("product.-1.attributes.gearing"), eVar50: u, eVar51: o, eVar52: l, eVar53: e.get("product.-1.category.primaryCategory"), eVar54: e.get("product.-1.category.subCategory01", e.get("product.-1.category.subCategory1")), eVar55: e.get("product.-1.category.subCategory02", e.get("product.-1.category.subCategory2")), eVar56: b(n), eVar57: r, eVar58: h, eVar65: e.get("product.-1.attributes.modelName"), eVar66: e.get("product.-1.attributes.trimLevel"), eVar69: e.get("product.-1.attributes.modelCodeAG"), eVar121: e.get("cart.price.voucherCode", e.get("transaction.total.voucherCode")), eVar124: e.get("cart.price.taxRate", e.get("transaction.total.taxRate")), eVar126: e.get("cart.price.shippingMethod", e.get("transaction.total.shippingMethod")) }; t.merchEvars = R; var x = []; return x.push("event831=0"), x.push("event832=0"), x.push("event833=0"), x.push("event834=0"), x.push("event835=0"), x.push("event836=0"), x.push("event837=0"), x.push("event858=0"), t.events = x, s.events = s.apl(s.events, "event831,event832,event833,event834,event835,event836,event837,event858"), s.linkTrackEvents = s.apl(s.linkTrackEvents, "event831,event832,event833,event834,event835,event836,event837,event858"), s.prop59 = e.get("product.-1.attributes.configID"), s.linkTrackVars = s.apl(s.linkTrackVars, "eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar67,eVar121,eVar124,eVar126"), t } catch (e) { var E = { from: "AA", type: "Data Element", name: "setDefaultProductVariables" }; _satellite.logger.error(e, E) } } } }, "AA-InternalcampaignParameter": { modulePath: "core/src/lib/dataElements/queryStringParameter.js", settings: { name: "icp", caseInsensitive: !0 } }, clearCookies: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { for (var e, t = ["s_vnum", "s_cc", "s_getNewRepeat", "s_invisit", "s_lv", "s_lv_s", "s_fid", "s_sq", "s_ptc", "s_ppv", "at_check", "bmwdtm_hq_previouspage_meta", "bmwdtm_hq_sid", "bmwdtm_hq_cc", "bmwdtm_hq_pp", "bmwdtm_hq_pcg", "bmwdtm_hq_vs", "bmwdtm_hq_nav", "bmwdtm_hq_epv", "bmwdtm_hq_perf", "bmwdtm_hq_csevent", "bmwdtm_ru_campaign", "bmwdtm_MO", "AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg", "AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg", "c5b3573c15461c7fb62c3c6af53d7ce46d446a36", "bmwdtm_za_channel", "bmwdtm_za_model", "bmwdtm_za_date", "bmwdtm_cs_utm", "bmwdtm_cs_utm_req", "bmwdtm_tr_mayfestProgrammatic", "bmwdtm_tr_configuratorLandingTime", "bmwdtm_ru_landingTime", "bmwdtm_cn_campaigndata", "bmwdtm_hq_userdata", "bmwdtm_hq_SedanExperience", "aam_uuid", "mbox", "mboxPC", "mboxSession", "tempNavigation", "psyma_participation", "daktela_chat_email", "daktela_chat_session", "daktela_chat_title", "_em_t", "_em_v", "_em_vt", "nmfirstparty", "_mtruid", "__lc.visitor_id", "lc_window_state", "__telemetric.v", "__telemetric.s", "bmnet", "s3optout", "s3timer", "s3_AE", "s3_AESess", "s3_AR", "s3_ARSess", "s3noae", "s3sess", "evo5_popin_instance", "tdid", "cikneeto", "cikneeto_uuid", "tdid", "campaign_complete", "impressionsNo", "LaSID", "LaVisitorId", "LaVisitorNew", "LaRunningChat", "LaUserDetails", "LaEventId", "gdt_flag", "_ym_isad", "_ym_uid", "bmwdtm_hq_feedbackcomplete", "mpt_vid", "mpt_opted_out", "visitorid", "pageViewCount", "time_spent", "s_ppvl", "aam_test", "check", "_gcl_au", "_fbp", "campaign_cookie", "bmwdtm_HK", "ces_status", "_ga", "IDE", "mp_scr_", "mp_scr_06", "mp_scr_08", "mp_scr_11", "mp_scr_12", "mp_scr_14", "mp_scrActions", "mp_scrPoints", "ActivityInfo2", "TargetInfo2", "u2", "cikneeto", "cikneeto_uuid", "_kuid_", "anj", "audience", "AWSELB", "bkdc", "bkpa", "bku", "C", "cid", "CMID", "CMPRO", "CMPS", "CMRUM3", "CMST", "data-rk", "dsp_id", "mako_uid", "ONPLFTRH", "pb", "pxrc", "r1", "rlas3", "sd-session-id", "sec", "sid", "smd", "tuuid", "tuuid_lu", "uid", "um2", "uuid2", "visitor-id", "zync-uuid", "__qca", "mc", "n/a", "dsp_id_1", "evo5", "evo5_BMW", "evo5_BMW_popin", "ione_MTA4MDYx", "ionengagementscore", "nmfp_evo5_BMW", "nmfp_evo5_BMW_popin", "_id", "_ss", "bs", "cas", "cdb0", "cdb1", "cdb2", "cdb3", "cdbp", "d", "dct_oba", "evo5_CLIENT", "evo5_CLIENT_popin", "evo5_display", "EVO5_MINI", "evo5_MINI_popin", "EVO5_OPT", "evo5_popin_instance", "f", "iOne_", "kanapr", "nmfirstparty", "nmfp_", "nmfp_dsp_id", "nmfp_evo5_MINI", "nmfp_u", "notrack", "ss", "t", "ts", "u", "mt_misc", "mt_mop", "uuid", "uuidc", "TDCPM", "TDID", "beaconRetry", "dtBW", "dtcookie", "dtLatC", "dtPC", "dtSa", "dtsrE", "dtsrTID", "dtsrVID", "ruxitagent", "rxVisitId", "rxVisitor", "rxvt", "MUID", "MUIDB", "__gads", "_dc_gtm_UA-127190505-1", "_gaexp", "_gat", "_gat_gtag_UA_", "_gat_UA-", "_gid", "1P_JAR", "eud", "euds", "glc", "NID", "rud", "ruds", "_ga1", "_dc_gtm_UA-", "1143061:session-data", "cmd", "eng_mt", "rc::a", "rc::b", "rc::c", "Cookie_B", "lu", "xs", "c_user", "m_user", "pl", "dblc", "aks", "aksb", "sfau", "ick", "s", "datr", "sb", "fr", "oo", "ddid", "_fbc", "dpr", "gu", "lh", "L\xe4ndereinstellung", "shopping_cart", "wd", "js_ver", "rc", "campaign_click_url", "Checkpoint", "lp", "hckd", "noscript", "m_pixel_ratio", "act", "sfiu", "m_ts", "p", "reg_ext_ref", "ar", "next", "sW", "reg_fb_gate", "av", "next_path", "reg_fb_ref", "dnonce", "presence", "a11y", "reg_uniqid", "rdir", "i_user", "x-referer", "x-src", "i_key", "i_id", "AA003", "ATN", "lang", "bcookie", "bscookie", "UserMatchHistory", "lidc", "personalitation_id", "personalization_id", "psyma_participation", "pageViewCount", "usabilla_", "time_spent", "usbl.", "_cs_c", "_cs_s", "_cs_id", "GAD", "Gdyn", "bmw_chatbot_nlhyperchat_session", "UserID1", "_pk_uid", "TCSess", "_s3_cvar.", "TCID", "_s3_id.", "_s3_id.19.", "s3optout", "_s3_ses.19.", "_s3_ref.", "_s3_ses.", "xdt_143", "_s3_ses.97.72cd", "_s3_id.97.72cd", "bmwdtm_perf", "time_spent_adhoc", "FACEBOOKWITHOUTANAME", "_cs_vars", "_cs_ex", "_cs_optout", "YouTubePlayer", "dotaki.id", "dotaki.idt", "dotaki.time", "dotaki.segment", "_s3_cvar", "_s3_id", "_s3_ref", "_s3_ses", "criteo_cookie_perm", "criteo_localstorage_check", "criteo_write_test", "cto_bundle", "cto_clc", "cto_idcpy", "cto_idfs", "cto_lwid", "cto_optout", "cto_sid", "cto_sid_ack", "cto_tld_test", "eid", "opt", "optout", "r.ack", "zdi", "unvisited", "_em_lt", "_em_dmp", "_em_ft", "_em_c3", "_em_pc", "_em_scf", "_em_gc", "_em_vi", "_em_mb", "baqend-speedkit-ab-test-info"], s = document.cookie.split(";"), a = 0; a < s.length; a++)(e = s[a].split("=")[0].substr(1)).indexOf("_s3") > -1 && (t[t.length] = e), e.indexOf("nmfp") > -1 && (t[t.length] = e), e.indexOf("_ym_viso") > -1 && (t[t.length] = e), e.indexOf("_sdsat") > -1 && (t[t.length] = e); function o() { var e = window.location.hostname, t = e.split(".").reverse(), s = t[1] + "." + t[0]; return e.indexOf("www.bmw-int4.com") > -1 ? s = ".bmw-int4.com" : (e.indexOf(".co.") > -1 || e.indexOf(".com.") > -1 && t.length > 2) && (s = t[2] + "." + s), s } var n = o(); function r() { for (_satellite.logger.log("Clearing cookies from inside clearCookies data element.."), a = 0; a < t.length; a++)_satellite.cookie.remove(t[a]), _satellite.cookie.remove(t[a], { domain: n }) } r() } catch (e) { var i = { from: "AA", type: "DE", name: "clearCookies" }; _satellite.logger.error(i, e) } } } }, hierarchy: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("jcrPathLevel1"), t = _satellite.getVar("jcrPathLevel2"), s = _satellite.getVar("jcrPathLevel3"), a = _satellite.getVar("pageName"), o = [e, t, s], n = 3; s.indexOf("None") > -1 && (n = 2), t.indexOf("None") > -1 && (n = 1), e.indexOf("None") > -1 && (n = 0); for (var r = "", i = 0; i < n; i++)r += o[i] + "|"; return r += a } catch (e) { } } } }, Usabilla_success_events: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = ["Form Success", "Online TDA Booking Finish"], t = _satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName"); return e.indexOf(t) > -1 } catch (e) { var s = { from: "Usabilla", type: "DE", name: "Usabilla_success_events" }; _satellite.logger.error(e, s) } } } }, Usabilla_vs_IgnitionOne: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2) < "20" ? "Usabilla" : "IgnitionOne" } catch (e) { _satellite.logger.error("Error In: Usabilla_vs_IgnitionOne" + e) } } } }, isTargetPersonalizationAllowed: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").TargetPersonalization; return e.isTrackingAllowed(t).toString() } catch (e) { var s = { from: "AA", type: "DE", name: "isTargetPersonalizationAllowed" }; _satellite.logger.error(e, s) } } } }, getDL: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function (e) { return e && e.message && e.message.event ? adobeDataLayer._getExtEvntData(e) : _satellite.getVar("snapshotDL") } } }, setTronDefaultVariableGeneric: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return function (e) { try { var t = _satellite.getVar("snapshotDL"), s = _satellite.getVar("errObj"), a = _satellite.getVar("tronVisualizer"), o = "nsc > "; e.prop1 = t.get("page.pageInfo.pageName"), e.prop2 = t.get("page.category.pageType"), e.prop5 = t.get("page.category.subCategory02"); try { if ("" != a && null != a) { var n = a.event.cause, r = a.event.type, i = a.event.effect, c = a.event.action, d = a.event.timeStamp, l = a.component.name, u = a.component.type, m = a.version, b = a.custom.scenery; switch (void 0 === l ? l = "datalayer field missing" : "" == l ? l = "datalayer field empty" : e.prop19 = l, e.prop52 = n, e.prop53 = r, e.prop57 = c, e.prop41 = u, e.prop44 = m, e.prop45 = m, e.eVar136 = m, e.eVar34 = o + i, e.prop12 = d, e.prop54 = l, l) { case "visualizer": e.prop43 = "showroom", e.prop42 = "configuration", e.prop50 = "datalayer field missing", e.prop55 = b, e.prop56 = "interaction"; break; case "video player": e.prop43 = "video", e.prop50 = "media", e.prop55 = "video", e.prop56 = "interaction" } } } catch (e) { var p = { from: "AA", type: "DE", name: "Custom Code for TRON Specific Variables Mapping" }; _satellite.logger.error(e, p) } try { if ("" != s && null != s) { var g = s.event.name; if (null != g && "error" === g) { var f = s.event.effect; e.eVar34 = void 0 === f ? "datalayer field missing" : "" == f ? "datalayer field empty" : o + f; var v = s.custom.errorURL; e.eVar71 = void 0 === v ? "datalayer field missing" : "" == v ? "datalayer field empty" : v; var h = s.custom.errorOrigin; e.prop51 = void 0 === h ? "datalayer field missing" : "" == h ? "datalayer field empty" : h; var P = s.event.cause; e.prop52 = void 0 === P ? "datalayer field missing" : "" == P ? "datalayer field empty" : P; var j = s.event.type; e.prop53 = void 0 === j ? "datalayer field missing" : "" == j ? "datalayer field empty" : j; var C = s.custom.errorCode; e.prop55 = void 0 === C ? "datalayer field missing" : "" == C ? "datalayer field empty" : C; var y = s.version; e.prop44 = void 0 === y ? "datalayer field missing" : "" == y ? "datalayer field empty" : y, e.prop45 = e.prop44, e.prop56 = void 0 === g ? "datalayer field missing" : "" == g ? "datalayer field empty" : g; var w = s.event.action; e.prop57 = void 0 === w ? "datalayer field missing" : "" == w ? "datalayer field empty" : w; var R = s.component.name; switch (e.prop19 = void 0 === R ? "datalayer field missing" : "" == R ? "datalayer field empty" : R, R) { case "electric range calculator": e.prop50 = "calculator", e.prop43 = "showroom"; break; case "all-models-list": e.prop50 = "model list", e.prop43 = "content"; break; case "dynamic disclaimer": e.prop50 = "disclaimer", e.prop43 = "legal information"; break; default: e.prop50 = "datalayer field missing" } } } } catch (e) { var x = { from: "AA", type: "DE", name: "Custom Code for Error Events tracking" }; _satellite.logger.error(e, x) } "" != e.linkTrackVars && e.linkTrackVars, e.linkTrackVars = e.apl(e.linkTrackVars, "prop1,prop2,prop5,prop45,prop56,prop57,prop55,prop53,prop52,prop51,eVar71,eVar34,prop44,eVar7,prop12,prop19,prop42,prop43,prop50") } catch (e) { var E = { from: "AA", type: "DE", name: "setTronDefaultVariables" }; _satellite.logger.error(e, E) } } } } }, pa_pag_pageName: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer").page.pageInfo.pageName; return "" == e && (e = "not set"), e } catch (e) { return "not set" } } } }, "AA-pageID": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "page.pageInfo.pageID" } } }, jcrPathLevel3: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pageInstanceId"), t = _satellite.getVar("pa_pag_pageName"), s = _satellite.getVar("pa_cat_primaryCategory"), a = e.split("/"), o = 6, n = 3; n = n + o - 1; var r = a.length; if (n < r) var i = a[n]; else i = "None"; return "newvehicles" !== a[o] && "all-models" !== a[o] || (i = n < r ? a[n] + " " + a[n + 1] : "None"), e.indexOf("/configurator") > -1 && (i = "None"), "VCO" === s && (i = t), i } catch (e) { } } } }, pa_pag_language: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer").page.pageInfo.language, t = _satellite.getVar("topLevelDomain"); return "bmw-m.com" != t && "bmw.com" != t && "bmw-yachtsport.com" != t && "bmw-motorsport.com" != t && "bmw-golfsport.com" != t && "bmw-special-sales.com" != t && "bmwbkk.de" != t || (e = e.split("-")[0] + "-HQ"), e } catch (e) { } } } }, pa_pag_pageTitle: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle } catch (e) { } } } }, isRegulationAccepted_Tags: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").Others; return "false" === e.isTrackingAllowed(t).toString() ? "false" : s(); function s() { var e = _satellite.getVar("TPT-PII_keywords"), t = window.location.href.toLowerCase(), s = t.split("?")[1]; if (/[\w-]+@([\w-]+\.)+[\w-]+/.test(t)) return "false"; if (null != s) for (var a = 0; a < e.length; a++)if (s.indexOf(e[a] + "=") > -1) return "false"; return "true" } } catch (e) { var a = { from: "AA", type: "DE", name: "isRegulationAccepted_Tags" }; _satellite.logger.error(e, a) } } } }, "AA-subCategory01": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "event.-1.category.subCategory01" } } }, isAAMAllowed: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").AAM; return e.isTrackingAllowed(t).toString() } catch (e) { var s = { from: "AA", type: "DE", name: "isAAMAllowed" }; _satellite.logger.error(e, s) } } } }, "AA-doNotTrack": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return ["sales > dcs: entry", "stocklocator"] } } }, gcdmcookie: { modulePath: "core/src/lib/dataElements/cookie.js", settings: { name: "gcdmToken" } }, consentMap: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return "true" === _satellite.getVar("splitConsentEnabled") ? { AdobeAnalytics: "AdobeAnalytics", Target: "AdobeTargetAnalytics", TargetPersonalization: "AdobeTargetPersonalization", AAM: "AdobeAudienceManager_DMP", campaignCookieTracking: "campaignCookieTracking" } : { AdobeAnalytics: "advertising", Target: "advertising", TargetPersonalization: "advertising", AAM: "advertising", Others: "advertising", campaignCookieTracking: "campaignCookieTracking" } } catch (t) { var e = { from: "AA", type: "DE", name: "consentMap" }; _satellite.logger.error(t, e) } } } }, ev_att_componentName: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].attributes.relatedComponent.componentInfo.componentName } catch (e) { } } } }, "AAM-initConfig": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = { "bmw.co.za": { containerNSID: 4 }, "bmw.it": { containerNSID: 6 }, "bmw.de": { containerNSID: 1 }, "bmw.co.uk": { containerNSID: 19 }, "bmw.fr": { containerNSID: 21 }, "bmw.co.jp": { containerNSID: 23 }, "bmw.es": { containerNSID: 26 }, "bmw.be": { containerNSID: 28 }, "bmw.lu": { containerNSID: 30 }, "bmw.se": { containerNSID: 32 }, "bmw.dk": { containerNSID: 33 }, "bmw.no": { containerNSID: 34 }, "bmw.fi": { containerNSID: 35 }, "mini.de": { containerNSID: 3 }, "mini.it": { containerNSID: 8 }, "mini.fr": { containerNSID: 22 } }; return s = _satellite.getVar("topLevelDomain"), a = { partner: "bmwag", containerNSID: 0, uuidCookie: { name: "aam_uuid", days: 30, domain: _satellite.getVar("topLevelDomain") }, visitorService: { namespace: "B52D1CFE5330949C0A490D45@AdobeOrg" } }, (o = e[s]) && (o.partner = o.partner || a.partner, o.containerNSID = o.containerNSID || a.containerNSID, o.uuidCookie = o.uuidCookie || a.uuidCookie, o.visitorService = o.visitorService || a.visitorService), o } catch (e) { var t = { from: "AA", type: "DE", name: "AAM-initConfig" }; _satellite.logger.error(e, t) } var s, a, o } } }, targetModelsExclusion: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr, t = window.location.host; if (t.indexOf("www.bmw.at") > -1) var s = ["G80", "G82", "G83", "F90", "F91", "F92", "F93", "F97", "F98", "F95", "F96", "G07", "G11", "G12", "G14", "G15", "G16", "U11 BEV", "G70E", "U11E", "G70"].indexOf(e) > -1; else t.indexOf("www.bmw.de") > -1 && (s = ["F40", "G42", "F44", "U06", "F46", "G22", "G23", "G26", "G26E", "G30", "G31", "G32", "F48", "F39", "G01", "G02", "G05", "G06", "G29", "I20", "G08", "G20", "G14", "G80", "G82", "F90", "F91", "G21", "G15", "G83", "F92", "G16", "F93", "U11", "U11E", "F97", "F98", "F95", "F96", "G07"].indexOf(e) > -1); return s } catch (e) { _satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion" + e) } } } }, topLevelDomain: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.location.hostname, t = e.split(".").reverse(), s = t[1] + "." + t[0]; return (e.indexOf(".co.") > -1 || e.indexOf(".com.") > -1 && t.length > 2) && (s = t[2] + "." + s), s } catch (e) { var a = { from: "AA", type: "DE", name: "topLevelDomain" }; _satellite.logger.error(e, a) } } } }, jcrPathLevel1: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pageInstanceId"), t = e.split("/"), s = 1; if ((s = s + 6 - 1) < t.length) var a = t[s]; else a = "None"; return e.indexOf("/configurator") > -1 && (a = "Configurator"), a } catch (e) { } } } }, ev_cat_subCategory01: {
            defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: {
                source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].category.subCategory01 } catch (e) { } }
            }
        }, pa_cat_primaryCategory: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return _satellite.getVar("finalDataLayer").page.category.primaryCategory } catch (e) { } } } }, "AA-localCampaignVariable": { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = ["mz_ca", "mz_sp"]; function t(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) } _satellite.getVar("topLevelDomain"); for (var s = "", a = 0, o = 0; o < e.length; o++)t(e[o]) ? s += t(e[o]) + "|" : (s += "no value|", a++); return s = 2 == a ? "" : s.slice(0, -1) } catch (e) { var n = { from: "AA", type: "DE", name: "AA-localCampaignVariable" }; _satellite.logger.error(e, n) } } } }, "AA-componentDefaultValues": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("snapshotDL").get("pageInstanceId"), t = e.split("/"), s = { primaryCat: "nsc website", subCat: t[6] || "content", componentName: t[7] }; switch (s.subCat.toLowerCase()) { case "index-prod": s.subCat = "content", s.componentName = "homepage"; break; case "all-models": s.subCat = "showroom"; break; case "all-models-prod": s.subCat = "content", s.componentName = "all-models-prod"; break; case "topics": s.subCat = "topics"; break; case "ssl": "requests" === t[7] ? (s.subCat = "forms", s.componentName = "Target: Visitor Reco" === _satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName") ? "Target: Visitor Reco" : t[8]) : s.subCat = "content"; break; case "stocklocator-prod": s.primaryCat = "stock locator", s.componentName = "used car stock locator"; break; case "usedcar-prod": s.componentName = "used car"; break; case "rakenna-oma-bmw-prod": case "bygg-din-bmw-prod": s.componentName = "configurator all models"; break; default: if (RegExp("^[c|k]onf.*prod$").test(s.subCat.toLowerCase())) s.componentName = "configurator all models"; else if (e.indexOf("/forms/") > -1) s.componentName = "adobe form"; else { var a = _satellite.getVar("snapshotDL"); s.componentName = a.get("component.-1.componentInfo.componentName", s.componentName) } }return s } catch (e) { var o = { from: "AA", type: "DE", name: "AA-componentDefaultValues" }; _satellite.logger.error(e, o) } } } }, hashingMID: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = s.marketingCloudVisitorID, t = "erpAVj*ED9aTVMs%", a = a || function (e, t) { var s = {}, a = s.lib = {}, o = function () { }, n = a.Base = { extend: function (e) { o.prototype = this; var t = new o; return e && t.mixIn(e), t.hasOwnProperty("init") || (t.init = function () { t.$super.init.apply(this, arguments) }), t.init.prototype = t, t.$super = this, t }, create: function () { var e = this.extend(); return e.init.apply(e, arguments), e }, init: function () { }, mixIn: function (e) { for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]); e.hasOwnProperty("toString") && (this.toString = e.toString) }, clone: function () { return this.init.prototype.extend(this) } }, r = a.WordArray = n.extend({ init: function (e, s) { e = this.words = e || [], this.sigBytes = s != t ? s : 4 * e.length }, toString: function (e) { return (e || c).stringify(this) }, concat: function (e) { var t = this.words, s = e.words, a = this.sigBytes; if (e = e.sigBytes, this.clamp(), a % 4) for (var o = 0; o < e; o++)t[a + o >>> 2] |= (s[o >>> 2] >>> 24 - o % 4 * 8 & 255) << 24 - (a + o) % 4 * 8; else if (65535 < s.length) for (o = 0; o < e; o += 4)t[a + o >>> 2] = s[o >>> 2]; else t.push.apply(t, s); return this.sigBytes += e, this }, clamp: function () { var t = this.words, s = this.sigBytes; t[s >>> 2] &= 4294967295 << 32 - s % 4 * 8, t.length = e.ceil(s / 4) }, clone: function () { var e = n.clone.call(this); return e.words = this.words.slice(0), e }, random: function (t) { for (var s = [], a = 0; a < t; a += 4)s.push(4294967296 * e.random() | 0); return new r.init(s, t) } }), i = s.enc = {}, c = i.Hex = { stringify: function (e) { var t = e.words; e = e.sigBytes; for (var s = [], a = 0; a < e; a++) { var o = t[a >>> 2] >>> 24 - a % 4 * 8 & 255; s.push((o >>> 4).toString(16)), s.push((15 & o).toString(16)) } return s.join("") }, parse: function (e) { for (var t = e.length, s = [], a = 0; a < t; a += 2)s[a >>> 3] |= parseInt(e.substr(a, 2), 16) << 24 - a % 8 * 4; return new r.init(s, t / 2) } }, d = i.Latin1 = { stringify: function (e) { var t = e.words; e = e.sigBytes; for (var s = [], a = 0; a < e; a++)s.push(String.fromCharCode(t[a >>> 2] >>> 24 - a % 4 * 8 & 255)); return s.join("") }, parse: function (e) { for (var t = e.length, s = [], a = 0; a < t; a++)s[a >>> 2] |= (255 & e.charCodeAt(a)) << 24 - a % 4 * 8; return new r.init(s, t) } }, l = i.Utf8 = { stringify: function (e) { try { return decodeURIComponent(escape(d.stringify(e))) } catch (e) { throw Error("Malformed UTF-8 data") } }, parse: function (e) { return d.parse(unescape(encodeURIComponent(e))) } }, u = a.BufferedBlockAlgorithm = n.extend({ reset: function () { this._data = new r.init, this._nDataBytes = 0 }, _append: function (e) { "string" == typeof e && (e = l.parse(e)), this._data.concat(e), this._nDataBytes += e.sigBytes }, _process: function (t) { var s = this._data, a = s.words, o = s.sigBytes, n = this.blockSize, i = o / (4 * n); if (t = (i = t ? e.ceil(i) : e.max((0 | i) - this._minBufferSize, 0)) * n, o = e.min(4 * t, o), t) { for (var c = 0; c < t; c += n)this._doProcessBlock(a, c); c = a.splice(0, t), s.sigBytes -= o } return new r.init(c, o) }, clone: function () { var e = n.clone.call(this); return e._data = this._data.clone(), e }, _minBufferSize: 0 }); a.Hasher = u.extend({ cfg: n.extend(), init: function (e) { this.cfg = this.cfg.extend(e), this.reset() }, reset: function () { u.reset.call(this), this._doReset() }, update: function (e) { return this._append(e), this._process(), this }, finalize: function (e) { return e && this._append(e), this._doFinalize() }, blockSize: 16, _createHelper: function (e) { return function (t, s) { return new e.init(s).finalize(t) } }, _createHmacHelper: function (e) { return function (t, s) { return new m.HMAC.init(e, s).finalize(t) } } }); var m = s.algo = {}; return s }(Math); !function (e) { for (var t = a, s = (n = t.lib).WordArray, o = n.Hasher, n = t.algo, r = [], i = [], c = function (e) { return 4294967296 * (e - (0 | e)) | 0 }, d = 2, l = 0; 64 > l;) { var u; e: { u = d; for (var m = e.sqrt(u), b = 2; b <= m; b++)if (!(u % b)) { u = !1; break e } u = !0 } u && (8 > l && (r[l] = c(e.pow(d, .5))), i[l] = c(e.pow(d, 1 / 3)), l++), d++ } var p = []; n = n.SHA256 = o.extend({ _doReset: function () { this._hash = new s.init(r.slice(0)) }, _doProcessBlock: function (e, t) { for (var s = this._hash.words, a = s[0], o = s[1], n = s[2], r = s[3], c = s[4], d = s[5], l = s[6], u = s[7], m = 0; 64 > m; m++) { if (16 > m) p[m] = 0 | e[t + m]; else { var b = p[m - 15], g = p[m - 2]; p[m] = ((b << 25 | b >>> 7) ^ (b << 14 | b >>> 18) ^ b >>> 3) + p[m - 7] + ((g << 15 | g >>> 17) ^ (g << 13 | g >>> 19) ^ g >>> 10) + p[m - 16] } b = u + ((c << 26 | c >>> 6) ^ (c << 21 | c >>> 11) ^ (c << 7 | c >>> 25)) + (c & d ^ ~c & l) + i[m] + p[m], g = ((a << 30 | a >>> 2) ^ (a << 19 | a >>> 13) ^ (a << 10 | a >>> 22)) + (a & o ^ a & n ^ o & n), u = l, l = d, d = c, c = r + b | 0, r = n, n = o, o = a, a = b + g | 0 } s[0] = s[0] + a | 0, s[1] = s[1] + o | 0, s[2] = s[2] + n | 0, s[3] = s[3] + r | 0, s[4] = s[4] + c | 0, s[5] = s[5] + d | 0, s[6] = s[6] + l | 0, s[7] = s[7] + u | 0 }, _doFinalize: function () { var t = this._data, s = t.words, a = 8 * this._nDataBytes, o = 8 * t.sigBytes; return s[o >>> 5] |= 128 << 24 - o % 32, s[14 + (o + 64 >>> 9 << 4)] = e.floor(a / 4294967296), s[15 + (o + 64 >>> 9 << 4)] = a, t.sigBytes = 4 * s.length, this._process(), this._hash }, clone: function () { var e = o.clone.call(this); return e._hash = this._hash.clone(), e } }), t.SHA256 = o._createHelper(n), t.HmacSHA256 = o._createHmacHelper(n) }(Math); var o = t + e, n = a.SHA256(o); return btoa(n) } catch (e) { var r = { from: "AA", type: "DE", name: "hashingMID" }; _satellite.logger.error(e, r) } } } }, "AA-setFallbackValues": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { for (var e = ["eVar4", "eVar5", "eVar9", "eVar11", "eVar12", "eVar13", "eVar71", "server", "eVar7", "eVar8", "prop13", "eVar36", "eVar37", "eVar38", "pageType", "prop1", "prop2", "prop3", "prop4", "prop5", "prop12", "prop14", "prop15", "prop27", "prop28", "prop29", "prop19", "prop41", "prop42", "prop43", "prop44", "prop45", "prop60", "prop61", "prop63", "prop64", "prop71", "prop74"], t = 0; t < e.length; t++)s[e[t]] || (s[e[t]] = "datalayer field missing"), s.linkTrackVars && -1 == s.linkTrackVars.indexOf(e[t] + ",") && (s.linkTrackVars += "," + e[t]); var a = ["eVar6", "eVar14", "eVar28", "eVar29", "prop31", "prop32", "prop33"]; for (t = 0; t < a.length; t++)s[a[t]] || (s[a[t]] = "datalayer field missing"), s.linkTrackVars && -1 == s.linkTrackVars.indexOf(a[t] + ",") && (s.linkTrackVars += "," + a[t]); var o = ["eVar120", "eVar122", "eVar123", "eVar125"]; for (t = 0; t < o.length; t++)s[o[t]] || (s[o[t]] = "datalayer field missing"), s.linkTrackVars && -1 == s.linkTrackVars.indexOf(o[t] + ",") && (s.linkTrackVars += "," + o[t]); var n = ["prop6", "prop7", "prop8", "prop9", "prop10", "prop11", "prop17", "prop18", "prop23", "prop40", "prop51", "prop52", "prop53", "prop54", "prop55", "prop56", "prop57", "prop59", "prop69", "eVar34", "eVar59"]; for (t = 0; t <= n.length; t++)s[n[t]] || (s[n[t]] = "datalayer field missing"), s.linkTrackVars && -1 == s.linkTrackVars.indexOf(n[t] + ",") && (s.linkTrackVars += "," + n[t]); var r = ["prop24", "prop34", "prop35", "prop36", "prop37", "prop38", "prop39", "prop46", "prop47", "prop48", "prop49", "prop50", "prop65", "prop66", "prop67", "prop72", "prop73", "eVar18", "eVar22", "eVar136", "eVar137", "eVar138", "eVar151", "eVar152", "eVar153", "eVar154", "eVar155", "eVar156", "eVar157", "eVar158", "eVar159", "eVar160"]; for (t = 0; t <= r.length; t++)s[r[t]] || (s[r[t]] = "datalayer field missing"), s.linkTrackVars && -1 == s.linkTrackVars.indexOf(r[t] + ",") && (s.linkTrackVars += "," + r[t]); var i = ["eVar35", "eVar39", "eVar40", "eVar41", "eVar42", "eVar43", "eVar76", "eVar77", "eVar78", "eVar79", "eVar132", "eVar134", "eVar135", "eVar142", "eVar175", "eVar199", "campaign", "eVar61", "eVar63", "eVar64", "eVar171", "eVar172", "eVar15", "eVar16", "eVar17", "eVar19", "eVar20", "eVar21", "eVar22", "eVar23", "eVar24", "eVar25", "eVar26", "eVar27", "eVar130", "eVar131", "eVar133", "eVar191", "eVar192", "eVar193", "eVar194", "eVar197", "eVar199", "eVar200", "prop75"]; for (t = 0; t <= i.length; t++)!s[i[t]] || "datalayer field missing" != s[i[t]] && "datalayer field empty" != s[i[t]] || delete s[i[t]] } catch (e) { var c = { from: "AA", type: "DE", name: "AA-mapAllDimensions" }; _satellite.logger.error(e, c) } } } }, "AAM-emailid": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = document.querySelector("#email").value; if (1 == /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)) return e } catch (e) { _satellite.logger.error("EmailID error ", e) } } } }, lastTwoDigitsOfMID: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return function () { return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString() } } catch (t) { var e = { from: "AA", type: "DE", name: "lastTwoDigitsOfMID" }; _satellite.logger.error(t, e) } } } }, "Trigger-AnalyticsConsentChangeEvent": { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return function () { try { var e, t = "re-trigger"; "function" == typeof Event ? e = new Event(t) : (e = document.createEvent("Event")).initEvent(t, !0, !0), document.body.dispatchEvent(e) } catch (e) { var s = { from: "AA", type: "DE", name: "Trigger-AnalyticsConsentChangeEvent" }; _satellite.logger.error(e, s) } } } } }, "DL-Map": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return { page: { pageInfo: { PPVstate: { foldsAvailable: "c48", foldsSeen: "c49", highestPercentViewed: "c47" }, windowInfo: { url: "V4", urlSpillover: "V5", previousDomain: "V6", urlHash: "V11", urlClean: "V12", queryParam: "v13", screenWidth: "c66", screenHeight: "c67", screenOrientation: "c68", userAgent: "V132", server: "server", campaign: "V0;V61;V62", internalCampaign: "V63", searchAdsParameter: "V64", nspCampaignID: "V171", nspBroadlogID: "V172" }, tmsInfo: { publishDate: "c71", vidServiceVersion: "c72", appMeasurementVersion: "c73" }, timeInfo: { utcTime: "c14", localTime: "c15" }, visitorInfo: { lastTwoDigits: "v131", hashedID: "V130", vibeScore: { final: { total: "c35;n146", tda: "n142", rfo: "n143", rfi: "n144", vco: "n145" }, clusterSegment: "V195" } }, sPVM: { prevCompName: "c31", prevPageSubCategory: "c32", prevPageName: "c33", prevUrlFull: "V14", prevCompSubCategory: "v28", prevUrlClean: "v29" }, pageName: "c1;pageName", pageID: "c27", variant: "c28", version: "c29", geoRegion: "V8", referringUrl: "referrer", language: "V7", author: "c46", sysEnv: "v135", pageTitle: "v18" }, category: { pageType: "c2;pageType", primaryCategory: "c3", subCategory1: "c4", subCategory2: "c5", subCategory3: "c30" }, attributes: { brand: "c13" }, context: "c34" }, tools: { analytics: { report_suite: "sa" } }, product: { "*": { productInfo: { productID: "p:id", manufacturer: "pv60", productName: "pv52", color: "pv47" }, category: { productType: "p:category", primaryCategory: "pv53", subCategory1: "pv54", subCategory2: "pv55" }, amount: "p:amount", total: "p:total", attributes: { mmdrVG: "pv10", modelCode: "pv48", gearing: "pv49", series: "pv50", bodyType: "pv51", fuelType: "pv56", hybridVersion: "pv57", motorization: "pv58", configLink: "pv59;c59;v59", modelName: "pv65", trimLevel: "pv66", modelCodeAG: "pv69", encVIN: "pv70", fin: { downPayment: "pv84;pn801", mileage: "pv85", monthlyPayment: "pv86", term: "pv87" }, productionYear: "pv44", yearOfRegistration: "pv45", status: "pv46" } } }, component: { "*": { category: { componentType: "c41", primaryCategory: "c42", subCategory1: "c43" }, componentInfo: { componentID: "c44", componentName: "c19" }, attributes: { componentVersion: "c45", touchpoint: "v134", platform: "v137", componentDevAgency: "c46" } } }, dealer: { "*": { dealerInfo: { dealerOutletID: "v40", dealerOutletName: "v39", dealerOutletGroupID: "v42", dealerOutletGroupName: "v41", dealerOutletBuno: "v35" }, attributes: { selectionState: "v43" } } }, ePaaS: { adobe: "list1", consents: "c64", defaults: "c63", drawer: "c60", identities: "c61", settings: "c62" }, user: { "*": { profile: { profile01: { address: { stateProvince: "v19", country: "v20", currentVehicle: "v26" }, attributes: { loggedInStatus: "c40", currentVehicle: "v26" }, profileInfo: { type: "v15", language: "v21", profileID: "V17", visitorID: "V17" } } } } }, eventInfo: { eventName: { _: "c56", interaction: [917, 918], error: [931, 932], "bounce timer": [976] }, eventAction: "c57", cause: "c52", effect: { _: "v34", "nsc > form started": [3, 4], "nsc > form first interaction": [5, 6, 917, 918], "nsc > form finish intention": [13, 14, 917, 918], "nsc > form finished": [15, 16], "nsc > form impression": [925, 926], "nsc > form interaction": [9, 10], "nsc > video started": [351], "nsc > video 10% viewed": [352], "nsc > video 25% viewed": [353], "nsc > video 50% viewed": [354], "nsc > video 75% viewed": [355], "nsc > video 95% viewed": [356], "nsc > video finished": [359], "special > form started": [3, 4], "special > form finished": [15, 16] }, timeStamp: "c12", type: "c53", points: "n970", category: { primaryCategory: "c54", subCategory1: "c55", subCategory2: "c51" }, performance: { clsTotal: "n967", fid: "n968", cls: "n969", timeServer: "n971", timeServerReact: "n972", lcp: "n973", path: "V36", url: "v36", query: "V37", hash: "V38", fidHTML: "v67", lcpHTML: "v68", timeContent: "n974", timePageReady: "n975" }, reference: { linkedProducts: "product", linkedComponent: "component", linkedDealers: "dealer", linkedUser: "user" }, attributes: { requestedURL: "V71", iframeURL: "V9", form: { preferredComChannel: "v23" }, media: { currentTime: "n358", totalLength: "n357" }, solutionSpecific: { evar151: "v151", evar152: "v152", evar153: "v153", evar154: "v154", evar155: "v155", evar156: "v156", evar157: "v157", evar158: "v158", evar159: "v159", evar160: "v160" } }, tools: { launch: { prop_rule: "C74" }, analytics: { error_report_suite: "sa" } }, form: { effect: { "form started": { type: { rao: [25, 26], rfa: [29, 30], rfc: [33, 34], rfcd: [37, 38], rfd: [41, 42], rfo: [61, 62], rfp: [65, 66], rfs: [69, 70], tda: [85, 86], "online tda": [89, 90], registration: [93, 94], campaign: [97, 98], rfi: [45, 46], download: [49, 50], generic: [53, 54], postal: [57, 58], roi: [73, 74], "keep me informed": [77, 78], newsletter: [81, 82], "fs rfo": [101, 102], loan: [105, 106], "operational lease": [109, 110], "private lease": [113, 114], quote: [117, 118], insurance: [121, 122], lead: [17, 18], handraiser: [21, 22], evt: [131, 132], sws: [135, 136] } }, "form finished": { type: { rao: [27, 28], rfa: [31, 32], rfc: [35, 36], rfcd: [39, 40], rfd: [43, 44], rfo: [63, 64], rfp: [67, 68], rfs: [71, 72], tda: [87, 88], "online tda": [91, 92], registration: [95, 96], campaign: [99, 100], rfi: [47, 48], download: [51, 52], generic: [55, 56], postal: [59, 60], roi: [75, 76], "keep me informed": [79, 80], newsletter: [83, 84], "fs rfo": [103, 104], loan: [107, 108], "operational lease": [111, 112], "private lease": [115, 116], quote: [119, 120], insurance: [123, 124], lead: [19, 20], handraiser: [23, 24], evt: [133, 134], sws: [137, 138] } }, "form step": [7, 8] }, eventName: { form: { primaryCategory: "c6", subCategory1: "c7", formEffect: "c8", stepAmounts: "c9", formVariant: "c10", type: "c11", stepName: "c16", rfxID: "C17", subCategory2: "c18" }, error: { primaryCategory: "c6", formtype: "c11" } } }, PPVstate: { foldsAvailable: "n129", foldsSeen: "n130", highestPercentViewed: "n126", initalPercentViewed: "n125", highestPixelSeen: "n127", totalHeight: "n128", pathname: "v22" }, mediaInfo: { video: { mediaName: "c36", mediaHosting: "c37", mediaType: "c38" } } }, cart: { cartID: "V120", price: { currency: "V122" } }, transaction: { transactionID: "V125", attributes: { paymentMethod: "v123" } }, version: "v136" } } } }, setProductString: {
            modulePath: "core/src/lib/dataElements/customCode.js", settings: {
                source: function () {
                    function e(e, t) { for (var s = [], a = 0; a < e.length; a++)-1 === t.indexOf(e[a]) && s.push(e[a]); return s } function t(e) { return e.indexOf("gasoline") > -1 ? e.indexOf("hybrid") > -1 ? "x" : "o" : e.indexOf("diesel") > -1 ? e.indexOf("hybrid") > -1 ? "y" : "d" : e.indexOf("electric") > -1 ? "e" : e.indexOf("petrol") > -1 ? "b" : e } return function (s) {
                        var a = ["new vehicle", "used vehicle", "service", "search", "after sales", "other"]; try {
                            var o, n = _satellite.getVar("snapshotDL"), r = "", i = (n.get("product"), {}); for (var c in n.get("product")) isNaN(+c) || (i[n.get("product." + c + ".productInfo.productID")] = c, "vehicle" == n.get("product." + c + ".category.productType").toLowerCase() && (o = c, n.get("product." + c + ".productInfo.productID")), "new vehicle" == n.get("product." + c + ".category.productType").toLowerCase() && (o = c, n.get("product." + c + ".productInfo.productID")), "used vehicle" == n.get("product." + c + ".category.productType").toLowerCase() && (o = c, n.get("product." + c + ".productInfo.productID"))); var d = { product: {} }; for (var c in n.get("product")) isNaN(+c) || (d.product[n.get("product." + c + ".productInfo.productID")] = {}, d.product[n.get("product." + c + ".productInfo.productID")] = n.get("product." + c)); var l = Object.keys(d.product); for (var u in n.get("cart"), d.cart = {}, n.get("cart.item")) isNaN(+u) || "datalayer field missing" != n.get("cart.item." + u + ".productInfo.productID") && "datalayer field empty" != n.get("cart.item." + u + ".productInfo.productID") && (d.cart[n.get("cart.item." + u + ".productInfo.productID")] = {}, d.cart[n.get("cart.item." + u + ".productInfo.productID")] = n.get("cart.item." + u)); var m = Object.keys(d.cart); for (var b in n.get("transaction"), d.transaction = {}, n.get("transaction.-1.item")) isNaN(+u) || "datalayer field missing" != n.get("transaction.-1.item." + b + ".productInfo.productID") && "datalayer field empty" != n.get("transaction.-1.item." + b + ".productInfo.productID") && (d.transaction[n.get("transaction.-1.item." + b + ".productInfo.productID")] = {}, d.transaction[n.get("transaction.-1.item." + b + ".productInfo.productID")] = n.get("transaction.-1.item." + b)); var p = Object.keys(d.transaction); if (n.get("product").length > 0) for (var g in n.get("product")) if (!isNaN(+g)) {
                                var f = _satellite.getVar("productBuilder"), v = n.get("product." + g + ".category.productType"), h = n.get("product." + g + ".productInfo.productID", n.get("product." + g + ".attributes.mmdr")); f.id = h, a.indexOf(v) > -1 ? f.category = v : f.category = "datalayer field missing"; var P = +(((d.cart[h] || "").price || "").voucherDiscount || "0"), j = +(((d.cart[h] || "").price || "").priceWithTax || "0"), C = +n.get("transaction.-1.total.voucherDiscount", "0"), y = +n.get("transaction.-1.total.priceWithTax", "0"), w = n.get("product." + g + ".attributes.mmdr", n.get("product." + g + ".attributes.internalCode")), R = n.get("product." + g + ".attributes.mmdrVG", n.get("product." + g + ".attributes.internalCode")), x = n.get("product." + g + ".attributes.modelCode"); if (eVar10 = "G26E" == w || "G26E" == R || "71AW" == x || "31AW" == x ? "G26E" : "G70E" == w || "G70E" == R ? "G70E" : n.get("product." + g + ".attributes.mmdr", n.get("product." + g + ".attributes.internalCode")), "vehicle" == v || "new vehicle" == v || "used vehicle" == v) { var E = t(n.get("product." + g + ".attributes.fuelType")); f.merchEvars = { eVar10: eVar10, eVar44: n.get("product." + g + ".attributes.productionYear"), eVar45: n.get("product." + g + ".attributes.yearOfRegistration"), eVar46: n.get("product." + g + ".attributes.vehicleStatus", n.get("product." + g + ".attributes.vehicleSelection", n.get("product." + g + ".attributes.status"))), eVar47: n.get("product." + g + ".productInfo.color"), eVar48: n.get("product." + g + ".attributes.modelCode"), eVar49: n.get("product." + g + ".attributes.gearing"), eVar50: n.get("product." + g + ".attributes.series"), eVar51: n.get("product." + g + ".attributes.bodyType"), eVar52: n.get("product." + g + ".productInfo.productName", n.get("product." + g + ".attributes.modelName")), eVar53: "model_navigation_hp" == n.get("event.-1.attributes.relatedComponent.componentInfo.componentName") ? "new car" : n.get("product." + g + ".category.primaryCategory"), eVar54: n.get("product." + g + ".category.subCategory1"), eVar55: n.get("product." + g + ".category.subCategory2"), eVar56: E, eVar57: n.get("product." + g + ".attributes.hybridVersion"), eVar58: n.get("product." + g + ".attributes.motorization", n.get("product." + g + ".attributes.engine")), eVar59: n.get("product." + g + ".attributes.configID", n.get("product." + g + ".attributes.configLink")), eVar60: n.get("product." + g + ".productInfo.manufacturer", ((d.cart[h] || "").productInfo || "").manufacturer || ""), eVar65: n.get("product." + g + ".attributes.modelName"), eVar66: n.get("product." + g + ".attributes.trimLevel"), eVar69: n.get("product." + g + ".attributes.modelCodeAG"), eVar121: ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode ? ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode || "" : n.get("transaction.-1.total.voucherCode", n.get("cart.price.voucherCode")), eVar124: ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate ? ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate || "" : n.get("cart.price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }; var T = ["event801=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event802=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event803=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event804=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event805=" + +n.get("product." + g + ".attributes.fin.term", "0"), "event806=" + +n.get("product." + g + ".attributes.fin.mileage", "0"), "event807=0", "event808=0", "event831=" + (((d.cart[h] || "").price || "").basePrice || "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + +(((d.cart[h] || "").price || "").taxRate || "0"), "event835=" + (((d.cart[h] || "").price || "").taxRate || "0"), "event836=" + (((d.cart[h] || "").price || "").priceWithTax || "0"), "event837=" + (((d.transaction[h] || "").price || "").shipping || "0"), "event858=" + ((d.cart[h] || "").quantity || "0")]; f.events = T, f.quantity = (d.cart[h] || "").quantity || "0", f.price = ((d.cart[h] || "").price || "").priceWithTax || "0", s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858") } else "Related Service / Finance" == v || "service" == v ? (E = t(n.get("product." + o + ".attributes.fuelType", n.get("product." + g + ".attributes.fuelType"))), f.merchEvars = { eVar52: n.get("product." + g + ".productInfo.productName"), eVar53: n.get("product." + g + ".category.primaryCategory"), eVar54: n.get("product." + g + ".category.subCategory1"), eVar55: n.get("product." + g + ".category.subCategory2"), eVar84: n.get("product." + g + ".attributes.fin.downPayment"), eVar85: n.get("product." + g + ".attributes.fin.mileage"), eVar86: n.get("product." + g + ".attributes.fin.monthlyPayment"), eVar87: n.get("product." + g + ".attributes.fin.term"), eVar10: n.get("product." + o + ".attributes.mmdr", n.get("product." + o + ".attributes.internalCode", n.get("product." + g + ".attributes.mmdr", n.get("product." + g + ".attributes.internalCode")))), eVar44: n.get("product." + o + ".attributes.productionYear", n.get("product." + g + ".attributes.productionYear")), eVar45: n.get("product." + o + ".attributes.yearOfRegistration", n.get("product." + g + ".attributes.yearOfRegistration")), eVar46: n.get("product." + o + ".attributes.vehicleStatus", n.get("product." + o + ".attributes.vehicleSelection", n.get("product." + g + ".attributes.vehicleStatus", n.get("product." + g + ".attributes.vehicleSelection", n.get("product." + o + ".attributes.status"))))), eVar47: n.get("product." + o + ".productInfo.color", n.get("product." + g + ".productInfo.color")), eVar48: n.get("product." + o + ".attributes.modelCode", n.get("product." + g + ".attributes.modelCode")), eVar49: n.get("product." + o + ".attributes.gearing", n.get("product." + g + ".attributes.gearing")), eVar50: n.get("product." + o + ".attributes.series", n.get("product." + g + ".attributes.series")), eVar51: n.get("product." + o + ".attributes.bodyType", n.get("product." + g + ".attributes.bodyType")), eVar56: E, eVar57: n.get("product." + o + ".attributes.hybridVersion", n.get("product." + g + ".attributes.hybridVersion")), eVar58: n.get("product." + o + ".attributes.motorization", n.get("product." + o + ".attributes.engine", n.get("product." + g + ".attributes.motorization", n.get("product." + g + ".attributes.engine")))), eVar59: n.get("product." + o + ".attributes.configID", n.get("product." + o + ".attributes.configLink", n.get("product." + g + ".attributes.configID", n.get("product." + g + ".attributes.configLink")))), eVar60: n.get("product." + o + ".productInfo.manufacturer", ((d.cart[h] || "").productInfo || "").manufacturer || ""), eVar65: n.get("product." + o + ".attributes.modelName", n.get("product." + g + ".attributes.modelName")), eVar66: n.get("product." + o + ".attributes.trimLevel", n.get("product." + g + ".attributes.trimLevel")), eVar69: n.get("product." + o + ".attributes.modelCodeAG", n.get("product." + g + ".attributes.modelCodeAG")), eVar121: ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode ? ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode || "" : n.get("transaction.-1.total.voucherCode", n.get("cart.price.voucherCode")), eVar124: ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate ? ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate || "" : n.get("cart.price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event801=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event802=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event803=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event804=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event805=" + +n.get("product." + g + ".attributes.fin.term", "0"), "event806=" + +n.get("product." + g + ".attributes.fin.mileage", "0"), "event807=0", "event808=0", "event831=" + (((d.cart[h] || "").price || "").basePrice || "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + +(((d.cart[h] || "").price || "").taxRate || "0"), "event835=" + (((d.cart[h] || "").price || "").taxRate || "0"), "event836=" + (((d.cart[h] || "").price || "").priceWithTax || "0"), "event837=" + (((d.transaction[h] || "").price || "").shipping || "0"), "event858=" + ((d.cart[h] || "").quantity || "0")], f.events = T, f.quantity = (d.cart[h] || "").quantity || "0", f.price = ((d.cart[h] || "").price || "").priceWithTax || "0", s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")) : "Options & Accessory" != v && "after sales" != v || (E = t(n.get("product." + o + ".attributes.fuelType", n.get("product." + g + ".attributes.fuelType"))), f.merchEvars = { eVar52: n.get("product." + g + ".productInfo.productName"), eVar53: n.get("product." + g + ".category.primaryCategory"), eVar54: n.get("product." + g + ".category.subCategory1"), eVar55: n.get("product." + g + ".category.subCategory2"), eVar10: n.get("product." + o + ".attributes.mmdr", n.get("product." + o + ".attributes.internalCode", n.get("product." + g + ".attributes.mmdr", n.get("product." + g + ".attributes.internalCode")))), eVar44: n.get("product." + o + ".attributes.productionYear", n.get("product." + g + ".attributes.productionYear")), eVar45: n.get("product." + o + ".attributes.yearOfRegistration", n.get("product." + g + ".attributes.yearOfRegistration")), eVar46: n.get("product." + o + ".attributes.vehicleStatus", n.get("product." + o + ".attributes.vehicleSelection", n.get("product." + g + ".attributes.vehicleStatus", n.get("product." + g + ".attributes.vehicleSelection", n.get("product." + o + ".attributes.status"))))), eVar47: n.get("product." + o + ".productInfo.color", n.get("product." + g + ".productInfo.color")), eVar48: n.get("product." + o + ".attributes.modelCode", n.get("product." + g + ".attributes.modelCode")), eVar49: n.get("product." + o + ".attributes.gearing", n.get("product." + g + ".attributes.gearing")), eVar50: n.get("product." + o + ".attributes.series", n.get("product." + g + ".attributes.series")), eVar51: n.get("product." + o + ".attributes.bodyType", n.get("product." + g + ".attributes.bodyType")), eVar56: E, eVar57: n.get("product." + o + ".attributes.hybridVersion", n.get("product." + g + ".attributes.hybridVersion")), eVar58: n.get("product." + o + ".attributes.motorization", n.get("product." + o + ".attributes.engine", n.get("product." + g + ".attributes.motorization", n.get("product." + g + ".attributes.engine")))), eVar59: n.get("product." + o + ".attributes.configID", n.get("product." + o + ".attributes.configLink", n.get("product." + g + ".attributes.configID", n.get("product." + g + ".attributes.configLink")))), eVar60: n.get("product." + o + ".productInfo.manufacturer", ((d.cart[h] || "").productInfo || "").manufacturer || ""), eVar65: n.get("product." + o + ".attributes.modelName", n.get("product." + g + ".attributes.modelName")), eVar66: n.get("product." + o + ".attributes.trimLevel", n.get("product." + g + ".attributes.trimLevel")), eVar69: n.get("product." + o + ".attributes.modelCodeAG", n.get("product." + g + ".attributes.modelCodeAG")), eVar121: ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode ? ((d.transaction[h] || "").price || "").voucherCode || ((d.cart[h] || "").price || "").voucherCode || "" : n.get("transaction.-1.total.voucherCode", n.get("cart.price.voucherCode")), eVar124: ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate ? ((d.transaction[h] || "").price || "").taxRate || ((d.cart[h] || "").price || "").taxRate || "" : n.get("cart.price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event801=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event802=" + +n.get("product." + g + ".attributes.fin.downPayment", "0"), "event803=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event804=" + +n.get("product." + g + ".attributes.fin.monthlyPayment", "0"), "event805=" + +n.get("product." + g + ".attributes.fin.term", "0"), "event806=" + +n.get("product." + g + ".attributes.fin.mileage", "0"), "event807=0", "event808=0", "event831=" + (((d.cart[h] || "").price || "").basePrice || "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + +(((d.cart[h] || "").price || "").taxRate || "0"), "event835=" + (((d.cart[h] || "").price || "").taxRate || "0"), "event836=" + (((d.cart[h] || "").price || "").priceWithTax || "0"), "event837=" + (((d.transaction[h] || "").price || "").shipping || "0"), "event858=" + ((d.cart[h] || "").quantity || "0")], f.events = T, f.quantity = (d.cart[h] || "").quantity || "0", f.price = ((d.cart[h] || "").price || "").priceWithTax || "0", s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")); "new car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "new bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "preorder car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "new vehicle"), "used car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "used bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "used vehicle"),
                                    "oneshop" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory configurator" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "service request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "ride and style" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "online appointment scheduler" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "after sales"), "rental car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "rental bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "other"), r += f.toString() + ","
                            } var I = e(m, l); if (I && I.length > 0) { var _ = {}; for (var c in I) if (!isNaN(+c)) for (var u in n.get("cart.item")) isNaN(+u) || I[c] == n.get("cart.item." + u + ".productInfo.productID") && (_[I[c]] = u); for (var g in I) isNaN(+g) || (f = _satellite.getVar("productBuilder"), v = n.get("cart.item." + _[I[g]] + ".category.productType"), h = n.get("cart.item." + _[I[g]] + ".productInfo.productID"), f.id = h, a.indexOf(v) > -1 ? f.category = v : f.category = "datalayer field missing", P = +n.get("cart.item." + _[I[g]] + ".price.voucherDiscount", "0"), j = +n.get("cart.item." + _[I[g]] + ".price.priceWithTax", "0"), C = +n.get("transaction.-1.total.voucherDiscount", "0"), y = +n.get("transaction.-1.total.priceWithTax", "0"), "vehicle" == v || "new vehicle" == v || "used vehicle" == v || "Related Service / Finance" == v || "service" == v ? (E = t(n.get("product." + i[h] + ".attributes.fuelType")), f.merchEvars = { eVar52: n.get("cart.item." + _[I[g]] + ".productInfo.productName"), eVar10: n.get("product." + i[h] + ".attributes.mmdr", n.get("product." + i[h] + ".attributes.internalCode")), eVar44: n.get("product." + i[h] + ".attributes.productionYear"), eVar45: n.get("product." + i[h] + ".attributes.yearOfRegistration"), eVar46: n.get("product." + i[h] + ".attributes.vehicleStatus", n.get("product." + i[h] + ".attributes.vehicleSelection", n.get("product." + i[h] + ".attributes.status"))), eVar47: n.get("product." + i[h] + ".productInfo.color"), eVar48: n.get("product." + i[h] + ".attributes.modelCode"), eVar49: n.get("product." + i[h] + ".attributes.gearing"), eVar50: n.get("product." + i[h] + ".attributes.series"), eVar51: n.get("product." + i[h] + ".attributes.bodyType"), eVar56: E, eVar57: n.get("product." + i[h] + ".attributes.hybridVersion"), eVar58: n.get("product." + i[h] + ".attributes.motorization", n.get("product." + i[h] + ".attributes.engine")), eVar59: n.get("product." + i[h] + ".attributes.configID", n.get("product." + i[h] + ".attributes.configLink")), eVar60: n.get("product." + i[h] + ".productInfo.manufacturer"), eVar65: n.get("product." + i[h] + ".attributes.modelName"), eVar66: n.get("product." + i[h] + ".attributes.trimLevel"), eVar69: n.get("product." + i[h] + ".attributes.modelCodeAG"), eVar121: n.get("cart.item." + _[I[g]] + ".price.voucherCode", n.get("cart.price.voucherCode")), eVar124: n.get("cart.item." + _[I[g]] + ".price.taxRate", n.get("cart.price.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event831=" + n.get("cart.item." + _[I[g]] + ".price.basePrice", "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + n.get("cart.item." + _[I[g]] + ".price.taxRate", "0"), "event835=" + n.get("cart.item." + _[I[g]] + ".price.taxRate", "0"), "event836=" + n.get("cart.item." + _[I[g]] + ".price.priceWithTax", "0"), "event837=" + (((d.transaction[h] || "").price || "").shipping || "0"), "event858=" + n.get("cart.item." + _[I[g]] + ".quantity", "0")], f.events = T, f.quantity = n.get("cart.item." + _[I[g]] + ".quantity", "0"), f.price = n.get("cart.item." + _[I[g]] + ".price.priceWithTax", "0"), s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event831,event832,event833,event834,event835,event836,event837,event858")) : "Options & Accessory" != v && "after sales" != v || (E = t(n.get("product." + i[h] + ".attributes.fuelType")), f.merchEvars = { eVar52: n.get("cart.item." + _[I[g]] + ".productInfo.productName"), eVar53: n.get("cart.item." + _[I[g]] + ".category.primaryCategory"), eVar54: n.get("cart.item." + _[I[g]] + ".category.subCategory1"), eVar10: n.get("product." + i[h] + ".attributes.mmdr", n.get("product." + i[h] + ".attributes.internalCode")), eVar44: n.get("product." + i[h] + ".attributes.productionYear"), eVar45: n.get("product." + i[h] + ".attributes.yearOfRegistration"), eVar46: n.get("product." + i[h] + ".attributes.vehicleStatus", n.get("product." + i[h] + ".attributes.vehicleSelection", n.get("product." + i[h] + ".attributes.status"))), eVar47: n.get("product." + i[h] + ".productInfo.color"), eVar48: n.get("product." + i[h] + ".attributes.modelCode"), eVar49: n.get("product." + i[h] + ".attributes.gearing"), eVar50: n.get("product." + i[h] + ".attributes.series"), eVar51: n.get("product." + i[h] + ".attributes.bodyType"), eVar56: E, eVar57: n.get("product." + i[h] + ".attributes.hybridVersion"), eVar58: n.get("product." + i[h] + ".attributes.motorization", n.get("product." + i[h] + ".attributes.engine")), eVar59: n.get("product." + i[h] + ".attributes.configID", n.get("product." + i[h] + ".attributes.configLink")), eVar60: n.get("product." + i[h] + ".productInfo.manufacturer"), eVar65: n.get("product." + i[h] + ".attributes.modelName"), eVar66: n.get("product." + i[h] + ".attributes.trimLevel"), eVar69: n.get("product." + i[h] + ".attributes.modelCodeAG"), eVar121: n.get("cart.item." + _[I[g]] + ".price.voucherCode", n.get("cart.price.voucherCode")), eVar124: n.get("cart.item." + _[I[g]] + ".price.taxRate", n.get("cart.price.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event831=" + n.get("cart.item." + _[I[g]] + ".price.basePrice", "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + n.get("cart.item." + _[I[g]] + ".price.taxRate", "0"), "event835=" + n.get("cart.item." + _[I[g]] + ".price.taxRate", "0"), "event836=" + n.get("cart.item." + _[I[g]] + ".price.priceWithTax", "0"), "event837=" + (((d.transaction[h] || "").price || "").shipping || "0"), "event858=" + n.get("cart.item." + _[I[g]] + ".quantity", "0")], f.events = T, f.quantity = n.get("cart.item." + _[I[g]] + ".quantity", "0"), f.price = n.get("cart.item." + _[I[g]] + ".price.priceWithTax", "0"), s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event831,event832,event833,event834,event835,event836,event837,event858")), "new car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "new bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "preorder car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "new vehicle"), "used car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "used bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "used vehicle"), "oneshop" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory configurator" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "service request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "ride and style" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "online appointment scheduler" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "after sales"), "rental car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "rental bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "other"), r += f.toString() + ",") } var A = e(p, l); if (A && A.length > 0) { var k = {}; for (var c in A) if (!isNaN(+c)) for (var u in n.get("transaction.-1.item")) isNaN(+u) || A[c] == n.get("transaction.-1.item." + u + ".productInfo.productID") && (k[A[c]] = u); for (var g in A) isNaN(+g) || (f = _satellite.getVar("productBuilder"), v = n.get("transaction.-1.item." + k[A[g]] + ".category.productType"), h = n.get("transaction.-1.item." + k[A[g]] + ".productInfo.productID"), f.id = h, a.indexOf(v) > -1 ? f.category = v : f.category = "datalayer field missing", P = +n.get("transaction.-1.item." + k[A[g]] + ".price.voucherDiscount", "0"), j = +n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), C = +n.get("transaction.-1.total.voucherDiscount", "0"), y = +n.get("transaction.-1.total.priceWithTax", "0"), "vehicle" == v || "new vehicle" == v || "used vehicle" == v ? (E = t(n.get("product." + i[h] + ".attributes.fuelType")), f.merchEvars = { eVar52: n.get("transaction.-1.item." + k[A[g]] + ".productInfo.productName"), eVar53: n.get("transaction.-1.item." + k[A[g]] + ".category.primaryCategory"), eVar54: n.get("transaction.-1.item." + k[A[g]] + ".category.subCategory1"), eVar10: n.get("product." + i[h] + ".attributes.mmdr", n.get("product." + i[h] + ".attributes.internalCode")), eVar44: n.get("product." + i[h] + ".attributes.productionYear"), eVar45: n.get("product." + i[h] + ".attributes.yearOfRegistration"), eVar46: n.get("product." + i[h] + ".attributes.vehicleStatus", n.get("product." + i[h] + ".attributes.vehicleSelection", n.get("product." + i[h] + ".attributes.status"))), eVar47: n.get("product." + i[h] + ".productInfo.color"), eVar48: n.get("product." + i[h] + ".attributes.modelCode"), eVar49: n.get("product." + i[h] + ".attributes.gearing"), eVar50: n.get("product." + i[h] + ".attributes.series"), eVar51: n.get("product." + i[h] + ".attributes.bodyType"), eVar56: E, eVar57: n.get("product." + i[h] + ".attributes.hybridVersion"), eVar58: n.get("product." + i[h] + ".attributes.motorization", n.get("product." + i[h] + ".attributes.engine")), eVar59: n.get("product." + i[h] + ".attributes.configID", n.get("product." + i[h] + ".attributes.configLink")), eVar60: n.get("product." + i[h] + ".productInfo.manufacturer"), eVar65: n.get("product." + i[h] + ".attributes.modelName"), eVar66: n.get("product." + i[h] + ".attributes.trimLevel"), eVar69: n.get("product." + i[h] + ".attributes.modelCodeAG"), eVar121: n.get("transaction.-1.item." + k[A[g]] + ".price.voucherCode", n.get("transaction.-1.total.voucherCode")), eVar124: n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event831=" + n.get("transaction.-1.item." + k[A[g]] + ".price.basePrice", "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event835=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event836=" + n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), "event837=" + n.get("transaction.-1.item." + k[A[g]] + ".price.shipping", "0"), "event858=" + n.get("transaction.-1.item." + k[A[g]] + ".quantity", "0")], f.events = T, f.quantity = n.get("transaction.-1.item." + k[A[g]] + ".quantity", "0"), f.price = n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event831,event832,event833,event834,event835,event836,event837,event858")) : "Related Service / Finance" == v || "service" == v ? (E = t(n.get("product." + i[h] + ".attributes.fuelType")), f.merchEvars = { eVar52: n.get("transaction.-1.item." + k[A[g]] + ".productInfo.productName"), eVar53: n.get("transaction.-1.item." + k[A[g]] + ".category.primaryCategory"), eVar54: n.get("transaction.-1.item." + k[A[g]] + ".category.subCategory1"), eVar10: n.get("product." + i[h] + ".attributes.mmdr", n.get("product." + i[h] + ".attributes.internalCode")), eVar44: n.get("product." + i[h] + ".attributes.productionYear"), eVar45: n.get("product." + i[h] + ".attributes.yearOfRegistration"), eVar46: n.get("product." + i[h] + ".attributes.vehicleStatus", n.get("product." + i[h] + ".attributes.vehicleSelection", n.get("product." + i[h] + ".attributes.status"))), eVar47: n.get("product." + i[h] + ".productInfo.color"), eVar48: n.get("product." + i[h] + ".attributes.modelCode"), eVar49: n.get("product." + i[h] + ".attributes.gearing"), eVar50: n.get("product." + i[h] + ".attributes.series"), eVar51: n.get("product." + i[h] + ".attributes.bodyType"), eVar56: E, eVar57: n.get("product." + i[h] + ".attributes.hybridVersion"), eVar58: n.get("product." + i[h] + ".attributes.motorization", n.get("product." + i[h] + ".attributes.engine")), eVar59: n.get("product." + i[h] + ".attributes.configID", n.get("product." + i[h] + ".attributes.configLink")), eVar60: n.get("product." + i[h] + ".productInfo.manufacturer"), eVar65: n.get("product." + i[h] + ".attributes.modelName"), eVar66: n.get("product." + i[h] + ".attributes.trimLevel"), eVar69: n.get("product." + i[h] + ".attributes.modelCodeAG"), eVar121: n.get("transaction.-1.item." + k[A[g]] + ".price.voucherCode", n.get("transaction.-1.total.voucherCode")), eVar124: n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event831=" + n.get("transaction.-1.item." + k[A[g]] + ".price.basePrice", "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event835=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event836=" + n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), "event837=" + n.get("transaction.-1.item." + k[A[g]] + ".price.shipping", "0"), "event858=" + n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0")], f.events = T, f.quantity = n.get("transaction.-1.item." + k[A[g]] + ".quantity", "0"), f.price = n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event831,event832,event833,event834,event835,event836,event837,event858")) : "Options & Accessory" != v && "after sales" != v || (E = t(n.get("product." + i[h] + ".attributes.fuelType")), f.merchEvars = { eVar52: n.get("transaction.-1.item." + k[A[g]] + ".productInfo.productName"), eVar53: n.get("transaction.-1.item." + k[A[g]] + ".category.primaryCategory"), eVar54: n.get("transaction.-1.item." + k[A[g]] + ".category.subCategory1"), eVar10: n.get("product." + i[h] + ".attributes.mmdr", n.get("product." + i[h] + ".attributes.internalCode")), eVar44: n.get("product." + i[h] + ".attributes.productionYear"), eVar45: n.get("product." + i[h] + ".attributes.yearOfRegistration"), eVar46: n.get("product." + i[h] + ".attributes.vehicleStatus", n.get("product." + i[h] + ".attributes.vehicleSelection", n.get("product." + i[h] + ".attributes.status"))), eVar47: n.get("product." + i[h] + ".productInfo.color"), eVar48: n.get("product." + i[h] + ".attributes.modelCode"), eVar49: n.get("product." + i[h] + ".attributes.gearing"), eVar50: n.get("product." + i[h] + ".attributes.series"), eVar51: n.get("product." + i[h] + ".attributes.bodyType"), eVar56: E, eVar57: n.get("product." + i[h] + ".attributes.hybridVersion"), eVar58: n.get("product." + i[h] + ".attributes.motorization", n.get("product." + i[h] + ".attributes.engine")), eVar59: n.get("product." + i[h] + ".attributes.configID", n.get("product." + i[h] + ".attributes.configLink")), eVar60: n.get("product." + i[h] + ".productInfo.manufacturer"), eVar65: n.get("product." + i[h] + ".attributes.modelName"), eVar66: n.get("product." + i[h] + ".attributes.trimLevel"), eVar69: n.get("product." + i[h] + ".attributes.modelCodeAG"), eVar121: n.get("transaction.-1.item." + k[A[g]] + ".price.voucherCode", n.get("transaction.-1.total.voucherCode")), eVar124: n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", n.get("transaction.-1.total.taxRate")), eVar126: n.get("transaction.-1.total.shippingMethod") }, T = ["event831=" + n.get("transaction.-1.item." + k[A[g]] + ".price.basePrice", "0"), "event832=" + (P < 0 ? + +j * P / j : P), "event833=" + (P < 0 ? +j * P : P), "event834=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event835=" + n.get("transaction.-1.item." + k[A[g]] + ".price.taxRate", "0"), "event836=" + n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), "event837=" + n.get("transaction.-1.item." + k[A[g]] + ".price.shipping", "0"), "event858=" + n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0")], f.events = T, f.quantity = n.get("transaction.-1.item." + k[A[g]] + ".quantity", "0"), f.price = n.get("transaction.-1.item." + k[A[g]] + ".price.priceWithTax", "0"), s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858") < 0 && (s.linkTrackEvents += ",event831,event832,event833,event834,event835,event836,event837,event858", s.events += ",event831,event832,event833,event834,event835,event836,event837,event858")), "new car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "new bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "preorder car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "new vehicle"), "used car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "used bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "finance" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "used vehicle"), "oneshop" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "con options" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory configurator" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "accessory request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "service request" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "owned bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "ride and style" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "online appointment scheduler" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "after sales"), "rental car" != n.get("product." + g + ".category.primaryCategory").toLowerCase() && "rental bike" != n.get("product." + g + ".category.primaryCategory").toLowerCase() || (f.category = "other"), r += f.toString() + ",") } null != s.products ? s.products += r.slice(0, -1) : s.products = r.slice(0, -1), "undefined" != s.products && (s.linkTrackVars += "products,"), s.events = s.apl(s.events, "event841=" + n.get("cart.price.basePrice", n.get("transaction.-1.total.basePrice", "0")), ",", 1), "datalayer field empty" != n.get("transaction.-1.total.taxRate") && "datalayer field missing" != n.get("transaction.-1.total.taxRate") ? (s.events = s.apl(s.events, "event842=" + ((C < 0 ? + +y * C / y : C) || "0"), ",", 1), s.events = s.apl(s.events, "event843=" + ((C < 0 ? +y * C : C) || "0"), ",", 1)) : (s.events = s.apl(s.events, "event842=" + ((P < 0 ? + +j * P / j : P) || "0"), ",", 1), s.events = s.apl(s.events, "event843=" + ((P < 0 ? +j * P : P) || "0"), ",", 1)), s.events = s.apl(s.events, "event844=" + n.get("cart.price.taxRate", n.get("transaction.-1.total.taxRate", "0")), ",", 1), s.events = s.apl(s.events, "event845=" + n.get("cart.price.taxRate", n.get("transaction.-1.total.taxRate", "0")), ",", 1), s.events = s.apl(s.events, "event846=" + n.get("cart.price.priceWithTax", n.get("transaction.-1.total.priceWithTax", "0")), ",", 1), s.events = s.apl(s.events, "event847=" + n.get("cart.price.shipping", n.get("transaction.-1.total.shipping", "0")), ",", 1), s.events = s.apl(s.events, "event848=" + n.get("cart.price.cartTotal", n.get("transaction.-1.total.transactionTotal", "0")), ",", 1), s.eVar120 = n.get("cart.cartID"), s.eVar122 = n.get("page.attributes.currencyCode", n.get("transaction.-1.total.currency", n.get("cart.price.currency"))), s.eVar123 = n.get("transaction.-1.attributes.paymentMethod"), s.eVar125 = n.get("transaction.-1.transactionID"), s.linkTrackVars += "eVar120,eVar122,eVar123,eVar125,"
                        } catch (e) { var L = { from: "AA", type: "DE", name: "setProductString" }; _satellite.logger.error(e, L) }
                    }
                }
            }
        }, "AA-contextData": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return function () { var e = new Date, t = e.getUTCFullYear().toString(), s = (e.getUTCMonth() + 1).toString(), a = e.getUTCDate().toString(); 1 == s.length && (s = "0" + (e.getUTCMonth() + 1).toString()), 1 == a.length && (a = "0" + e.getUTCDate().toString()); var o = document.location.hostname.split(".").pop().toUpperCase(); return base_context = t + "_" + s + "_" + a + "_" + o, base_context + "_A," + base_context + "_W," + base_context + "_I," + base_context + "_E" } } catch (t) { var e = { from: "AA", type: "DE", name: "AA-contextData" }; _satellite.logger.error(t, e) } } } }, "DL-full": { modulePath: "gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js", settings: { path: "" } }, geoRegion: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("snapshotDL"); if (void 0 !== e.page) return e.page.pageInfo.geoRegion; var t = location.hostname; if (t.indexOf("bmwusa.com") > -1) return "US"; var s = t.split("."), a = s[s.length - 1]; return a = a.toUpperCase() } catch (e) { } } } }, ev_cat_subCategory02: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1, s = e.event[t].category.subCategory02, a = _satellite.getVar("ev_cat_subCategory04"), o = _satellite.getVar("topLevelDomain"); return null != s && "" != s || (s = "Generic"), "bmw.com.tr" != o && "bmw.co.jp" != o && "bmw-antilles.fr" != o || null != a && "" != a && "not set" != a && (s = "Campaign"), s } catch (e) { } } } }, usabilla_randomizer: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i) ? "MOBILE" : "DESKTOP", t = _satellite.getVar("topLevelDomain").split("."), s = t[t.length - 1].toUpperCase(); "UK" == s && (s = "GB"), "COM" == s && window.location.href.indexOf("bmw.com/en-au/") > -1 && (s = "AU"); var a, o = ["DE", "GB", "JP", "IT", "FR", "ES", "RU", "KR", "AU", "NL", "AT", "CN", "ZA", "CA", "MX", "TR", "PL"], n = { DE: { buttonCode: { DESKTOP: "717a962d4119", MOBILE: "f1b470d22f7a" }, NPS: { DESKTOP: "2be734de4b9d", MOBILE: "b98ad465df21" }, CES: { DESKTOP: "6aa30e439095", MOBILE: "b2a59b55f7e5" }, random: { NPS: 12, CES: 0, Psyma: 50, Other: 38 } }, GB: { buttonCode: { DESKTOP: "344487c265ed", MOBILE: "20bbdbc71ef3" }, NPS: { DESKTOP: "9f455d2a3f1c", MOBILE: "59c2f57087a8" }, CES: { DESKTOP: "d8e35ac4209c", MOBILE: "b435abb11ac3" }, random: { NPS: 20, CES: 0, Psyma: 60, Other: 20 } }, JP: { buttonCode: { DESKTOP: "92977586f250", MOBILE: "d84bdb2f1964" }, NPS: { DESKTOP: "85a49479c91e", MOBILE: "101f944c997e" }, CES: { DESKTOP: "7552071ac07b", MOBILE: "f25819ad1a04" }, random: { NPS: 20, CES: 0, Psyma: 56, Other: 24 } }, IT: { buttonCode: { DESKTOP: "88ab5d53da60", MOBILE: "8e1a4fcc286b" }, NPS: { DESKTOP: "c4a8ccbec600", MOBILE: "73fa346d403b" }, CES: { DESKTOP: "0aae4c00330a", MOBILE: "ace839b972fd" }, random: { NPS: 10, CES: 0, Psyma: 46, Other: 44 } }, FR: { buttonCode: { DESKTOP: "3bf8867012f2", MOBILE: "951604100fda" }, NPS: { DESKTOP: "53a5a4717277", MOBILE: "142a6bc45942" }, CES: { DESKTOP: "4d3f63b653fb", MOBILE: "aeaa7d432539" }, random: { NPS: 80, CES: 0, Psyma: 0, Other: 20 } }, ES: { buttonCode: { DESKTOP: "8445c5a2cf12", MOBILE: "3008841f7269" }, NPS: { DESKTOP: "7e88e6163a4c", MOBILE: "cd793f80bda6" }, CES: { DESKTOP: "879b46cf88f5", MOBILE: "4ac2bb513106" }, random: { NPS: 26, CES: 0, Psyma: 52, Other: 22 } }, RU: { buttonCode: { DESKTOP: "92772dbeabd8", MOBILE: "dbbd8c96c68a" }, NPS: { DESKTOP: "3cda55b4e6d0", MOBILE: "a0870a2972f6" }, CES: { DESKTOP: "1db9cb311c93", MOBILE: "a003194dfdc8" }, random: { NPS: 15, CES: 0, Psyma: 0, Other: 85 } }, KR: { buttonCode: { DESKTOP: "4583de3025fe", MOBILE: "51af9d4cb9c0" }, NPS: { DESKTOP: "10ff397b6d5f", MOBILE: "95decc55e2ef" }, CES: { DESKTOP: "635e47f55055", MOBILE: "93d523f3d22d" }, random: { NPS: 25, CES: 0, Psyma: 0, Other: 75 } }, AU: { buttonCode: { DESKTOP: "c8476b2d62dd", MOBILE: "d4b7a77bec58" }, NPS: { DESKTOP: "e77a23160463", MOBILE: "882cd879928f" }, CES: { DESKTOP: "343b84a4e928", MOBILE: "fd25e25af4f3" }, random: { NPS: 20, CES: 0, Psyma: 0, Other: 80 } }, NL: { buttonCode: { DESKTOP: "44b55d42df13", MOBILE: "08982312381f" }, NPS: { DESKTOP: "2979a4502fba", MOBILE: "363c153bc496" }, CES: { DESKTOP: "d29bcee79e5e", MOBILE: "fa3ac53564d7" }, random: { NPS: 75, CES: 0, Psyma: 0, Other: 25 } }, AT: { buttonCode: { DESKTOP: "fd1b75fa05a4", MOBILE: "3d1326b2e2da" }, NPS: { DESKTOP: "63dc33967e95", MOBILE: "d9969ae1bed5" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 30, CES: 0, Psyma: 0, Other: 70 } }, CN: { buttonCode: { DESKTOP: "cd813f067481", MOBILE: "19b6fbe6d646" }, NPS: { DESKTOP: "ac90b5319d03", MOBILE: "28642a3ff0e4" }, CES: { DESKTOP: "71255a3f180f", MOBILE: "b67d3528c7ad" }, random: { NPS: 85, CES: 0, Psyma: 0, Other: 15 } }, ZA: { buttonCode: { DESKTOP: "e76b03c4d193", MOBILE: "25da3549cea1" }, NPS: { DESKTOP: "82d8573d931c", MOBILE: "e9ae4da2cac2" }, CES: { DESKTOP: "c68833e0a2d2", MOBILE: "7c9b7e333fe0" }, random: { NPS: 50, CES: 0, Psyma: 35, Other: 15 } }, CA: { buttonCode: { DESKTOP: "dcd573f5e4a1", MOBILE: "b9dd99081c4c" }, NPS: { DESKTOP: "dcd573f5e4a1", MOBILE: "b9dd99081c4c" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 50, CES: 0, Psyma: 0, Other: 50 } }, MX: { buttonCode: { DESKTOP: "f82528fdac10", MOBILE: "8ec1fdf9f06b" }, NPS: { DESKTOP: "f82528fdac10", MOBILE: "8ec1fdf9f06b" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 99, CES: 0, Psyma: 0, Other: 1 } }, TR: { buttonCode: { DESKTOP: "189bcbdfa0ad", MOBILE: "6996786467b6" }, NPS: { DESKTOP: "189bcbdfa0ad", MOBILE: "6996786467b6" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 99, CES: 0, Psyma: 0, Other: 1 } }, PL: { buttonCode: { DESKTOP: "d3bfaa402165", MOBILE: "bf451d583c95" }, NPS: { DESKTOP: "", MOBILE: "" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 0, CES: 0, Psyma: 0, Other: 100 } } }, r = (null == (m = epaas.api.getPersistence("bmwdtm_hq_vs")) && (m = Math.floor(Date.now() / 1e3), o.indexOf(s) > -1 && epaas.api.setPersistence("bmwdtm_hq_vs", m)), void 0 !== epaas.api.getPersistence("bmwdtm_hq_vs") && null != epaas.api.getPersistence("bmwdtm_hq_vs") && (u = epaas.api.getPersistence("bmwdtm_hq_vs").slice(-2)), u = +u); if (a = n[s] ? function (e, t, s, a, o) { if (t + s + a + o == 100) return e >= 0 && e < t ? "NPS" : e >= t && e < t + s ? "CES" : e >= t + s && e < t + s + a ? "PSYMA" : e >= t + s + a && e < t + s + a + o ? "NO-SURVEY" : void 0 }(r, n[s].random.NPS, n[s].random.CES, n[s].random.Psyma, n[s].random.Other) : "NO-SURVEY", ("NPS" == a || "CES" == a) && o.indexOf(s) > -1) { var i, c, d = null != localStorage.getItem("usbl." + n[s].buttonCode[e] + ".c." + n[s].NPS[e]), l = null != localStorage.getItem("usbl." + n[s].buttonCode[e] + ".c." + n[s].CES[e]); return i = !d || "T" != localStorage.getItem("usbl." + n[s].buttonCode[e] + ".c." + n[s].NPS[e]).split("/")[0], c = !l || "T" != localStorage.getItem("usbl." + n[s].buttonCode[e] + ".c." + n[s].CES[e]).split("/")[0], i && c && o.indexOf(s) > -1 ? a : "NO-SURVEY" } return a } catch (e) { _satellite.logger.error(e) } var u, m } } }, setTronEvent: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("snapshotDL"), t = e.get("page.pageInfo.pageName"), a = e.get("page.category.subCategory1", e.get("page.category.subCategory01")), o = e.get("event.eventInfo.eventAction", e.get("event.-1.eventInfo.eventAction")), n = e.get("event.eventInfo.eventName", e.get("event.-1.eventInfo.eventName")), r = e.get("event.eventInfo.type", e.get("event.-1.eventInfo.type")), i = e.get("event.eventInfo.effect", e.get("event.-1.eventInfo.effect")), c = e.get("event.attributes.media.totalLength", e.get("event.-1.attributes.media.totalLength")), d = e.get("event.attributes.media.currentTime", e.get("event.-1.attributes.media.currentTime")), l = e.get("component.category.primaryCategory", e.get("component.-1.category.primaryCategory")), u = e.get("component.componentInfo.componentName", e.get("component.-1.componentInfo.componentName")), m = (e.get("event.category.primaryCategory", e.get("event.-1.category.primaryCategory")), e.get("event.category.subCategory1", e.get("event.-1.category.subCategory1"))), b = e.get("event.category.subCategory2", e.get("event.-1.category.subCategory2")), p = e.get("event.category.subCategory3", e.get("event.-1.category.subCategory3")), g = { rao: ["event25,event26", "event27,event28"], rfa: ["event29,event30", "event31,event32"], rfc: ["event33,event34", "event35,event36"], rfcd: ["event37,event38", "event39,event40"], rfd: ["event41,event42", "event43,event44"], rfo: ["event61,event62", "event63,event64"], rfp: ["event65,event66", "event67,event68"], rfs: ["event69,event70", "event71,event72"], tda: ["event85,event86", "event87,event88"], "online tda": ["event89,event90", "event91,event92"], registration: ["event93,event94", "event95,event96"], campaign: ["event97,event98", "event99,event100"], rfi: ["event45,event46", "event47,event48"], download: ["event49,event50", "event51,event52"], generic: ["event53,event54", "event55,event56"], postal: ["event57,event58", "event59,event60"], roi: ["event73,event74", "event75,event76"], "keep me informed": ["event77,event78", "event79,event80"], newsletter: ["event81,event82", "event83,event84"], "fs rfo": ["event101,event102", "event103,event104"], loan: ["event105,event106", "event107,event108"], "operational lease": ["event109,event110", "event111,event112"], "private lease": ["event113,event114", "event115,event116"], quote: ["event117,event118", "event119,event120"], insurance: ["event121,event122", "event123,event124"], lead: ["event17,event18", "event19,event20"], handraiser: ["event21,event22", "event23,event24"], evt: ["event131,event132", "event133,event134"], sws: ["event135,event136", "event137,event138"] }, f = g[a.toLowerCase()], v = g[r.toLowerCase()], h = g[m.toLowerCase()], P = g[b.toLowerCase()], j = g[p.toLowerCase()]; i.indexOf("form started") > -1 || "Form Start" == n || "Form Start" == t ? (s.events = s.apl(s.events, "event3,event4"), null != j && (s.events = s.apl(s.events, j[0])), null != P && (s.events = s.apl(s.events, P[0])), null != v && (s.events = s.apl(s.events, v[0])), null != f && (s.events = s.apl(s.events, f[0])), null != h && (s.events = s.apl(s.events, h[0]))) : i.indexOf("form finished") > -1 || "Form Success" == n || "Form Start" == t ? (s.events = s.apl(s.events, "event15,event16"), null != j && (s.events = s.apl(s.events, j[1])), null != P && (s.events = s.apl(s.events, P[1])), null != v && (s.events = s.apl(sevents, v[1])), null != f && (s.events = s.apl(s.events, f[1])), null != h && (s.events = s.apl(s.events, h[1]))) : i.indexOf("form start intention") > -1 || "First Interaction" == n ? s.events = s.apl(s.events, "event5,event6,event917,event918") : i.indexOf("form step") > -1 || "Form Step" == n || "Form Step" == t ? s.events = s.apl(s.events, "event7,event8") : i.indexOf("form interaction") > -1 ? s.events = s.apl(s.events, "event9,event10,event917,event918") : i.indexOf("form finish intention") > -1 && (s.events = s.apl(s.events, "event13,event14,event917,event918")), "media started" == o || "video play" == o ? s.events = s.apl(s.events, "event351") : "media milestone reached" == o || o.indexOf("reached milestone") > -1 ? (s.events = s.apl(s.events, "event357=" + c), s.events = s.apl(s.events, "event358=" + d), i.indexOf("10%") > -1 && (s.events = s.apl(s.events, "event352")), i.indexOf("25%") > -1 && (s.events = s.apl(s.events, "event353")), i.indexOf("50%") > -1 && (s.events = s.apl(s.events, "event354")), i.indexOf("75%") > -1 && (s.events = s.apl(s.events, "event355")), i.indexOf("95%") > -1 && (s.events = s.apl(s.events, "event356"))) : "media finished" != o && "video stop" != o || (s.events = s.apl(s.events, "event359")); var C = { "e-mail": ["event901, event902"], download: ["event903, event904"], share: ["event905, event906"], call: ["event913, event914"], print: ["event915, event916"] }[o.toLowerCase()]; null != C && (s.events = s.apl(s.events, C[0])), "interaction" == n && (s.events = s.apl(s.events, "event917,event918")), "configurations" == l && "visualizer" == u && ("user started configuration" == i && (s.events = s.apl(s.events, "event311,event312")), "interaction" == n && (s.events = s.apl(s.events, "event313,event314")), "user finished configuration" == i && (s.events = s.apl(s.events, "event315,event316"))), s.linkTrackEvents += s.events, s.linkTrackVars += "events" } catch (e) { var y = { from: "AA", type: "DE", name: "setTronEvent" }; _satellite.logger.error(e, y) } } } }, "KIT-helpers": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js", settings: { helperTools: null } }, "AA-languageAndMarketWorkaround": {
            defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: {
                source: function () {
                    try {
                        var e = _satellite.getVar("topLevelDomain"), t = {
                            "bmw.com.al": "en-AL", "bmw.dz": "fr-DZ", "bmw.co.ao": "pt-AO", "bmw.am": "en-AM", "bmw.com.au": "en-AU", "bmw.at": "de-AT", "bmw.az": "ru-AZ", "bmw.bs": "en-BS", "bmw.bb": "en-BB", "bmw.by": "ru-BY", "bmw.bm": "en-BM", "bmw.com.bo": "es-BO", "bmw.ba": "hr-BA", "bmw.com.br": "pt-BR", "bmw.com.bn": "en-BN", "bmw.bg": "bg-BG", "bmw.com.ky": "en-KY", "bmw.cl": "es-CL", "bmw.com.cn": "zh-CN", "bmw.com.co": "es-CO", "bmw.co.cr": "es-CR", "bmw.com.cy": "en-CY", "bmw.cz": "cs-CZ", "bmw.dk": "da-DK", "bmw.com.do": "es-DO", "bmw.com.ec": "es-EC", "bmw-eg.com": "en-EG", "bmw.com.sv": "es-SV", "bmw.ee": "et-EE", "bmw.fi": "fi-FI", "bmw.fr": "fr-FR", "bmw.com.ge": "en-GE", "bmw.de": "de-DE", "bmw-ghana.com": "en-GH", "bmw.gr": "el-GR", "bmw-antilles.fr": "fr-GP", "bmw.com.gt": "es-GT", "bmw.ht": "en-HT", "bmw.hn": "es-HN", "bmwhk.com": "en-HK", "bmw.hu": "hu-HU", "bmw.is": "en-IS", "bmw.in": "en-IN", "bmw.co.id": "en-ID", "bmw-iraq.com": "en-IQ", "bmw.ie": "en-IE", "bmw.co.il": "iw-IL", "bmw.it": "it-IT", "bmwjamaica.com": "en-JM", "bmw.co.jp": "ja-JP",
                            "bmw.kz": "ru-KZ", "bmw.co.ke": "en-KE", "bmw.co.kr": "ko-KR", "bmw-lao.la": "en-LA", "bmw.re": "fr-RE", "bmw.lv": "lv-LV", "bmw-lebanon.com": "en-LB", "bmw.ly": "en-LY", "bmw.lt": "lt-LT", "bmw.com.mo": "en-MO", "bmw.com.mk": "mk-MK", "bmw.com.my": "en-MY", "bmw.com.mt": "en-MT", "bmw.mu": "en-MU", "bmw.com.mx": "es-MX", "bmw.md": "ro-MD", "bmw-voli.me": "sr-ME", "bmw.ma": "fr-MA", "bmwmyanmar.com": "en-MM", "bmw.nl": "nl-NL", "bmw.nc": "fr-NC", "bmw.co.nz": "en-NZ", "bmw.com.ni": "es-NI", "bmw-nigeria.com": "en-NG", "bmw.no": "no-NO", "bmw-pakistan.com": "en-PK", "bmw.com.pa": "es-PA", "bmw.com.py": "es-PY", "bmw.com.pe": "es-PE", "bmw.com.ph": "en-PH", "bmw.pl": "pl-PL", "bmw.pt": "pt-PT", "bmw.ro": "ro-RO", "bmw.ru": "ru-RU", "bmw.lc": "en-LC", "bmw.rs": "sr-RS", "bmw.com.sg": "en-SG", "bmw.sk": "sk-SK", "bmw.si": "sl-SI", "bmw.co.za": "en-ZA", "bmw.es": "es-ES", "bmw.lk": "en-LK", "bmw.sr": "en-SR", "bmw.se": "sv-SE", "bmw-tahiti.com": "fr-PF", "bmw.com.tw": "zh-TW", "bmw.tt": "en-TT", "bmw-tunisia.com": "fr-TN", "bmw.com.tr": "tr-TR", "bmw.ua": "uk-UA", "bmw.co.uk": "en-GB", "bmw.com.uy": "es-UY", "bmw.vn": "vi-VN", "bmw-m.com": "en-HQ", "bmw.uz": "ru-UZ", "bmw.com/en-au": "en-AU"
                        }, s = ["en", "nl", "fr", "pt", "de", "ru", "es", "hr", "bg", "zh", "cs", "da", "et", "fi", "el", "hu", "iw", "it", "ja", "ko", "lv", "lt", "mk", "ro", "sr", "nl", "no", "pl", "ro", "sk", "sl", "sv", "th", "tr", "uk", "vi"], a = { "bmw.com.al": "AL", "bmw.ca": "CA", "bmw.be": "BE", "bmw.dz": "DZ", "bmw.co.ao": "AO", "bmw.am": "AM", "bmw.com.au": "AU", "bmw.at": "AT", "bmw.az": "AZ", "bmw.bs": "BS", "bmw.bb": "BB", "bmw.by": "BY", "bmw.bm": "BM", "bmw.com.bo": "BO", "bmw.ba": "BA", "bmw.com.br": "BR", "bmw.com.bn": "BN", "bmw.bg": "BG", "bmw.com.ky": "KY", "bmw.cl": "CL", "bmw.com.cn": "CN", "bmw.com.co": "CO", "bmw.co.cr": "CR", "bmw.com.cy": "CY", "bmw.cz": "CZ", "bmw.dk": "DK", "bmw.com.do": "DO", "bmw.com.ec": "EC", "bmw-eg.com": "EG", "bmw.com.sv": "SV", "bmw.ee": "EE", "bmw.fi": "FI", "bmw.fr": "FR", "bmw.com.ge": "GE", "bmw.de": "DE", "bmw-ghana.com": "GH", "bmw.gr": "GR", "bmw-antilles.fr": "GP", "bmw.com.gt": "GT", "bmw.ht": "HT", "bmw.hn": "HN", "bmwhk.com": "HK", "bmw.hu": "HU", "bmw.is": "IS", "bmw.in": "IN", "bmw.co.id": "ID", "bmw-iraq.com": "IQ", "bmw.ie": "IE", "bmw.co.il": "IL", "bmw.it": "IT", "bmwjamaica.com": "JM", "bmw.co.jp": "JP", "bmw.kz": "KZ", "bmw.co.ke": "KE", "bmw.co.kr": "KR", "bmw-lao.la": "LA", "bmw.re": "RE", "bmw.lv": "LV", "bmw-lebanon.com": "LB", "bmw.ly": "LY", "bmw.lt": "LT", "bmw.lu": "LU", "bmw.com.mo": "MO", "bmw.com.mk": "MK", "bmw.com.my": "MY", "bmw.com.mt": "MT", "bmw.mu": "MU", "bmw.com.mx": "MX", "bmw.md": "MD", "bmw-voli.me": "ME", "bmw.ma": "MA", "bmwmyanmar.com": "MM", "bmw.nl": "NL", "bmw.nc": "NC", "bmw.co.nz": "NZ", "bmw.com.ni": "NI", "bmw-nigeria.com": "NG", "bmw.no": "NO", "bmw-pakistan.com": "PK", "bmw.com.pa": "PA", "bmw.com.py": "PY", "bmw.com.pe": "PE", "bmw.com.ph": "PH", "bmw.pl": "PL", "bmw.pt": "PT", "bmw.ro": "RO", "bmw.ru": "RU", "bmw.lc": "LC", "bmw.rs": "RS", "bmw.com.sg": "SG", "bmw.sk": "SK", "bmw.si": "SI", "bmw.co.za": "ZA", "bmw.es": "ES", "bmw.lk": "LK", "bmw.sr": "SR", "bmw.se": "SE", "bmw.ch": "CH", "bmw-tahiti.com": "PF", "bmw.com.tw": "TW", "bmw.co.th": "TH", "bmw.tt": "TT", "bmw-tunisia.com": "TN", "bmw.com.tr": "TR", "bmw.ua": "UA", "bmw.co.uk": "GB", "bmw.com.uy": "UY", "bmw.vn": "VN", "bmw-m.com": "HQ", "bmw.uz": "UZ", "bmw.com/en-au": "AU" }; if (window.location.href.indexOf("bmw-bahrain.com/en/") > -1) return "en-BH"; if (window.location.href.indexOf("bmw-bahrain.com/ar/") > -1) return "ar-BH"; if (window.location.href.indexOf("bmw-dubai.com/en/") > -1) return "en-AE"; if (window.location.href.indexOf("bmw-dubai.com/ar/") > -1) return "ar-AE"; if (window.location.href.indexOf("bmw-jordan.com/en/") > -1) return "en-JO"; if (window.location.href.indexOf("bmw-jordan.com/ar/") > -1) return "ar-JO"; if (window.location.href.indexOf("bmw-kuwait.com/en/") > -1) return "en-KW"; if (window.location.href.indexOf("bmw-kuwait.com/ar/") > -1) return "ar-KW"; if (window.location.href.indexOf("bmw-me.com/en/") > -1) return "en-MP"; if (window.location.href.indexOf("bmw-me.com/ar/") > -1) return "ar-MP"; if (window.location.href.indexOf("bmw-oman.com/en/") > -1) return "en-OM"; if (window.location.href.indexOf("bmw-oman.com/ar/") > -1) return "ar-OM"; if (window.location.href.indexOf("bmw.ps/en/") > -1) return "en-PS"; if (window.location.href.indexOf("bmw.ps/ar/") > -1) return "ar-PS"; if (window.location.href.indexOf("bmw-qatar.com/en/") > -1) return "en-QA"; if (window.location.href.indexOf("bmw-qatar.com/ar/") > -1) return "ar-QA"; if (window.location.href.indexOf("bmw-saudiarabia.com/en/") > -1) return "en-SA"; if (window.location.href.indexOf("bmw-saudiarabia.com/ar/") > -1) return "ar-SA"; if (window.location.href.indexOf("bmw-yemen.com/en/") > -1) return "en-YE"; if (window.location.href.indexOf("bmw-yemen.com/ar/") > -1) return "ar-YE"; if ("bmw.ca" != e && "bmw.be" != e && "bmw.ch" != e && "bmw.lu" != e && "bmw.co.th" != e) return t[e] || t[e + "/" + location.pathname.split("/")[1].toLowerCase()]; for (var o = 0; o < s.length; o++)if (window.location.href.indexOf("/" + s[o] + "/") > -1 || window.location.href.indexOf("." + s[o] + ".") > -1 || window.location.href.indexOf("/" + s[o] + "_") > -1 || window.location.href.indexOf("/" + s[o] + "-") > -1) return s[o] + "-" + a[e]
                    } catch (e) { _satellite.logger.log("Error:languageAndMarketWorkaround") }
                }
            }
        }, "AAM-containerID": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("AAM-initConfig"); return e && e.containerNSID || "" } catch (e) { var t = { from: "AA", type: "DE", name: "AAM-containerID" }; _satellite.logger.error(e, t) } } } }, finalDataLayer: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.digitals2 && window.digitals2.tracking && window.digitals2.tracking.api; if (void 0 !== e) { var t = e.getCurrentPageIndex(); if (1 == _satellite.getVar("useVCOPage")) for (var s = t; s > 0; s--)if ("object" == typeof e.getPageObject(s).page && "VCO" == e.getPageObject(s).page.category.primaryCategory) { t = s; break } var a = e.getPageObject(t); if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId && -1 == a.pageInstanceId.indexOf("need-analyzer")) return a; if (void 0 !== a.component && a && a.component[0] && a.component[0].category && "stock locator" == a.component[0].category.subCategory01) return a; if (void 0 !== a.component && a && a.component[0] && a.component[0].componentInfo && "digital checkout solution" == a.component[0].componentInfo.componentName) return a; if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId && a.product.length > 0) return a; if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId) return a = e.getPageObject(0) } return window.digitalData && window.digitalData.pages && window.digitalData.activePageIndex ? window.digitalData.pages[window.digitalData.activePageIndex] : void 0 } catch (e) { var o = { from: "AA", type: "DE", name: "finalDataLayer" }; _satellite.logger.error(e, o) } } } }, fusionProductString: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function (e) { function t(e, t, s) { try { s = s || "datalayer field missing"; for (var a = ["", "na", "not set", "n/a", "not available"], o = (t = t || "").split("."), n = e, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && a.indexOf(n.toLowerCase()) > -1 ? "datalayer field empty" : n || s } catch (e) { console.error("Error:", e) } } return function (s) { try { var a = Object.keys(e.message.eventInfo.reference.linkedProducts), o = e.fullState, n = _satellite.getVar("productBuilder"), r = []; if (a.length > 0) { for (i = 0; i < a.length; i++)if (a[i] in o.product) { var c = a[i], d = t(o, "cart.item")[c], l = t(o, "product")[c], u = t(o, "transaction.item")[c], m = t(l, "category.productType"), b = t(l, "productInfo.productID"), p = t(d, "price.taxRate", t(u, "price.taxRate", "0")), g = { eVar10: t(l, "attributes.mmdr"), eVar44: t(l, "attributes.productionYear"), eVar45: t(l, "attributes.yearOfRegistration"), eVar46: t(l, "attributes.status"), eVar47: t(l, "productInfo.color"), eVar48: t(l, "attributes.modelCode"), eVar49: t(l, "attributes.gearing"), eVar50: t(l, "attributes.series"), eVar51: t(l, "attributes.bodyType"), eVar52: t(l, "productInfo.productName"), eVar53: t(l, "category.primaryCategory"), eVar54: t(l, "category.subCategory1"), eVar55: t(l, "category.subCategory2"), eVar56: t(l, "attributes.fuelType"), eVar57: t(l, "attributes.hybridVersion"), eVar58: t(l, "attributes.motorization"), eVar60: t(l, "productInfo.manufacturer"), eVar65: t(l, "attributes.modelName"), eVar66: t(l, "attributes.trimLevel"), eVar69: t(l, "attributes.modelCodeAG"), eVar121: t(d, "price.voucherCode", t(u, "price.voucherCode")), eVar124: p, eVar126: t(d, "price.shippingMethod", t(u, "price.shippingMethod")) }; n.id = b, n.category = m, n.merchEvars = g; var f = t(d, "price.basePrice", t(u, "price.basePrice", "0")), v = t(d, "price.priceWithTax", t(u, "price.priceWithTax", "0")), h = t(d, "price.shipping", t(u, "price.shipping", "0")), P = t(d, "quantity", t(u, "quantity", "0")), j = t(d, "price.voucherDiscount", "0"), C = t(d, "price.priceWithTax", "0"), y = t(d, "price.attributes.taxAmount", t(u, "price.attributes.taxAmount")), w = []; w.push("event831=" + f), w.push("event832=" + (j < 0 ? + +C * j / C : j)), w.push("event833=" + (j < 0 ? +C * j : j)), w.push("event834=" + p), w.push("event835=" + y), w.push("event836=" + v), w.push("event837=" + h), w.push("event858=" + P), n.events = w, s.events = s.apl(s.events, "event831,event832,event833,event834,event835,event836,event837,event858"), s.linkTrackEvents = s.apl(s.linkTrackEvents, "event831,event832,event833,event834,event835,event836,event837,event858"), s.linkTrackVars = s.apl(s.linkTrackVars, "eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126", ","), r.push(n.toString()) } s.products = r.join(","), "undefined" != s.products && (s.linkTrackVars += "products,") } else _satellite.logger.log("fusion product string ~~~ No product in product object") } catch (e) { var R = { from: "AA", type: "DE", name: "fusionProductString" }; _satellite.logger.error(e, R) } } } } }, "AA-hashedID": { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.location.hostname.split(".").reverse()[0]; return "de" == e || "uk" == e ? _satellite.getVar("hashingMID") : "datalayer field missing" } catch (e) { var t = { from: "AA", type: "DE", name: "AA-hashedID" }; _satellite.logger.error(e, t) } } } }, "AA-SearchAds360Parameter": { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = { "bmw.de": ["gclid"], "bmw.at": ["gclid"] }; function t(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) } var s = _satellite.getVar("topLevelDomain"); if (void 0 !== e[s]) var a = e[s]; var o = ""; if ("bmw.de" == s || "bmw.at" == s) for (var n = 0; n < a.length && !(o = t(a[n])); n++); return o } catch (e) { var r = { from: "AA", type: "DE", name: "SearchAds360Parameter" }; _satellite.logger.error(e, r) } } } }, campaign: { modulePath: "core/src/lib/dataElements/queryStringParameter.js", settings: { name: "tl", caseInsensitive: !0 } }, "AAM-dilMarketList": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return ["bmw.de"] } catch (t) { var e = { from: "AA", type: "DE", name: "AAM-dilMarketList" }; _satellite.logger.error(t, e) } } } }, "ACDL - Event Info - Effect": { modulePath: "gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js", settings: { path: "eventInfo.effect" } }, "AT-AffinityParams": { defaultValue: "", cleanText: !0, storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = function (e, t) { for (var s = Object.keys(t), a = 0; a < s.length; a++)if (new RegExp(s[a]).test(e)) return !0; return !1 }, t = function (e, t) { var s = function () { try { var e = window.dataLayer && window.dataLayer.pages && window.dataLayer.pages[0] || _satellite.getVar("finalDataLayer"); return e && e.product && e.product.length && e.product[0].attributes && e.product[0].attributes.bodyType || void 0 } catch (e) { } }, a = function () { try { var e = window.dataLayer && window.dataLayer.pages && window.dataLayer.pages[0] || _satellite.getVar("finalDataLayer"); return e && e.product && e.product.length && e.product[0].attributes && e.product[0].attributes.mmdr || void 0 } catch (e) { } }, o = function (e, t) { var s = e.match(t); if (s) return s[6] ? "Z" : s[7] ? "BMW i" : (s[3] || s[5] || s[4]).toUpperCase() }, n = function (e, t) { if (e.match(t)) return "M" }, r = function (e, t) { if (e.match(t)) return "true" }, i = function (e, t) { for (var s = Object.keys(t), a = 0; a < s.length; a++)if (new RegExp(s[a]).test(e)) return t[s[a]] }, c = t.listOfExceptions && i(e, t.listOfExceptions) || {}; return { "car-body-type": c["car-body-type"] || s(), "car-series": c["car-series"] || o(e, t.seriesRegex), "car-variant": c["car-variant"] || n(e, t.variantRegex), "is-electric": c["is-electric"] || r(e, t.electricRegex), "car-model": c["car-model"] || a() } }, s = { "bmw.co.uk": { seriesRegex: /all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/, variantRegex: /all-models\/(m).*/, electricRegex: /i\d|bmw-i(\/|x|\d)|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/, listOfExceptions: {} }, "bmw.it": { seriesRegex: /gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/, variantRegex: /gamma\/(m).*/, electricRegex: /i\d|bmw-i(\/|x|\d)|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid|#ibrida-plug-in/, listOfExceptions: { "mondo-bmw/bmw-i/bmw-concept-i4.html": { "car-series": "BMW i", "is-electric": "true" }, "m/bmw-z4-m40i/2021/panoramica-bmw-z4.html": { "car-series": "Z" }, "gamma/Versioni-Serie-8/": { "car-series": "8" }, "/all-models/2-series/activetourer/2021/bmw-2-series-active-tourer-highlights.html": { "car-series": "2" } } }, "bmw.fr": { seriesRegex: /tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/, variantRegex: /tous-les-modeles\/(m-).*/, electricRegex: /i\d|bmw-i(\/|x|\d)|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e|#hybride-rechargeable/, listOfExceptions: { "x-series/X4/2018/apercu.html": { "car-series": "X4" }, "/bmw-concept/bmw-concept-i4.html": { "car-series": "BMW i", "is-electric": "true" }, "tous-les-modeles/modeles-serie-8": { "car-series": "8" } } }, "bmw.ru": { seriesRegex: /all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/, variantRegex: /all-models\/(m).*/, electricRegex: /^$/, listOfExceptions: {} }, "bmw.de": { seriesRegex: /neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i(\d|x|\/)))/, variantRegex: /neufahrzeuge\/m\//, electricRegex: /i\d|bmw-i(\/|x|\d)|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet|#plug-in-hybrid/, listOfExceptions: { "/neufahrzeuge/m/m-240i-convertible/": { "car-series": "2", "car-variant": "M" }, "/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html": { "car-series": "BMW i" }, "/topics/faszination-bmw(.*)elektromobilitaet/": { "is-electric": "true" } } }, "bmw.es": { seriesRegex: /coches-bmw.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/, variantRegex: /coches-bmw\/(m).*/, electricRegex: /i\d|bmw-i(\/|x|\d)|(iX\d)|#hibrido-enchufable|#phev/, listOfExceptions: { "/x/iX3/2021/presentacion.html": { "car-series": "x", "is-electric": "true" }, "/2-series/coupe/2021/presentacion.html": { "car-series": "2" }, "/2-series/gran-coupe/2021/vision-general-bmw-serie2-gran-coupe.html": { "car-series": "2" }, "/2-series/grantourer/2020/presentacion.html": { "car-series": "2" } } } }[_satellite.getVar("topLevelDomain")], a = window.location.href, o = /neufahrzeuge|all-models|tous-les-modeles|gamma|coches-bmw/.test(a) || s && s.listOfExceptions && e(a, s.listOfExceptions); return s && o && consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization") ? t(a, s) : {} } catch (e) { _satellite.logger.error("Error in Data element AT-AffinityParams-", e) } } } }, usabilla_restrict_keywords_url: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { for (var e = ["prueba", "oferta", "rfi", "rfo", "tda", "my-bmw-start.html", "dlo", "rfc", "my-bmw.html", "panoramica", "gamma", "test-drive-now", "bmw-cataloghi.html", "offers-service", "offres-et-services", "toute-la-gamme", "test-drive", "forms/request.html", "offers-and-services", "tda-experience", "contact", "offerte", "proefrit", "berekenen", "nieuwsbrief", "online-afspraakplanner", "aanvraag/contact", "vakantieauto", "brochure-prijslijst", "my-bmw.html", "accessoire-configurator", "call-me-back.html", "als-eerste-rijden"], t = 0; t < e.length; t++)if (-1 !== _satellite.getVar("URL").indexOf(e[t])) return !0; return !1 } catch (e) { var s = { from: "Usabilla", type: "DE", name: "usabilla_restrict_keywords" }; _satellite.logger.error(e, s) } } } }, productBuilder: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = function () { this.id = void 0, this.category = void 0, this.merchEvars = {}, this.events = [], this.quantity = void 0, this.price = void 0, this.load = [] }; return e.prototype.toString = function () { try { var e = ""; for (var t in this.merchEvars) Object.prototype.hasOwnProperty.call(this.merchEvars, t) && (-1 != _satellite.getVar("AA-Exclusionlist").indexOf(t) ? e += t + "=" + (this.merchEvars[t] || "").replaceAll(/[,]/g, " ") + "|" : e += t + "=" + (this.merchEvars[t].toString() || "").toLowerCase().replaceAll(/[,]/g, " ") + "|"); e.length && (e = e.substring(0, e.length - 1)); var s = this.category || ""; s += ";" + (this.id || ""), s += ";" + (this.quantity || ""), s += ";" + (this.price || ""), s += ";" + (this.events ? Array.isArray(this.events) ? this.events.join("|") : this.events : ""), s += ";" + (e || ""); for (var a = "", o = 0; o < this.load.length; o++)a += "," + this.load[o].toString(); return s += a } catch (e) { var n = { from: "AA", type: "DE", name: "productBuilder->toString" }; _satellite.logger.error(e, n) } }, e.prototype.append = function (e) { if (Array.isArray(e)) this.load = this.load.concat(e); else { if ("object" != typeof e) throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances"); this.load.push(e) } }, new e } catch (e) { var t = { from: "AA", type: "DE", name: "productBuilder" }; _satellite.logger.error(e, t) } } } }, "AA-eventFilter-priceControl": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return filterEvent = function (e) { var t = e, a = ["event831", "event832", "event833", "event834", "event835", "event836", "event837", "event858", "event841", "event842", "event843", "event844", "event845", "event846", "event847", "event848", "event851", "event852", "event853", "event854", "event855", "event856", "event857", "event861", "event862", "event863", "event864", "event865", "event866", "event867", "event868"], o = ["event841", "event842", "event843", "event844", "event845", "event846", "event847", "event861", "event862", "event863", "event864", "event865", "event866", "event867", "event868"]; try { var n = { ALLOW: "ALLOW", DENY: "DENY", FILTER: "FILTER" }, r = { con: { permission: n.ALLOW }, "stock locator": { permission: n.DENY }, oneshop: { permission: n.FILTER } }, c = { "digital services": { permission: n.ALLOW }, "physical products": { permission: n.DENY }, "physical goods": { permission: n.DENY } }, d = r[t] || { permission: n.DENY }; if (d.permission == n.ALLOW) return _satellite.logger.debug("DE - eventFilter-PriceControl: ALLOW"), evar139 = "prices are allowed", evar139; if (d.permission == n.DENY) { for (var l in a) s.events = s.rfl(s.events, a[l]), _satellite.logger.debug("DE - eventFilter-PriceControl: DENY"); return evar139 = "prices are denied", evar139 } if (d.permission == n.FILTER) return _satellite.logger.debug("DE - eventFilter-PriceControl: FILTER"), void 0 !== s.products && "" != s.products && (sProductsList = s.products.split(","), arrayProduct = [], sProductsList.forEach((function (e) { var t = e.split(";"), a = [], r = !1; for (i = t.length; i >= 0; i--)if (5 == i) a.push(t[i]), evars = t[i].split("|"), evarsValues = evars.filter((function (e) { return -1 != e.indexOf("eVar54") || -1 != e.indexOf("eVar53") })).flatMap((function (e) { return e.split("=")[1] })), evarsValues.forEach((function (e) { merchValuePermission = c[e] || { permission: n.DENY }, merchValuePermission.permission == n.DENY && (r = !0, _satellite.logger.info("DE - eventFilter-PriceControl: merchEvars: " + e), _satellite.logger.info("DE - eventFilter-PriceControl: flag set to True")) })); else if (4 == i) if (r) { for (var d in _satellite.logger.info("DE - eventFilter-PriceControl: remove merchandising events"), a.push(""), o) s.events = s.rfl(s.events, o[d]), _satellite.logger.debug("DE - eventFilter-PriceControl: DENY"); r = !1 } else a.push(t[i]); else i < 4 && a.push(t[i]); arrayProduct.push(a.reverse().join(";")) })), s.products = arrayProduct.join(",")), evar139 = "prices are filtered", evar139 } catch (e) { var u = { from: "AA", type: "DE", name: "AA-eventFilter-priceControl" }; _satellite.logger.error(e, u) } }, filterEvent } } }, perfTime_url: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.epaas.api.getPersistence("bmwdtm_hq_perf"); return void 0 !== e ? (jdata = JSON.parse(e), jdata.path) : "" } catch (e) { return _satellite.logger.error("Error in Data Element perfTime_url: " + e), "na" } } } }, pr_att_sellingPriceTotal: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.product.length - 1, s = e.product[t].attributes.sellingPriceTotal; return "" == s && (s = "not set"), s } catch (e) { return "not set" } } } }, isAAAllowed: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").AdobeAnalytics; return e.isTrackingAllowed(t).toString() } catch (e) { var s = { from: "AA", type: "DE", name: "isAAAllowed" }; _satellite.logger.error(e, s) } } } }, "AAM-dummyPartnerID": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { } } }, "AAM-hashedemail": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.location.toString(), t = new URL(e).searchParams.get("hemaid"); if (null != t) return t } catch (e) { _satellite.logger.error("EmailID error ", e) } } } }, webDL: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.digitals2 && window.digitals2.tracking && window.digitals2.tracking.api; if (void 0 !== e) { var t = e.getCurrentPageIndex(); if (1 == _satellite.getVar("useVCOPage")) for (var s = t; s > 0; s--)if ("object" == typeof e.getPageObject(s).page && "VCO" == e.getPageObject(s).page.category.primaryCategory) { t = s; break } var a = e.getPageObject(t); if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId && -1 == a.pageInstanceId.indexOf("need-analyzer")) return a; if (void 0 !== a.component && a && a.component[0] && a.component[0].category && "stock locator" == a.component[0].category.subCategory01) return a; if (void 0 !== a.component && a && a.component[0] && a.component[0].componentInfo && "digital checkout solution" == a.component[0].componentInfo.componentName) return a; if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId && a.product.length > 0) return a; if (void 0 !== a.pageInstanceId && "" != a.pageInstanceId) return a = t && t > 0 ? e.getPageObject(t) : e.getPageObject(0) } return a } catch (e) { var o = { from: "AA", type: "DE", name: "webDL" }; _satellite.logger.error(e, o) } } } }, "DL-Std": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { const e = new URL(location); return { utm: Array.from(e.searchParams.entries()).filter((([e, t]) => e.startsWith("utm_"))).reduce(((e, [t, s]) => (e[t.split("_").pop()] = s, e)), {}) } } } }, "AA-eventType": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "event.-1.eventInfo.type" } } }, isOfferApplicable: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return function () { try { function t(e) { var t = window.epaas.api.getPersistence(e); return JSON.parse(t) || {} } var s, a = window.location.href; s = a && a.indexOf("bmw.de") > -1 ? +t("v_reco_data").SFB || 0 : +t("v_reco_data").scorefinal || 0; var o = a.indexOf("bmw.at") > -1 || a.indexOf("bmw.de/de/neufahrzeuge") > -1 || a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge") > -1 || a.indexOf("bmw.de/de/all-models/") > -1 || a.indexOf("bmw.de/de/index") > -1 || a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index") > -1 || a.indexOf("bmw.de/de/home") > -1 || a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home") > -1, n = a.indexOf("https://www.bmw.at/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html") > -1 || a.indexOf("https://www.bmw.at/forms/rfc/kontaktanfrage.html") > -1 || a.indexOf("www.bmw.at/de/footer/metanavigation/legal-disclaimer-pool/legal-disclaimer.html") > -1 || a.indexOf("www.bmw.at/de/footer/metanavigation/legal-notice-pool/imprint.html") > -1 || a.indexOf("www.bmw.at/de/footer/footer-section/cookie-policy.html") > -1 || a.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy.html") > -1 || a.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy-fs.html") > -1 || a.indexOf("https://www.bmw.at/forms/probefahrt/tda.html") > -1 || a.indexOf("https://www.bmw.at/forms/rfo/angebot-anfordern.html") > -1 || a.indexOf("https://www.bmw.at/de/neuwagen-onlinekauf.html#/") > -1 || a.indexOf("https://configure.bmw.at/de_AT/") > -1, r = ""; a && a.indexOf("bmw.de") > -1 ? r = 50 : a && a.indexOf("bmw.at") > -1 && (r = 65); var i, c = JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")) || {}, d = c.isOfferShown, l = c.isFormSubmitted; i = "boolean" == typeof c.isOfferShown ? Object.keys(c).length - 1 : Object.keys(c), _satellite.logger.log("VisitorReco: final Score is:", s), _satellite.logger.log("VisitorReco: Count of models present:", i), _satellite.logger.log("VisitorReco: offer shown flag value:", d), s >= r && o && !n && 0 == d && i > 0 && "true" != _satellite.getVar("isSetTimeOut") && !l && (_satellite.setVar("isSetTimeOut", "true"), _satellite.logger.log("VisitorReco: SetTimeOut function is set"), setTimeout((function () { 0 == JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown && (_satellite.logger.log("VisitorReco: get and apply offer method called"), document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, (function (e) { if (void 0 !== e && void 0 !== e.detail && void 0 !== e.detail.responseTokens && e.detail.responseTokens.length > 0) for (var t = 0; t < e.detail.responseTokens.length; t++)void 0 !== e.detail.responseTokens[t] && void 0 !== e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"] && _satellite.setVar("AT-catHist_CarModel_HIST", JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"])) })), adobe.target.getOffer({ mbox: "visitor-reco-mbox", params: { vs_score: s }, success: function (e) { adobe.target.applyOffer({ mbox: "visitor-reco-mbox", offer: e }) }, error: function (e, t) { _satellite.logger.error("VisitorReco: Error in applying offer: ", e, t) } })) }), 5e3)) } catch (t) { var u = { from: "AA", type: "DE", name: "isOfferApplicable" }; _satellite.logger.error(e, u) } } } } }, ev_eve_element: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].eventInfo.element } catch (e) { } } } }, hierarchyEvar: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("jcrPathLevel1"), t = _satellite.getVar("jcrPathLevel2"), s = _satellite.getVar("jcrPathLevel3"), a = _satellite.getVar("pageName"), o = _satellite.getVar("pa_pag_pageName"), n = [e, t, s], r = 3; s.indexOf("None") > -1 && (r = 2), t.indexOf("None") > -1 && (r = 1), e.indexOf("None") > -1 && (r = 0); for (var i = "", c = 0; c < r; c++) { for (var d = "", l = 0; l <= c; l++)d += n[l] + " > "; i += (d = d.substring(0, d.length - 3)) + "|" } for (c = r; c < 3; c++)i += d + "|"; return i += a, i += "|" + o } catch (e) { } } } }, "AA-currencyCode": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").cache; if (e.get("currencyCode")) return e.get("currencyCode"); var t = { "bmw.co.za": "ZAR", "bmw.com.ar": "ARS", "bmw.at": "EUR", "bmw.com.au": "AUD", "bmw.be": "EUR", "bmw.bg": "BGN", "bmw.com.br": "BRL", "bmw.ca": "CAD", "bmw.ch": "CHF", "bmw.com.cn": "CNY", "bmw.cz": "CZK", "bmw.de": "EUR", "bmw.dk": "DKK", "bmw.es": "EUR", "bmw.fi": "EUR", "bmw.fr": "EUR", "bmw.co.uk": "GBP", "bmw.gr": "EUR", "bmw.hu": "HUF", "bmw.co.id": "IDR", "bmw.ie": "EUR", "bmw.in": "INR", "bmw.is": "ISK", "bmw.it": "EUR", "bmw.co.jp": "JPY", "bmw.co.kr": "KRW", "bmw.lu": "EUR", "bmw.com.mx": "MXN", "bmw.com.my": "MYR", "bmw.nl": "EUR", "bmw.no": "NOK", "bmw.co.nz": "NZD", "bmw.pl": "PLN", "bmw.pt": "EUR", "bmw.ro": "RON", "bmw.ru": "RUB", "bmw.se": "SEK", "bmw.si": "EUR", "bmw.sk": "EUR\t", "bmw.co.th": "THB", "bmw.com.sg": "SGD", "bmw.com/en-au": "AUD", "mini.de": "EUR", "mini.fr": "EUR", "mini.it": "EUR", "mini.ch": "CHF", "mini.at": "EUR" }, s = t[_satellite.getVar("topLevelDomain")] || t[_satellite.getVar("topLevelDomain") + "/" + location.pathname.split("/")[1].toLowerCase()] || "EUR"; return e.set("currencyCode", s), s } catch (e) { var a = { from: "AA", type: "DE", name: "AA-currencycode" }; _satellite.logger.error(e, a) } } } }, ev_eve_eventName: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].eventInfo.eventName } catch (e) { } } } }, pr_att_mmdr: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"); if (0 == e.product.length) return ""; var t = e.product.length - 1; return e.product[t].attributes.mmdr } catch (e) { } } } }, "AAM-hasheducid": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.location.toString(), t = new URL(e).searchParams.get("hucid"); if (null != t) return t } catch (e) { _satellite.logger.error("EmailID error ", e) } } } }, isTargetAllowed: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").Target; return e.isTrackingAllowed(t).toString() } catch (e) { var s = { from: "AA", type: "DE", name: "isTargetAllowed" }; _satellite.logger.error(e, s) } } } }, ev_eve_eventAction: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].eventInfo.eventAction || "" } catch (e) { } } } }, "AT-property": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").cache; if (e.get("AT-property")) return e.get("AT-property"); var t = { "bmw.co.za": "08d747c0-6d3b-df18-bfb9-b24468cafd0d", "bmw.de": "08ab7353-eddd-5a23-5029-8db5a0795efa", "bmw.it": "14a7eacb-d9ed-139b-3740-1715a4324a87", "bmw.nl": "a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a", "bmw.fr": "c63e9226-164f-68ce-6a77-04714d861534", "bmw.es": "5f6624f7-b481-68c5-89ec-2f7c6df01e47", "bmw.co.kr": "265709a7-eeba-c737-64b2-0bf051f21cb7", "bmw.co.jp": "3ff9d062-6800-4a61-0e57-9d03be4a750d", "bmw.ru": "932155db-25c4-5f53-1e6a-420ea418566a", "bmw.se": "5fec81b0-d53d-f0c2-76ab-2563557abf59", "bmw.at": "0cf18719-6a28-12fe-562a-a61a9a1d2c3c", "bmw.pl": "ca83460d-3364-fbeb-443a-808a2d6d290f", "bmw.ca": "240a98d1-97d2-4caf-069b-db1ed515c04e", "bmw.be": "a2e280c3-8caf-d7e3-7dd2-7f9097e49c22", "bmw.co.uk": "0c9cfadf-3753-7304-c045-49d4d0616e83", "bmw.com/en-au": "2f19833f-d79a-16ee-0e8c-c3ed9240bada", "bmw.com.au": "2f19833f-d79a-16ee-0e8c-c3ed9240bada", "m156.bmw-int4.com": "f10cff72-85f7-9945-d5bc-81c27ba97ef9", "bmw.ch/de": "4ace6d95-d674-704a-41af-aac0be1db8f7", "bmw.no": "69f4cd76-ff19-b1cc-c49e-e78fb468fba7", "bmw.fi": "43dcb5ea-dcbb-889f-f645-534c9bccdb98", "bmw-test6.com": "f10cff72-85f7-9945-d5bc-81c27ba97ef9" }, s = t[_satellite.getVar("topLevelDomain")] || t[_satellite.getVar("topLevelDomain") + "/" + location.pathname.split("/")[1].toLowerCase()] || ""; return e.set("AT-property", s), s } catch (e) { var a = { from: "AA", type: "DE", name: "AT-property" }; _satellite.logger.error(e, a) } } } }, jcrPathLevel2: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pageInstanceId"), t = _satellite.getVar("pa_cat_subCategory01"), s = _satellite.getVar("pa_cat_primaryCategory"), a = e.split("/"), o = 2; if ((o = o + 6 - 1) < a.length) var n = a[o]; else n = "None"; return e.indexOf("/configurator") > -1 && (n = "Configurator Page"), "VCO" === s && (n = t), n } catch (e) { } } } }, cookieDomainPeriods: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return _satellite.getVar("topLevelDomain").split(".").length } catch (t) { var e = { from: "AA", type: "DE", name: "cookieDomainPeriods" }; _satellite.logger.error(t, e) } } } }, "AA-PagesubCategory01": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "page.category.subCategory01" } } }, isAdobeAnalyticsAllowed: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").privacyManager, t = _satellite.getVar("consentMap").AdobeAnalytics; return e.isTrackingAllowed(t).toString() } catch (e) { var s = { from: "AA", type: "DE", name: "isAdobeAnalyticsAllowed" }; _satellite.logger.error(e, s) } } } }, flatMapping: {
            modulePath: "core/src/lib/dataElements/customCode.js", settings: {
                source: function () {
                    return function (e) {
                        try {
                            var t = _satellite.getVar("snapshotDL"); e.linkTrackVars = "events,", e.linkTrackEvents = "", e.events = "", new Date, t.get(location.href, "page.pageInfo.destinationUrl"), _satellite.getVar("snapshotDL").get("event.-1.attributes.linkedComponent.-1.category.componentType"), _satellite.getVar("snapshotDL").get("component.-1.category.componentType"); var s = t.get("event.-1.attributes.relatedComponentID"), a = t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"), o = "stock > "; if ("search" == t.get("event.-1.eventInfo.eventName") || "sl > search filter" == t.get("event.-1.eventInfo.eventName")) {
                                _satellite.logger.log("inside search filter khubruy"); var n = t.get("event.-1.attributes.search", {}); if (e.products = "", n.length > 0) for (var r in n) void 0 !== n[r].label && (e.products += "search;search;;;;eVar30=" + (n[r].unit || "") + "|eVar31=" + (n[r].state || "") + "|eVar32=" + (n[r].label || "") + "|eVar33=" + (n[r].term || "") + ",")
                            } _satellite.getVar("setProductString")(e), e.server = location.hostname, e.linkTrackVars += "server,", e.prop45 = t.get("component.-1.attributes.componentVersion"), e.linkTrackVars += "prop45,", e.eVar134 = t.get("component.-1.attributes.touchpoint", "web"), e.linkTrackVars += "eVar134,", e.prop42 = _satellite.getVar("AA-componentDefaultValues").primaryCat, e.linkTrackVars += "prop42,", e.prop43 = _satellite.getVar("AA-componentDefaultValues").subCat, e.linkTrackVars += "prop43,", e.prop44 = t.get("component.-1.componentInfo.componentID"), e.linkTrackVars += "prop44,", e.prop19 = -1 != window.location.href.indexOf("similarity") ? "similarity-search" : _satellite.getVar("AA-componentDefaultValues").componentName, e.linkTrackVars += "prop19,"; try { if ("datalayer field missing" == s && "datalayer field missing" == a) e.prop41 = t.get("component.-1.category.componentType"), e.linkTrackVars += "prop41,"; else for (i = 0; i < t.get("component").length; i++) { var c = i.toString(); t.get("component." + c + ".componentInfo.componentID") != s && t.get("component." + c + ".componentInfo.componentID") != a || (_satellite.logger.log("related component - Akshay changes - " + t.get("component." + c)), e.prop41 = t.get("component." + c + ".category.componentType"), e.linkTrackVars += "prop41,") } } catch (e) { } "not set" != t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID") && (e.prop44 = t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")), e.prop27 = t.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", t.get("page.pageInfo.pageID", t.get("event.-1.attributes.linkedPage.pageInfo.pageID"))), e.linkTrackVars += "prop27,", e.eVar43 = t.get("dealer.-1.attributes.selectionState"), e.linkTrackVars += "eVar43,", e.eVar41 = t.get("dealer.-1.dealerInfo.dealerGroupName", t.get("dealer.-1.dealerInfo.dealerGroup")), e.linkTrackVars += "eVar41,", e.eVar42 = t.get("dealer.-1.dealerInfo.dealerID", t.get("dealer.-1.dealerInfo.dealerGroupID")), e.linkTrackVars += "eVar42,", e.eVar39 = t.get("dealer.-1.dealerInfo.dealerOutletName", t.get("dealer.-1.dealerInfo.dealerName")), e.linkTrackVars += "eVar39,", e.eVar40 = t.get("dealer.-1.dealerInfo.outletID", t.get("dealer.-1.dealerInfo.dealerOutletID")), e.linkTrackVars += "eVar40,", e.prop17 = t.get("event.-1.attributes.form.rfxID"), e.linkTrackVars += "prop17,", "not set" != t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID") && "datalayer field missing" != t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID") && "datalayer field empty" != t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID") && (e.prop44 = t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")), e.eVar71 = t.get("event.-1.attributes.requestedURL"), e.linkTrackVars += "eVar71,", e.prop54 = t.get("event.-1.category.primaryCategory", t.get("event.-1.category.primaryCatergory")), e.linkTrackVars += "prop54,", e.prop50 = t.get("event.-1.attributes.element"), e.linkTrackVars += "prop50,", "form" == t.get("event.-1.eventInfo.eventName") && (e.prop11 = t.get("event.-1.category.primaryCategory"), e.linkTrackVars += "prop11,", e.prop7 = t.get("event.-1.category.subCategory1"), e.linkTrackVars += "prop7,", e.prop8 = t.get("event.-1.eventInfo.effect"), e.linkTrackVars += "prop8,", e.prop6 = t.get("event.-1.eventInfo.type"), e.linkTrackVars += "prop6,"), e.prop55 = t.get("event.-1.category.subCategory1", t.get("event.-1.attributes.errorCode", t.get("event.-1.solutionSpecific.slfavItemsNum", t.get("event.-1.attributes.searchResults", t.get("event.-1.category.subCategory01"))))), e.linkTrackVars += "prop55,", e.prop51 = t.get("event.-1.category.subCategory2"), e.linkTrackVars += "prop51,", "search" == t.get("event.-1.eventInfo.eventName") && (e.prop24 = t.get("event.-1.category.subCategory1", t.get("event.-1.category.subCategory01")), e.linkTrackVars += "prop24,", e.prop53 = t.get("event.-1.eventInfo.type"), e.linkTrackVars += "prop53,"), e.prop52 = t.get("event.-1.eventInfo.cause"), e.linkTrackVars += "prop52,", e.eVar34 = t.get("event.-1.eventInfo.effect"), e.eVar34.indexOf(o) < 0 && (e.eVar34 = o + e.eVar34), e.linkTrackVars += "eVar34,", e.prop57 = t.get("event.-1.eventInfo.eventAction"), e.linkTrackVars += "prop57,", e.prop56 = t.get("event.-1.eventInfo.eventName"), e.linkTrackVars += "prop56,", t.get("event.-1.eventInfo.eventPoints") && parseInt(t.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(t.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(t.get("event.-1.eventInfo.eventPoints")) > 6e4 ? e.events = e.apl(e.events, "event970=60001", ",", 1) : parseInt(t.get("event.-1.eventInfo.eventPoints")) <= 0 ? e.events = e.apl(e.events, "event970=0", ",", 1) : e.events = e.apl(e.events, "event970=" + t.get("event.-1.eventInfo.eventPoints"), ",", 1), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event970")) : (e.prop58 = t.get("event.-1.eventInfo.eventPoints"), e.linkTrackVars += "prop58,"), e.prop12 = t.get("event.-1.eventInfo.timeStamp", t.get("event.-1.eventInfo.timestamp")), e.linkTrackVars += "prop12,", e.prop53 = t.get("event.-1.eventInfo.type"), e.linkTrackVars += "prop53,", e.eVar23 = t.get("event.-1.attributes.form.preferredComChannel", t.get("event.-1.attributes.form.preferredComChannel")), e.linkTrackVars += "eVar23,", e.eVar24 = t.get("event.-1.attributes.searchResults"), e.linkTrackVars += "eVar24,", e.prop13 = t.get("page.attributes.brand"), e.linkTrackVars += "prop13,", e.prop2 = t.get("page.category.pageType"), e.linkTrackVars += "prop2,", "form" == t.get("page.category.pageType") ? (e.prop11 = t.get("page.category.primaryCategory"), e.linkTrackVars += "prop11,", e.prop9 = t.get("page.category.subCategory1"), e.linkTrackVars += "prop9,", e.prop10 = t.get("page.category.subCategory2"), e.linkTrackVars += "prop10,") : "search" == t.get("page.category.pageType") && (e.prop53 = t.get("page.category.subCategory1"), e.linkTrackVars += "prop53,"), e.prop4 = t.get("page.category.subCategory1"), e.linkTrackVars += "prop4,", e.prop5 = t.get("page.category.subCategory2"), e.linkTrackVars += "prop5,", e.prop46 = t.get("page.pageInfo.author"), e.linkTrackVars += "prop46,", e.eVar7 = t.get("page.pageInfo.language", _satellite.getVar("AA-languageAndMarketWorkaround")), e.eVar7 = e.eVar7.indexOf("-") > -1 ? e.eVar7.split("-")[0] : e.eVar7, e.linkTrackVars += "eVar7,", e.eVar8 = _satellite.getVar("AA-languageWorkaround"), e.linkTrackVars += "eVar8,", e.prop1 = t.get("page.pageInfo.pageName"), e.prop1.indexOf(o) < 0 && (e.prop1 = o + e.prop1), e.pageName = e.prop1, e.linkTrackVars += "pageName,prop1,", e.eVar135 = t.get("page.pageInfo.sysEnv"), e.linkTrackVars += "eVar135,", e.prop28 = t.get("page.pageInfo.variant"), e.linkTrackVars += "prop28,", e.prop29 = t.get("page.pageInfo.version"), e.linkTrackVars += "prop29,", e.prop59 = t.get("product.-1.attributes.configID"), e.linkTrackVars += "prop59,", e.eVar19 = t.get("user.-1.profile.-1.address.stateProvince"), e.linkTrackVars += "eVar19,", e.eVar20 = t.get("user.-1.profile.-1.address.country"), e.linkTrackVars += "eVar20,", e.prop40 = t.get("user.-1.profile.-1.attributes.loggedInStatus"), e.linkTrackVars += "prop40,", e.eVar21 = t.get("user.-1.profile.-1.profileInfo.language"), e.linkTrackVars += "eVar21,", e.eVar17 = t.get("user.-1.profile.-1.profileInfo.profileID"), e.linkTrackVars += "eVar17,", e.eVar15 = t.get("user.-1.profile.-1.profileInfo.type"), e.linkTrackVars += "eVar15,", e.eVar16 = t.get("user.-1.segment"), e.eVar16 = e.eVar16 && "object" == typeof e.eVar16 ? "datalayer field empty" : e.eVar16, e.linkTrackVars += "eVar16,", e.eVar136 = t.get("version.version", e.version), e.linkTrackVars += "eVar136,", e.eVar122 = t.get("page.attributes.currencyCode"), e.linkTrackVars += "eVar122,", e.eVar120 = t.get("cart.cartID"), e.linkTrackVars += "eVar120,", e.eVar125 = t.get("transaction.-1.transactionID"), e.linkTrackVars += "eVar125,"
                        } catch (e) { var d = { from: "AA", type: "DE", name: "flatMapping" }; _satellite.logger.error(e, d) }
                    }
                }
            }
        }, setUserTypeForReco: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { if ("true" === _satellite.getVar("isAdobeAnalyticsAllowed")) { var e, t = _satellite.cookie.get("s_lv_s"), s = window.epaas.api.getPersistence("v_reco_data"); e = t && "First Visit" !== t ? "returning" : "new", (s = s ? JSON.parse(s) : {}).user = e, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(s)) } } catch (e) { _satellite.logger.error(e) } } } }, pa_cat_subCategory01: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return _satellite.getVar("finalDataLayer").page.category.subCategory01 } catch (e) { } } } }, "AAM-hashedid_cookie": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = ["hashedid"], t = decodeURI(document.cookie).split(";"), s = ""; return t.forEach((function (t) { for (i = 0; i < e.length; i++)if (-1 != t.split("=")[0].indexOf(e[i])) { s = t.split("=")[1]; break } })), hashedid_cookie_clean = decodeURIComponent(s), hashedid_cookie_clean } catch (e) { _satellite.logger.error("hashedid cookie Error ", e) } } } }, "AA-languageWorkaround": { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("topLevelDomain"), t = { "bmw.co.za": "ZA", "bmw.com.ar": "AR", "bmw.at": "AT", "bmw.com.au": "AU", "bmw.be": "BE", "bmw.bg": "BG", "bmw.com.br": "BR", "bmw.ca": "CA", "bmw.ch": "CH", "bmw.com.cn": "CN", "bmw.cz": "CZ", "bmw.de": "DE", "bmw.dk": "DK", "bmw.es": "ES", "bmw.fi": "FI", "bmw.fr": "FR", "bmw.co.uk": "GB", "bmw.gr": "GR", "bmw.hu": "HU", "bmw.co.id": "ID", "bmw.ie": "IE", "bmw.in": "IN", "bmw.is": "IS", "bmw.it": "IT", "bmw.co.jp": "JP", "bmw.co.kr": "KR", "bmw.lu": "LU", "bmw.com.mx": "MX", "bmw.com.my": "MY", "bmw.nl": "NL", "bmw.no": "NO", "bmw.co.nz": "NZ", "bmw.pl": "PL", "bmw.pt": "PT", "bmw.ro": "RO", "bmw.ru": "RU", "bmw.se": "SE", "bmw.si": "SI", "bmw.sk": "SK", "bmw.co.th": "TH", "bmw.com.sg": "SG", "bmwusa.com": "US", "bmw.com/en-au": "AU", "mini.de": "DE", "mini.fr": "FR", "mini.it": "IT", "mini.at": "AT", "mini.ch": "CH", "mini.be": "BE", "mini.lu": "LU" }; return t[e] || t[e + "/" + location.pathname.split("/")[1].toLowerCase()] } catch (e) { _satellite.logger.log("Error:languageAndMarketWorkaround") } } } }, "AT-TargetParamsManager": { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").cache, t = function () { var s = "targetParamsCache", a = function (e) { for (var t in e) null !== e[t] && void 0 !== e[t] && "" !== e[t] || delete e[t]; return e }; t.prototype.mergeParams = function (t, a) { var o = e.get(s) || {}; for (var n in t) o.hasOwnProperty(n) && o[n] === t[n] || (o[n] = { value: t[n], once: !!a, fired: !1 }); e.set(s, o) }, t.prototype.getParams = function () { var t = e.get(s) || {}, o = {}; for (var n in t) t[n].fired && t[n].once || (t[n].fired = !0, o[n] = t[n].value); return o = a(o), _satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-", o), o }, t.prototype.hasFired = function (t, a) { var o = e.get(s) || {}; return !(!o[t] || !o[t].fired || o[t].value !== a) } }; return new t } catch (e) { var s = { from: "AA", type: "DE", name: "AT-TargetParamsManager" }; _satellite.logger.error(e, s) } } } }, "TPT-PII_keywords": { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return ["firstname", "lastname", "email", "vin", "name", "loginid", "password", "registrationpassword", "confirmationpassword", "confirmregistrationpassword", "registrationid", "passwordconfirmation", "username", "enname", "token", "phone", "telephone"] } } }, "ECID-previousPermissions": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.adobe.OptInCategories, t = {}; return t[e.ECID] = "true" == _satellite.getVar("isAdobeAnalyticsAllowed"), t[e.ANALYTICS] = "true" == _satellite.getVar("isAdobeAnalyticsAllowed"), t[e.TARGET] = "true" == _satellite.getVar("isTargetAllowed"), t[e.AAM] = "true" == _satellite.getVar("isAAMAllowed"), t } catch (e) { var s = { from: "AA", type: "DE", name: "ECID-previousPermissions" }; _satellite.logger.error(e, s) } } } }, "AA-PagesubCategory02 ": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "page.category.subCategory02" } } }, pageInstanceId: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer").pageInstanceId, t = e; return "-prod" == e.substr(e.length - 5) && (t = e.substr(0, e.length - 5)), "-dev" == e.substr(e.length - 4) && (t = e.substr(0, e.length - 4)), "-int" == e.substr(e.length - 4) && (t = e.substr(0, e.length - 4)), 6 === t.split("/").length && (t += "/index"), t } catch (e) { } } } }, "AA-eventEffect": { modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js", settings: { snapshotAttribute: { path: "event.-1.eventInfo.effect" } } }, splitConsentEnabled: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { if (epaas && epaas.api && epaas.api.getApiInfo) return epaas.api.getApiInfo().splitConsentManagement ? "true" : "false"; var e = ["bmw.de", "bmw.co.za", "bmw.co.jp", "bmw-int5.com", "bmw-int4.com", "bmw.it", "bmw.bg", "bmw.hr", "bmw.com.cy", "bmw.cz", "bmw.com.mt", "bmw.gr", "bmw.hu", "bmw.ro", "bmw.sk", "bmw.si", "bmw.be", "bmw.lu", "bmw.at", "bmw.es", "bmw.pl", "bmw-int6.com", "bmw.nl", "bmw.fr", "bmw.ch", "bmw.ie", "bmw.lv", "bmw.ee", "bmw.gp", "bmw.mu", "bmw.mq", "bmw.co.uk", "bmw.pt", "bmw.re", "bmw.is", "bmw.lt", "bmw.dk", "bmw.fi", "bmw.se", "bmw.no", "bmw.com.br", "bmwbkk.de", "bmw.in", "bmw.com.mx", "adobemc.com", "mini.de", "mini.it", "mini.fr", "mini.at", "mini.ch", "mini.be", "mini.lu", "mini-int7.com"], t = _satellite.getVar("topLevelDomain"); return e.indexOf(t) > -1 ? "true" : "false" } catch (e) { var s = { from: "AA", type: "DE", name: "splitConsentEnabled" }; _satellite.logger.error(e, s) } } } }, removePII: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = ["firstname", "lastname", "vin", "name", "loginid", "password", "registrationpassword", "confirmationpassword", "confirmregistrationpassword", "registrationid", "passwordconfirmation", "username", "enname", "token", "telephone", "email"], t = ["eVar", "prop", "referrer", "pageURL", "pageName", "channel", "hier1", "products"]; function s(t) { var s = []; if ("string" == typeof t) { var a = t.toLowerCase(); e.forEach((function (e) { -1 != a.indexOf(e) && s.push(e) })) } return s } function a(e) { var a = [], o = new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}", "gi"), n = new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}", "gi"), r = new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$", "gi"); return t.forEach((function (t) { Object.keys(e).forEach((function (i) { 0 === i.indexOf(t) && e[i] && (s(e[i]).length || "string" == typeof e[i] && (e[i].match(o) || e[i].match(r) || e[i].match(n))) && a.push(i) })) })), a } function o(e) { var t = e, a = s(e); if (a.length && t.indexOf("eVar33") < 0) a.forEach((function (e) { t = n(e, t) })); else { var o = new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}", "gi"), r = new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}", "gi"), i = new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$", "gi"), c = e.match(o), d = e.match(i), l = e.match(r); if (-1 == e.indexOf("eVar33") && c) return n("withoutVin", e); if (e.indexOf("eVar33") > -1 && (d || l)) return n("withoutVin", e) } return t } function n(e, t) { var s, a, o, n = t.split("?")[0], r = -1 !== t.indexOf("?") ? t.split("?")[1] : "", i = "?"; if (r || (n = t.split("#")[0], i = "#", r = -1 !== t.indexOf("#") ? t.split("#")[1] : ""), "" !== r) { for (var c = (o = r.split("&")).length - 1; c >= 0; c--)s = o[c].split("=")[0].toLowerCase(), console.log(s, e), s === e && (o[c] = "email" === e ? o[c].replace(o[c].split("=")[1], "potential_pii_removed") : o[c].replace(o[c].split("=")[1], "value_rejected")); n = n + i + o.join("&") } if (-1 != n.toLowerCase().indexOf(e) && (a = new RegExp("[a-z]" + e + "[a-z]", "gi"), result = n.match(a), result || "email" === e && document.location.pathname.split(e).length > 1 && (1 == document.location.href.split(i).length || document.location.href.split(i)[1] && -1 == document.location.href.split(i)[1].indexOf(e)) || document.location.href.split(i).length > -1 && document.location.href.split(i)[1] && document.location.href.toLowerCase().split(i)[1].indexOf(e) > -1 || (n = n.toLowerCase().split(e)[0])), a = new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}", "gi"), result = n.match(a), -1 == n.indexOf("eVar33") && result) for (var d = 0; d < result.length; d++)n = n.replace(result[d].slice(1), "potential_pii_removed"); var l = new RegExp("[\\w]*(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}", "gi"), u = new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$", "gi"), m = n.match(u) || n.match(l); if (n.indexOf("eVar33") > -1 && m) for (d = 0; d < m.length; d++)n = n.replace(m[d].slice(0), "value_rejected"); return n } function r(e) { return a(e).forEach((function (t) { var s = e[t]; e[t] = o(s) })), e } function i(e) { switch (typeof e) { case "object": return r(e); case "string": return o(e); default: return Error("Not a valid parameter") } } return i } catch (e) { var c = { from: "AA", type: "DE", name: "removePII" }; _satellite.logger.error(e, c) } } } }, pageName: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pageInstanceId"), t = (_satellite.getVar("pa_pag_pageName"), _satellite.getVar("pa_cat_primaryCategory")), s = [_satellite.getVar("jcrPathLevel1"), _satellite.getVar("jcrPathLevel2"), _satellite.getVar("jcrPathLevel3")], a = e.split("/"), o = 6, n = a.length, r = ""; for (c = o; c < n; c++)r += a[c] + " > "; if (r = r.substring(0, r.length - 3), "VCO" === t) { for (var i = "", c = 0; c < 3; c++)i += s[c] + " > "; r = i = i.substring(0, i.length - 3) } return r = r.replace(/-prod/g, "") } catch (e) { } } } }, setTronProductString: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return function (e) { try { var t = {}, s = "", a = _satellite.getVar("snapshotDL"); for (var o in a.get("cart"), t.cart = {}, a.get("cart.item")) isNaN(+o) || "snapshotDL field missing" != a.get("cart.item." + o + ".productInfo.productID") && "snapshotDL field empty" != a.get("cart.item." + o + ".productInfo.productID") && (t.cart[a.get("cart.item." + o + ".productInfo.productID")] = {}, t.cart[a.get("cart.item." + o + ".productInfo.productID")] = a.get("cart.item." + o)); for (var n in a.get("transaction"), t.transaction = {}, a.get("transaction.-1.item")) isNaN(+o) || "snapshotDL field missing" != a.get("transaction.-1.item." + n + ".productInfo.productID") && "snapshotDL field empty" != a.get("transaction.-1.item." + n + ".productInfo.productID") && (t.transaction[a.get("transaction.-1.item." + n + ".productInfo.productID")] = {}, t.transaction[a.get("transaction.-1.item." + n + ".productInfo.productID")] = a.get("transaction.-1.item." + n)); if (a.get("product").length > 0) for (var r in a.get("product")) if (!isNaN(+r)) { var i = a.get("product." + r + ".category.productType"), c = a.get("product." + r + ".productInfo.productID"), d = +(((t.cart[c] || "").price || "").voucherDiscount || "0"), l = +(((t.cart[c] || "").price || "").priceWithTax || "0"), u = _satellite.getVar("productBuilder"); u.id = c, u.category = i; var m = { eVar10: a.get("product." + r + ".attributes.mmdrVG", a.get("product." + r + ".attributes.mmdr")), eVar44: a.get("product." + r + ".attributes.productionYear"), eVar45: a.get("product." + r + ".attributes.yearOfRegistration"), eVar46: a.get("product." + r + ".attributes.status"), eVar47: a.get("product." + r + ".productInfo.color"), eVar48: a.get("product." + r + ".attributes.modelCode"), eVar49: a.get("product." + r + ".attributes.gearing"), eVar50: a.get("product." + r + ".attributes.series"), eVar51: a.get("product." + r + ".attributes.bodyType"), eVar52: a.get("product." + r + ".productInfo.productName"), eVar53: a.get("product." + r + ".category.primaryCategory"), eVar54: a.get("product." + r + ".category.subCategory1"), eVar55: a.get("product." + r + ".category.subCategory2"), eVar56: a.get("product." + r + ".attributes.fuelType"), eVar57: a.get("product." + r + ".attributes.hybridVersion"), eVar58: a.get("product." + r + ".attributes.motorization"), eVar60: a.get("product." + r + ".productInfo.manufacturer"), eVar65: a.get("product." + r + ".attributes.modelName"), eVar66: a.get("product." + r + ".attributes.trimLevel"), eVar69: a.get("product." + r + ".attributes.modelCodeAG"), eVar121: ((t.transaction[c] || "").price || "").voucherCode || ((t.cart[c] || "").price || "").voucherCode ? ((t.transaction[c] || "").price || "").voucherCode || ((t.cart[c] || "").price || "").voucherCode || "" : a.get("transaction.-1.total.voucherCode", a.get("cart.price.voucherCode")), eVar124: ((t.transaction[c] || "").price || "").taxRate || ((t.cart[c] || "").price || "").taxRate ? ((t.transaction[c] || "").price || "").taxRate || ((t.cart[c] || "").price || "").taxRate || "" : a.get("cart.price.taxRate", a.get("transaction.-1.total.taxRate")), eVar126: a.get("cart.price.shippingMethod", a.get("transaction.total.shippingMethod")) }; u.merchEvars = m; var b = []; b.push("event831=" + (((t.cart[c] || "").price || "").basePrice || "0")), b.push("event832=" + (d < 0 ? + +l * d / l : d)), b.push("event833=" + (d < 0 ? +l * d : d)), b.push("event834=" + (((t.cart[c] || "").price || "").taxRate || "0")), b.push("event835=" + ((((t.cart[c] || "").price || "").attributes || "").taxAmount || "0")), b.push("event836=" + (((t.cart[c] || "").price || "").priceWithTax || "0")), b.push("event837=" + (((t.transaction[c] || "").price || "").shipping || "0")), b.push("event858=" + ((t.cart[c] || "").quantity || "0")), u.events = b, e.events = e.apl(e.events, "event831,event832,event833,event834,event835,event836,event837,event858"), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event831,event832,event833,event834,event835,event836,event837,event858"), e.linkTrackVars = e.apl(e.linkTrackVars, "eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126", ","), s += u.toString() + "," } null != e.products ? e.products += s : e.products = s, "undefined" != e.products && (e.linkTrackVars += "products,") } catch (e) { var p = { from: "AA", type: "DE", name: "setTronProductString" }; _satellite.logger.error(e, p) } } } } }, pr_att_modelName: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.product.length - 1, s = e.product[t].attributes.modelName; return "" == s && (s = "not set"), s } catch (e) { return "not set" } } } }, Cluster_DE_VibeSegments: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { function e(e) { var t = window.epaas.api.getPersistence(e); return JSON.parse(t) || {} } var t = e("visitor_aa_hits"), s = t.tSpe, a = 0, o = ""; if (keysSorted = Object.keys(s).sort((function (e, t) { return s[e] - s[t] })), mostSpent = keysSorted[keysSorted.length - 1], s) { for (var n = 0; n < Object.values(s).length; n++)a += Number(Object.values(s)[n]); return (1 == t.vNum || 2 == t.vNum) && a >= .2 && a <= 1 ? o = "C4" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "con" == mostSpent ? o = "C13" : (1 == t.vNum || 2 == t.vNum) && a > 5 ? o = "C12" : t.vNum >= 3 && t.vNum <= 13 && a >= .2 && a <= 1 ? o = "C15" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "nCrs" == mostSpent ? o = "C9" : t.vNum >= 3 && t.vNum <= 13 && a >= 4 && a <= 11 ? o = "C2" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "con" == mostSpent ? o = "C7" : t.vNum > 14 && a >= .2 && a <= 11 ? o = "C6" : t.vNum > 14 && a > 12 ? o = "C3" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "shw" == mostSpent ? o = "C1" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "shp" == mostSpent ? o = "C8" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "uCrs" == mostSpent ? o = "C5" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "uCrs" == mostSpent ? o = "C11" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "shw" == mostSpent ? o = "C14" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "home" == mostSpent ? o = "C5" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "home" == mostSpent ? o = "C11" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "top" == mostSpent ? o = "C10" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "shw" == mostSpent ? o = "C7" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "top" == mostSpent ? o = "C13" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "home" == mostSpent ? o = "C14" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "nCrs" == mostSpent ? o = "C7" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "nCrs" == mostSpent ? o = "C13" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "con" == mostSpent ? o = "C14" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "top" == mostSpent ? o = "C7" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "shp" == mostSpent ? o = "C11" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "uCrs" == mostSpent ? o = "C9" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "shp" == mostSpent ? o = "C7" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "form" == mostSpent ? o = "C1" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "form" == mostSpent ? o = "C8" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "form" == mostSpent ? o = "C7" : (1 == t.vNum || 2 == t.vNum) && a >= 1 && a <= 4 && "oth" == mostSpent ? o = "C11" : t.vNum >= 3 && t.vNum <= 13 && a >= 1 && a <= 4 && "oth" == mostSpent ? o = "C8" : t.vNum >= 3 && t.vNum <= 13 && a > 12 && "oth" == mostSpent && (o = "C7"), o } } } }, "Trigger-pageLoadTPT": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { return function (e) { var t, s = "re-trigger-third-party"; _satellite.logger.log('An attempt to trigger the page load TPTs is made from - "' + e + '"'), _satellite.getVar("haveTPTsTriggered") ? _satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred") : ("function" == typeof Event ? t = new Event(s) : (t = document.createEvent("Event")).initEvent(s, !0, !0), t.detail = { processing: _satellite.getVar("consentMap").Others }, _satellite.logger.log("Triggering the page load TPTs successfully"), document.body.dispatchEvent(t), _satellite.setVar("haveTPTsTriggered", !0)) } } catch (t) { var e = { from: "AA", type: "DE", name: "Trigger-pageLoadTPT" }; _satellite.logger.error(t, e) } } } }, setDefaultVariables: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function (e) { return function (t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.destinationUrl", location.href), o = new Date, n = _satellite.getVar("smartPreviousValueManager"), r = _satellite.getVar("snapshotDL").get("page.pageInfo.variant"); t.prop44 = s.get("component.-1.componentInfo.componentID", s.get("event.-1.attributes.relatedComponentID")), t.eVar134 = "web", t.prop27 = s.get("page.pageInstanceId", s.get("pageInstanceId")).split("/").slice(6).join("/"), t.prop12 = s.get("event.-1.eventInfo.timeStamp", s.get("event.-1.eventInfo.timestamp", Math.round(o.getTime()))), t.prop13 = "bmw", t.prop15 = o.getHours() + ":" + o.getMinutes() + ":" + o.getSeconds(), t.prop14 = o.getUTCHours() + ":" + o.getUTCMinutes() + ":" + o.getUTCSeconds(), t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop60 = _satellite.getVar("AA-consentMetaData")("drawer"), t.prop61 = _satellite.getVar("AA-consentMetaData")("identities"), t.prop62 = _satellite.getVar("AA-consentMetaData")("settings"), t.prop63 = _satellite.getVar("AA-consentMetaData")("defaults"), t.prop64 = _satellite.getVar("AA-consentMetaData")("consents"), t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? "landscape" : "portrait", t.eVar7 = s.get("page.pageInfo.language", _satellite.getVar("AA-languageAndMarketWorkaround")), t.eVar7 = t.eVar7.indexOf("-") > -1 ? t.eVar7.split("-")[0] : t.eVar7, t.eVar8 = _satellite.getVar("AA-languageWorkaround"), t.prop42 = _satellite.getVar("AA-componentDefaultValues").primaryCat, t.prop43 = _satellite.getVar("AA-componentDefaultValues").subCat, t.eVar18 = s.get("page.pageInfo.pageTitle", document.title), t.prop50 = "page title", t.prop19 = "digital > new car stock locator" === r || "virtual page" === r ? "central new\xa0car stock locator" : _satellite.getVar("AA-componentDefaultValues").componentName, t.campaign = t.eVar61 = t.eVar62 = _satellite.getVar("campaign"), t.eVar63 = _satellite.getVar("AA-InternalcampaignParameter"), "bmw.com.cn" == _satellite.getVar("topLevelDomain") ? t.eVar64 = _satellite.getVar("AA-localCampaignVariable") : t.eVar64 = _satellite.getVar("AA-SearchAds360Parameter"), t.eVar171 = t.Util.getQueryParam("cid"), t.eVar172 = t.Util.getQueryParam("bid"), t.server = location.host, t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.pageType = "error" == s.get("page.category.pageType") ? "errorPage" : s.get("page.category.pageType"), s.get("pageInstanceId").indexOf("error-pool/") > -1 && (t.pageName = t.pageURL, t.pageType = "errorPage", t.prop1 = t.pageName), t.eVar4 = a, a.length > 255 && (t.eVar5 = a.substring(255, a.length)), n.update("url", t.eVar4), t.eVar14 = n.get("url"), t.eVar29 = n.get("pathName"), t.prop31 = n.get("pagePrimaryCategory"), _satellite.logger.log("khubruy prop31", t.prop31), t.prop32 = n.get("pageSubCategory01"), t.prop33 = n.get("pageName"), t.prop3 = s.get("page.category.primaryCategory"), n.update("pagePrimaryCategory", t.prop19), t.prop4 = s.get("page.category.subCategory01"), n.update("pageSubCategory01", t.prop4), n.update("jcrPath", s.get("pageInstanceId", window.location.pathname)), t.eVar28 = n.get("componentSubcategory1"), t.prop47 = t._ppvHighestPercentViewed, t.prop48 = t._ppvFoldsAvailable, t.prop49 = t._ppvFoldsSeen, t.eVar11 = window.location.hash.split("?")[0].split("#")[1], t.eVar12 = window.location.protocol + "//" + window.location.host + window.location.pathname, t.eVar13 = window.location.hash ? window.location.hash.split("?")[1] : window.location.search.slice(1), t.eVar132 = window.navigator.userAgent, t.eVar135 = s.get("page.pageInfo.envWork", s.get("page.pageInfo.devEnv")), t.eVar6 = document.referrer.split("/")[2], n.update("pathName", t.eVar12), t.eVar120 = s.get("cart.cartID"), t.eVar122 = s.get("cart.item-1.price.currency", s.get("cart.price.currency", s.get("transaction.item-1.price.currency", s.get("transaction.total.currency.currency", s.get("product.-1.attributes.currency"))))), t.eVar123 = s.get("transaction.attributes.paymentMethod"), t.eVar125 = s.get("transaction.transactionID"), "" != t.linkTrackVars && null != t.linkTrackVars ? t.linkTrackVars += ",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125," : t.linkTrackVars = "prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125," } catch (e) { var i = { from: "AA", type: "DE", name: "setDefaultVariables" }; _satellite.logger.error(e, i) } } } } }, URL: { defaultValue: "URL", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.location.href.substring(0, 255); return e = e.toLowerCase() } catch (e) { } } } }, server: { storageDuration: "pageview", modulePath: "core/src/lib/dataElements/pageInfo.js", settings: { attribute: "hostname" } }, searchDefaultProduct: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return "eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar69=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|" } } }, "geoRegion copy": { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"); if (void 0 !== e.page) return e.page.pageInfo.geoRegion; var t = location.hostname; if (t.indexOf("bmwjamaica.com") > -1) return "JM"; if (t.indexOf("bmwhk.com") > -1) return "HK"; if (t.indexOf("bmw-eg.com") > -1) return "EG"; if (t.indexOf("bmwusa.com") > -1) return "US"; var s = t.split("."), a = s[s.length - 1]; return a = a.toUpperCase() } catch (e) { } } } }, catchblock: { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function (e) { return function (t, s) { try { t.sa("bmwgroup.group.global.test"), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.events = "event933", t.eVar34 = String(s) || "unknown", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) } catch (e) { } } } } }, perfTime_query: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.epaas.api.getPersistence("bmwdtm_hq_perf"); return void 0 !== e ? (jdata = JSON.parse(e), jdata.query) : "na" } catch (e) { return _satellite.logger.error("Error in Data Element perfTime_query : " + e), "na" } } } }, perfTime_hash: { defaultValue: "", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = window.epaas.api.getPersistence("bmwdtm_hq_perf"); return void 0 !== e ? (jdata = JSON.parse(e), jdata.hash) : "na" } catch (e) { return _satellite.logger.error("Error in Data Element perfTime_hash : " + e), "na" } } } }, snapshotDL: {
            modulePath: "bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js", settings: { dataLayerSnapshot: null }
        }, "AA-reportSuite": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("KIT-helpers").cache; if (e.get("AA-reportSuite")) return e.get("AA-reportSuite"); var t = "bmwgroup.group.global.test", s = "bmwgroup.group.global.all", a = { "bmw.co.za": "bmwgroup.bmw.za.market", "bmw.tj": "bmwgroup.bmw.tj.market", "bmw.com.ar": "bmwgroup.bmw.ar.market", "bmw.at": "bmwgroup.bmw.at.market", "bmw.com.au": "bmwgroup.bmw.au.market", "bmw.be": "bmwgroup.bmw.be.market", "bmw.bg": "bmwgroup.bmw.bg.market", "bmw.com.br": "bmwgroup.bmw.br.market", "bmw.ca": "bmwgroup.bmw.ca.market", "bmw.ch": "bmwgroup.bmw.ch.market", "bmw.com.cn": "bmwgroup.bmw.cn.market", "bmw.cz": "bmwgroup.bmw.cz.market", "bmw.de": "bmwgroup.bmw.de.market", "bmw.dk": "bmwgroup.bmw.dk.market", "bmw.es": "bmwgroup.bmw.es.market", "bmw.fi": "bmwgroup.bmw.fi.market", "bmw.fr": "bmwgroup.bmw.fr.market", "bmw.co.uk": "bmwgroup.bmw.uk.market", "bmw.gr": "bmwgroup.bmw.gr.market", "bmw.hu": "bmwgroup.bmw.hu.market", "bmw.co.id": "bmwgroup.bmw.id.market", "bmw.ie": "bmwgroup.bmw.ie.market", "bmw.in": "bmwgroup.bmw.in.market", "bmw.is": "bmwgroup.bmw.is.market", "bmw.it": "bmwgroup.bmw.ita.market", "bmw.co.jp": "bmwgroup.bmw.jp.market", "bmw.co.kr": "bmwgroup.bmw.kr.market", "bmw.lu": "bmwgroup.bmw.lu.market", "bmw.com.mx": "bmwgroup.bmw.mx.market", "bmw.com.my": "bmwgroup.bmw.my.market", "bmw.nl": "bmwgroup.bmw.nl.market", "bmw.no": "bmwgroup.bmw.no.market", "bmw.co.nz": "bmwgroup.bmw.nz.market", "bmw.pl": "bmwgroup.bmw.pl.market", "bmw.pt": "bmwgroup.bmw.pt.market", "bmw.ro": "bmwgroup.bmw.ro.market", "bmw.ru": "bmwgroup.bmw.ru.market", "bmw.se": "bmwgroup.bmw.se.market", "bmw.si": "bmwgroup.bmw.si.market", "bmw.sk": "bmwgroup.bmw.sk.market", "bmw.co.th": "bmwgroup.bmw.th.market", "bmw.com.sg": "bmwgroup.bmw.sg.market", "bmw.com/en-au": "bmwgroup.bmw.au.market", "mini.de": "bmwgroup.mini.de.market", "mini.fr": "bmwgroup.mini.fr.market", "mini.it": "bmwgroup.mini.it.market", "mini.ch": "bmwgroup.mini.ch.market", "mini.at": "bmwgroup.mini.at.market", "mini.be": "bmwgroup.mini.be.market", "mini.lu": "bmwgroup.mini.lu.market" }, o = a[_satellite.getVar("topLevelDomain")] || a[_satellite.getVar("topLevelDomain") + "/" + location.pathname.split("/")[1].toLowerCase()], n = (i = new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname), c = "staging" === _satellite.buildInfo.environment || "development" === _satellite.buildInfo.environment, i || c ? t : s + "," + o); return n.indexOf("undefined") > -1 && (n = t), e.set("AA-reportSuite", n), n } catch (e) { var r = { from: "AA", type: "DE", name: "AA-reportSuite" }; _satellite.logger.error(e, r) } var i, c } } }, "AA-marketCodes": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return ["ZA", "AR", "AT", "AU", "BE", "BG", "BR", "CA", "CH", "CN", "CZ", "DE", "DK", "ES", "FI", "FR", "GB", "GR", "HU", "ID", "IE", "IN", "IS", "IT", "JP", "KR", "LU", "MX", "MY", "NL", "NO", "NZ", "PL", "PT", "RO", "RU", "SE", "SI", "SK", "TH", "SG", "SL", "US"] } } }, pa_pag_referringUrl: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer").page.pageInfo.referringUrl; return e = e.toLowerCase() } catch (e) { } } } }, "AA-Exclusionlist": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { return ["eVar0", "eVar4", "eVar5", "eVar7", "eVar8", "eVar12", "eVar36", "eVar6", "eVar9", "eVar10", "eVar11", "eVar13", "eVar14", "eVar17", "eVar37", "eVar38", "eVar48", "eVar59", "eVar61", "eVar62", "eVar63", "eVar64", "eVar71", "eVar120", "eVar122", "eVar125", "eVar130", "eVar132", "eVar133", "eVar142", "eVar171", "eVar172", "prop17"] } } }, ev_att_componentHeadline: { defaultValue: "", storageDuration: "pageview", modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("finalDataLayer"), t = e.event.length - 1; return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline } catch (e) { } } } }, "AAM-partnerID": { modulePath: "core/src/lib/dataElements/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("AAM-initConfig"); return e && e.partner || "" } catch (e) { var t = { from: "AA", type: "DE", name: "AAM-partnerID" }; _satellite.logger.error(e, t) } } } }
    }, extensions: {
        "adobe-analytics": { displayName: "Adobe Analytics", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EP171e731c9ba34f1c950c36d26e3efd61/", settings: { orgId: "B52D1CFE5330949C0A490D45@AdobeOrg", customSetup: { source: function (e) { try { var t = function () { try { var t = _satellite.getVar("AAM-initConfig"), s = function (t) { e.contextData["cm.ssf"] = t, e.linkTrackVars = e.apl(e.linkTrackVars, "contextData.cm.ssf", ",") }; t ? (e.AudienceManagement.setup(t), s("true" === _satellite.getVar("isAAMAllowed") ? "0" : "1")) : s("1") } catch (e) { var a = { from: "AA", type: "DE", name: "Customize Page Code - doAAMConfig" }; _satellite.logger.error(e, a) } }, s = function () { var e, t, s = this, a = /eVar|prop|pageName|channel|hier/, o = _satellite.getVar("AA-Exclusionlist"); for (e in s) t = s[e], Object.prototype.hasOwnProperty.call(s, e) && "string" == typeof t && a.test(e) && -1 === o.indexOf(e) && (s[e] = t.toLowerCase()); return s }, a = _satellite.getVar("removePII"); e.usePlugins = !0, e.doPlugins = function (e) { try { if (t(), e.isFromACDL || e.prop74 && e.prop74.indexOf("ACDL GROUP") > -1) return (e = a(e)).isFromACDL = !1, void (e.linkTrackEvents = void 0); e = s.call(e), (e = a(e)).pageURL = e.pageURL ? a(e.pageURL) : a(window.location.href), e.referrer = e.referrer ? a(e.referrer) : a(document.referrer), e.getPercentPageViewed(); var o = _satellite.getVar("snapshotDL"); try { var n = o.get("page.pageInstanceId", o.get("pageInstanceId")), r = o.get("page.category.primaryCategory"), c = new RegExp("([a-z]{2}_[a-zA-Z]{2})"); c.test(e.prop3) && (c.test(r) ? n.indexOf("index-prod") > -1 ? e.prop3 = "homepage" : n.indexOf("all-models") > -1 ? e.prop3 = "showroom" : e.prop3 = n.split("/")[6] : e.prop3 = n) } catch (m) { var d = { from: "AA", type: "DE", name: "prop3 workaround" }; _satellite.logger.error(m, d) } function l(e) { var t = window.epaas.api.getPersistence(e); return JSON.parse(t) || {} } if (e.eVar131 = _satellite.getVar("lastTwoDigitsOfMID")(), e.linkTrackVars += ",eVar131", "bmw.at" === _satellite.getVar("topLevelDomain") && (e.prop35 = _satellite.getVar("final_newscore"), e.events = e.apl(e.events, "event140=" + _satellite.getVar("final_newscore"), ","), e.linkTrackVars = e.apl(e.linkTrackVars, "prop35", ","), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event140", ",")), "bmw.be" === _satellite.getVar("topLevelDomain") || "bmw.lu" === _satellite.getVar("topLevelDomain")) { var u = (m = l("v_reco_data")).scorefinal; e.prop35 = u, e.events = e.apl(e.events, "event140=" + u, ","), e.linkTrackVars = e.apl(e.linkTrackVars, "prop35", ","), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event140", ",") } if ("bmw.de" === _satellite.getVar("topLevelDomain") || "bmw.co.uk" === _satellite.getVar("topLevelDomain") || "bmw.es" === _satellite.getVar("topLevelDomain")) { var m, b = (m = l("v_reco_data")).SFB, p = m.tda, g = m.rfo, f = m.rfi, v = m.vco; e.prop35 = b, e.events = e.apl(e.events, "event146=" + b, ","), e.events = e.apl(e.events, "event142=" + p, ","), e.events = e.apl(e.events, "event143=" + g, ","), e.events = e.apl(e.events, "event144=" + f, ","), e.events = e.apl(e.events, "event145=" + v, ","), e.linkTrackVars = e.apl(e.linkTrackVars, "prop35", ","), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event146,event142,event143,event144,event145", ",") } "bmw.de" !== _satellite.getVar("topLevelDomain") && "bmw.fr" !== _satellite.getVar("topLevelDomain") && "bmw.it" !== _satellite.getVar("topLevelDomain") && "bmw.co.uk" !== _satellite.getVar("topLevelDomain") && "bmw.ru" !== _satellite.getVar("topLevelDomain") || (e.prop34 = _satellite.getVar("AA-contextData")(e), e.linkTrackVars = e.apl(e.linkTrackVars, "prop34", ",")), e.eVar34 && e.eVar34.indexOf("impression") > -1 && (e.events = e.apl(e.events, "event925,event926"), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event925,event926")), e.eVar34 && e.eVar34.indexOf("download") > -1 && (e.events = e.apl(e.events, "event903,event904"), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event903,event904")), e.prop56 && "error" == e.prop56 && e.prop54 && "js error" != e.prop54 && (e.events = e.apl(e.events, "event931,event932"), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event931,event932")), e.prop56 && e.prop53 && "interaction" == e.prop56 && ("success" == e.prop53 || "ux" == e.prop53) && (e.events = e.apl(e.events, "event917,event918"), e.linkTrackEvents = e.apl(e.linkTrackEvents, "event917,event918")), o.get("pageInstanceId").indexOf("error-pool/") > -1 && (e.pageName = e.pageURL, e.pageType = "errorPage", e.prop1 = e.pageName); try { e.eVar34.indexOf("sl > click dealer email") > 0 ? e.eVar34 = "stock > click dealer email" : e.eVar34 = e.eVar34.replace("sl > click dealer phone", "stock > click dealer phone") } catch (e) { } var h = document.referrer, P = _satellite.getVar("smartPreviousValueManager"); if (h.indexOf(_satellite.getVar("topLevelDomain")) > -1) { e.eVar22 = P.get("pathName"), e.events = e.apl(e.events, "event125=" + e._ppvInitialPercentViewed, ",", 1), e.events = e.apl(e.events, "event126=" + e._ppvHighestPercentViewed, ",", 1), e.events = e.apl(e.events, "event127=" + e._ppvHighestPixelsSeen, ",", 1), e.events = e.apl(e.events, "event129=" + e._ppvFoldsAvailable, ",", 1), e.events = e.apl(e.events, "event130=" + e._ppvFoldsSeen, ",", 1); var j = 100 / e._ppvHighestPercentViewed * e._ppvHighestPixelsSeen; j = j ? j.toFixed(0) : "na", e.events = e.apl(e.events, "event128=" + j, ",", 1) } e.prop12 = Date.now(); var C = { development: "dev", staging: "staging", production: "prod" }; e.eVar135 = C[_satellite.buildInfo.environment || "development"], e.linkTrackVars = e.apl(e.linkTrackVars, "prop12,eVar135", ","); var y = _satellite.getVar("pa_pag_pageTitle"), w = document.title; if (y = y.indexOf("datalayer") > -1 ? w.toLowerCase() : y.toLowerCase(), (e.eVar18 == y && "bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking" != e.prop74 || "datalayer field missing" == e.prop50 || "datalayer field empty" == e.prop50) && (e.prop50 = "page title"), e.eVar8 || (e.eVar8 = o.get("page.pageInfo.geoRegion"), _satellite.getVar("AA-marketCodes").indexOf(e.eVar8) < 0 && (e.account = "bmwgroup.group.global.test", e.eVar138 = "wrong market code", e.linkTrackVars = e.apl(e.linkTrackVars, "eVar138", ","))), !e.products) { var R = _satellite.getVar("setDefaultProductVariables"); e.products = R.toString() } e.eVar130 = _satellite.getVar("AA-hashedID"), e.eVar133 = _satellite.getVar("hashingMID"); try { function l(e) { var t = window.epaas.api.getPersistence(e); return JSON.parse(t) || {} } l("visitor_aa_hits").hasOwnProperty("pre") ? e.eVar195 = _satellite.getVar("Cluster_DE_VibeSegments") + (l("visitor_aa_hits").pre.seg ? "|" + l("visitor_aa_hits").pre.seg : "") : e.eVar195 = _satellite.getVar("Cluster_DE_VibeSegments") } catch (m) { _satellite.logger.error("\xcbrror from evar195 " + m) } if (e.linkTrackVars += ",eVar130,eVar133,eVar195", _satellite.getVar("AA-setFallbackValues"), "bmw.pt" == _satellite.getVar("topLevelDomain") && e && e.products) { var x = o.get("product.-1.attributes.mmdr"), E = x; if (E != x) { var T = (e.products.match(/[/]/g) || []).length; for (i = 0; i < T / 2; i++)e.products = e.products.replace(x, E) } } -1 != _satellite.getVar("topLevelDomain").indexOf("bmw") ? e.prop13 = "bmw" : -1 != _satellite.getVar("topLevelDomain").indexOf("mini") ? e.prop13 = "mini" : (e.account = "bmwgroup.group.global.test", void 0 === e.eVar138 ? e.eVar138 = "wrong brand" : e.eVar138 = e.eVar138 + "~wrong brand", e.linkTrackVars = e.apl(e.linkTrackVars, "eVar138", ",")); var I = (o = _satellite.getVar("snapshotDL")).get("page.category.subCategory03"); e.prop30 = I, e.linkTrackVars = e.apl(e.linkTrackVars, "prop30", ","); try { var _ = e.Util.cookieRead("gcdmToken"); _ && (e.prop40 = "logged-in"), "" == _ && (e.prop40 = "not logged-in") } catch (e) { } "Cookie drawer impression" == e.linkName && "bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking" == e.prop74 && (e.abort = !0), "bmw.it" !== _satellite.getVar("topLevelDomain") && "bmw.co.uk" !== _satellite.getVar("topLevelDomain") && "bmw.co.jp" !== _satellite.getVar("topLevelDomain") && "bmw.es" !== _satellite.getVar("topLevelDomain") && "bmw.be" !== _satellite.getVar("topLevelDomain") && "bmw.lu" !== _satellite.getVar("topLevelDomain") && "bmw.fr" !== _satellite.getVar("topLevelDomain") || (null != window.localStorage.getItem("hashedid") && _satellite.getVisitorId().setCustomerIDs({ bmwagcrm: { id: window.localStorage.getItem("hashedid"), authState: 1 } }), "" != _satellite.getVar("AAM-hashedemail") && null != _satellite.getVar("AAM-hashedemail") && null != _satellite.getVar("AAM-hashedemail") && _satellite.getVisitorId().setCustomerIDs({ bmwagcrm: { id: _satellite.getVar("AAM-hashedemail"), authState: 1 } }), "" != _satellite.getVar("AAM-hasheducid") && null != _satellite.getVar("AAM-hasheducid") && null != _satellite.getVar("AAM-hasheducid") && _satellite.getVisitorId().setCustomerIDs({ bmwcrmdata: { id: _satellite.getVar("AAM-hasheducid"), authState: 1 } }), "" != _satellite.getVar("AAM-hashedid_cookie") && null != typeof _satellite.getVar("AAM-hashedid_cookie") && null != _satellite.getVar("AAM-hashedid_cookie") && "undefined" != _satellite.getVar("AAM-hashedid_cookie") && _satellite.getVisitorId().setCustomerIDs({ bmwagcrm: { id: _satellite.getVar("AAM-hashedid_cookie"), authState: 1 } })); try { "bmw.it" !== _satellite.getVar("topLevelDomain") && "bmw.co.uk" !== _satellite.getVar("topLevelDomain") && "bmw.co.jp" !== _satellite.getVar("topLevelDomain") && "bmw.es" !== _satellite.getVar("topLevelDomain") && "bmw.be" !== _satellite.getVar("topLevelDomain") && "bmw.lu" !== _satellite.getVar("topLevelDomain") && "bmw.fr" !== _satellite.getVar("topLevelDomain") && "bmw.se" !== _satellite.getVar("topLevelDomain") && "bmw.fi" !== _satellite.getVar("topLevelDomain") && "bmw.no" !== _satellite.getVar("topLevelDomain") && "bmw.dk" !== _satellite.getVar("topLevelDomain") || "" != _satellite.getVar("AAM-hasheducid") && null != _satellite.getVar("AAM-hasheducid") && null != _satellite.getVar("AAM-hasheducid") && _satellite.getVisitorId().setCustomerIDs({ AdobeCampaignID: { id: _satellite.getVar("AAM-hasheducid"), authState: 1 } }) } catch (m) { _satellite.logger.error(m, "Hashed Email ID & Hashed UCID sync") } try { navigator.userAgent && (e.eVar141 = screen.width + "*" + screen.height) } catch (m) { d = { from: "AA", type: "screen height and width", name: "eVar141 workaround" }, _satellite.logger.error(m, d) } e.linkTrackVars = e.apl(e.linkTrackVars, "eVar141"); try { var A = ""; null != processingWrapper && (A = processingWrapper._getProcessingInfo("BaseTracking", { type: processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL, format: processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2 }).adobe); var k = "~" === A.charAt(0) ? A.substring(1) : A; e.linkTrackVars += ",list1", e.list1 = k } catch (m) { d = { from: "AA", type: "Config", name: "consentstatus" }, _satellite.logger.error(m, d) } e.eVar161 = "datalayer field missing", e.eVar162 = "datalayer field missing", e.linkTrackVars = e.apl(e.linkTrackVars, "eVar161,eVar162"), -1 == e.events.indexOf("event933") && e.sa(_satellite.getVar("AA-reportSuite")), e.eVar139 = _satellite.getVar("AA-eventFilter-priceControl")(""), e.linkTrackVars = e.apl(e.linkTrackVars, "eVar139") } catch (m) { d = { from: "AA", type: "Config", name: "Customize Page Code - Do Plugin" }, _satellite.logger.error(m, d) } }, e.registerPostTrackCallback((function () { try { var e = _satellite.getVar("snapshotDL"), t = e.get("event.-1.eventInfo.eventName"), s = e.get("event.-1.attributes.consentItemName"), a = _satellite.getVar("KIT-helpers").cache, o = a.get("analyticsConsentRejected") || "false"; ("reject consent" == t && "analytics" == s || "true" == o) && (a.set("analyticsConsentRejected", "false"), adobe.optIn.deny(adobe.OptInCategories.ECID), adobe.optIn.deny(adobe.OptInCategories.ANALYTICS)) } catch (e) { var n = { from: "AA", type: "AA-Extension", name: "Customize Page Code - registerPostTrackCallback" }; _satellite.logger.error(e, n) } })) } catch (e) { var o = { from: "AA", type: "Config", name: "Customize Page Code" }; _satellite.logger.error(e, o) } } }, libraryCode: { type: "managed", accounts: { staging: ["%AA-reportSuite%"], production: ["%AA-reportSuite%"], development: ["%AA-reportSuite%"] }, useActivityMap: !0, scopeTrackerGlobally: !0 }, moduleProperties: { audienceManager: { config: { partner: "%AAM-dummyPartnerID%" } } }, trackerProperties: { charSet: "UTF-8", currencyCode: "%AA-currencyCode%", cookieLifetime: "63072000", trackingServer: "bmwag.d3.sc.omtrdc.net", trackInlineStats: !1, trackDownloadLinks: !1, trackExternalLinks: !1, cookieDomainPeriods: "%cookieDomainPeriods%", trackingServerSecure: "bmwag.d3.sc.omtrdc.net", dynamicVariablePrefix: "d=", fpCookieDomainPeriods: "%cookieDomainPeriods%" } }, modules: { "adobe-analytics/src/lib/actions/clearVariables.js": { name: "clear-variables", displayName: "Clear Variables", script: function (e, t, s, a) { "use strict"; var o = s("../sharedModules/getTracker"); e.exports = function () { return o().then((function (e) { e.clearVars && (a.logger.info("Clear variables."), e.clearVars()) }), (function (e) { a.logger.error("Cannot clear variables: " + e) })) } } }, "adobe-analytics/src/lib/actions/sendBeacon.js": { name: "send-beacon", displayName: "Send Beacon", script: function (e, t, s, a) { "use strict"; var o = s("../sharedModules/getTracker"), n = s("../helpers/getNodeLinkText"), r = function (e) { return e && e.nodeName && "a" === e.nodeName.toLowerCase() }, i = function (e) { return r(e) ? n(e) : "link clicked" }, c = function (e, t, s) { if ("page" === t.type) a.logger.info("Firing page view beacon."), e.t(); else { var o = { linkType: t.linkType || "o", linkName: t.linkName || i(s) }; a.logger.info("Firing link track beacon using the values: " + JSON.stringify(o) + "."), e.tl(r(s) ? s : "true", o.linkType, o.linkName) } }; e.exports = function (e, t) { return o().then((function (s) { c(s, e, t.element) }), (function (e) { a.logger.error("Cannot send beacon: " + e) })) } } }, "adobe-analytics/src/lib/actions/setVariables.js": { name: "set-variables", displayName: "Set Variables", script: function (e, t, s, a) { "use strict"; var o = s("../sharedModules/getTracker"), n = s("../helpers/applyTrackerVariables"); e.exports = function (e, t) { return o().then((function (s) { a.logger.info("Set variables on the tracker."), n(s, e.trackerProperties), e.customSetup && e.customSetup.source && e.customSetup.source.call(t.element, t, s) }), (function (e) { a.logger.error("Cannot set variables: " + e) })) } } }, "adobe-analytics/src/lib/sharedModules/getTracker.js": { script: function (e, t, s, a) { "use strict"; var o, n = s("@adobe/reactor-cookie"), r = s("@adobe/reactor-promise"), i = s("@adobe/reactor-window"), c = s("../helpers/settingsHelper"), d = s("../helpers/augmenters"), l = s("../helpers/applyTrackerVariables"), u = s("../helpers/loadLibrary"), m = s("../helpers/generateVersion")(a.buildInfo.turbineBuildDate), b = "beforeSettings", p = a.getSharedModule("adobe-mcid", "mcid-instance"), g = function (e) { return !e || "true" === n.get(e) }, f = function (e) { return r.all(d.map((function (t) { var s; try { s = t(e) } catch (e) { setTimeout((function () { throw e })) } return r.resolve(s) }))).then((function () { return e })) }, v = function (e) { return p && (a.logger.info("Setting MCID instance on the tracker."), e.visitor = p), e }, h = function (e) { return a.logger.info('Setting version on tracker: "' + m + '".'), void 0 !== e.tagContainerMarker ? e.tagContainerMarker = m : "string" == typeof e.version && e.version.substring(e.version.length - 5) !== "-" + m && (e.version += "-" + m), e }, P = function (e, t, s) { return t.loadPhase === b && t.source && (a.logger.info("Calling custom script before settings."), t.source.call(i, s)), l(s, e || {}), t.loadPhase !== b && t.source && (a.logger.info("Calling custom script after settings."), t.source.call(i, s)), s }, j = function (e, t) { return c.isAudienceManagementEnabled(e) && (t.loadModule("AudienceManagement"), a.logger.info("Initializing AudienceManagement module"), t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)), t }, C = (o = a.getExtensionSettings(), g(o.trackingCookieName) ? u(o).then(f).then(v).then(h).then(P.bind(null, o.trackerProperties, o.customSetup || {})).then(j.bind(null, o)) : r.reject("EU compliance was not acknowledged by the user.")); e.exports = function () { return C } }, name: "get-tracker", shared: !0 }, "adobe-analytics/src/lib/sharedModules/augmentTracker.js": { name: "augment-tracker", shared: !0, script: function (e, t, s) { "use strict"; var a = s("../helpers/augmenters"); e.exports = function (e) { a.push(e) } } }, "adobe-analytics/src/lib/helpers/settingsHelper.js": { script: function (e, t, s, a) { "use strict"; var o = s("@adobe/reactor-window"), n = { LIB_TYPES: { MANAGED: "managed", PREINSTALLED: "preinstalled", REMOTE: "remote", CUSTOM: "custom" }, MANAGED_LIB_PATHS: { APP_MEASUREMENT: "AppMeasurement.js", ACTIVITY_MAP: "AppMeasurement_Module_ActivityMap.js", AUDIENCE_MANAGEMENT: "AppMeasurement_Module_AudienceManagement.js" }, getReportSuites: function (e) { var t = e.production; return e[a.environment.stage] && (t = e[a.environment.stage]), t.join(",") }, isActivityMapEnabled: function (e) { return !(e.libraryCode && !e.libraryCode.useActivityMap && !1 === e.libraryCode.useActivityMap) }, isAudienceManagementEnabled: function (e) { var t = !1; return e && e.moduleProperties && e.moduleProperties.audienceManager && e.moduleProperties.audienceManager.config && o && o._satellite && o._satellite.company && o._satellite.company.orgId && (t = !0), t } }; e.exports = n } }, "adobe-analytics/src/lib/helpers/augmenters.js": { script: function (e) { "use strict"; e.exports = [] } }, "adobe-analytics/src/lib/helpers/applyTrackerVariables.js": { script: function (e, t, s, a) { "use strict"; var o = s("@adobe/reactor-query-string"), n = s("@adobe/reactor-window"), r = /eVar([0-9]+)/, i = /prop([0-9]+)/, c = new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"), d = function (e, t, s) { return s.indexOf(e) === t }, l = function (e, t, s) { var a = Object.keys(t).filter(c.test.bind(c)); return s && a.push("events"), (a = a.concat((e.linkTrackVars || "").split(","))).filter((function (e, t) { return "None" !== e && e && d(e, t, a) })).join(",") }, u = function (e, t) { var s = t.map((function (e) { return e.name })); return (s = s.concat((e.linkTrackEvents || "").split(","))).filter((function (e, t) { return "None" !== e && d(e, t, s) })).join(",") }, m = function (e, t, s) { e[t] = s[t].join(",") }, b = function (e, t, s) { var a = s.dynamicVariablePrefix || "D="; s[t].forEach((function (t) { var s; if ("value" === t.type) s = t.value; else { var o = r.exec(t.value); if (o) s = a + "v" + o[1]; else { var n = i.exec(t.value); n && (s = a + "c" + n[1]) } } e[t.name] = s })) }, p = { linkDownloadFileTypes: m, linkExternalFilters: m, linkInternalFilters: m, hierarchies: function (e, t, s) { s[t].forEach((function (t) { e[t.name] = t.sections.join(t.delimiter) })) }, props: b, eVars: b, campaign: function (e, t, s) { if ("queryParam" === s[t].type) { var a = o.parse(n.location.search); e[t] = a[s[t].value] } else e[t] = s[t].value }, events: function (e, t, s) { var a = s[t].map((function (e) { var t = e.name; return e.id && (t = [t, e.id].join(":")), e.value && (t = [t, e.value].join("=")), t })); e[t] = a.join(",") } }; e.exports = function (e, t) { var s = {}; t = t || {}, Object.keys(t).forEach((function (e) { var a = p[e], o = t[e]; a ? a(s, e, t) : s[e] = o })), s.events && e.events && e.events.length > 0 && (s.events = e.events + "," + s.events); var o = t && t.events && t.events.length > 0, n = l(e, s, o); n && (s.linkTrackVars = n); var r = u(e, t.events || []); r && (s.linkTrackEvents = r), a.logger.info('Applying the following properties on tracker: "' + JSON.stringify(s) + '".'), Object.keys(s).forEach((function (t) { e[t] = s[t] })) } } }, "adobe-analytics/src/lib/helpers/loadLibrary.js": { script: function (e, t, s, a) { "use strict"; var o = s("@adobe/reactor-load-script"), n = s("@adobe/reactor-window"), r = s("@adobe/reactor-promise"), i = s("./settingsHelper"), c = s("./pollHelper"), d = function (e, t) { if (!n.s_gi) throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found." + n.AppMeasurement); a.logger.info('Creating AppMeasurement tracker with these report suites: "' + t + '"'); var s = n.s_gi(t); return e.libraryCode.scopeTrackerGlobally && (a.logger.info("Setting the tracker as window.s"), n.s = s), s }, l = function (e) { var t = []; switch (e.libraryCode.type) { case i.LIB_TYPES.MANAGED: t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.APP_MEASUREMENT)), i.isActivityMapEnabled(e) && t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.ACTIVITY_MAP)); break; case i.LIB_TYPES.CUSTOM: t.push(e.libraryCode.source); break; case i.LIB_TYPES.REMOTE: t.push("https:" === n.location.protocol ? e.libraryCode.httpsUrl : e.libraryCode.httpUrl) }if (i.isAudienceManagementEnabled(e)) { var s = { namespace: n._satellite.company.orgId }; e.moduleProperties.audienceManager.config.visitorService = s, t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT)) } return t }, u = function (e) { return r.all(l(e).map((function (e) { return a.logger.info("Loading script: " + e), o(e) }))) }, m = function (e, t) { if (e.libraryCode.accounts) if (t.sa) { var s = i.getReportSuites(e.libraryCode.accounts); a.logger.info('Setting the following report suites on the tracker: "' + s + '"'), t.sa(s) } else a.logger.warn("Cannot set report suites on tracker. `sa` method not available."); return t }, b = function (e) { if (n[e]) return a.logger.info('Found tracker located at: "' + e + '".'), n[e]; throw new Error('Cannot find the global variable name: "' + e + '".') }; e.exports = function (e) { var t = u(e); switch (e.libraryCode.type) { case i.LIB_TYPES.MANAGED: var s = i.getReportSuites(e.libraryCode.accounts); return t.then(d.bind(null, e, s)); case i.LIB_TYPES.PREINSTALLED: return t.then(c.poll.bind(null, n, e.libraryCode.trackerVariableName)).then(m.bind(null, e)); case i.LIB_TYPES.CUSTOM: case i.LIB_TYPES.REMOTE: return t.then(b.bind(null, e.libraryCode.trackerVariableName)).then(m.bind(null, e)); default: throw new Error("Cannot load library. Type not supported.") } } } }, "adobe-analytics/src/lib/helpers/generateVersion.js": { script: function (e) { "use strict"; var t = 8, s = function (e) { return e.getUTCDate().toString(36) }, a = function (e) { return e.substr(e.length - 1) }, o = function (e) { return Math.floor(e.getUTCHours() / t) }, n = function (e) { var t = (e.getUTCMonth() + 1 + 12 * o(e)).toString(36); return a(t) }, r = function (e) { return (e.getUTCFullYear() - 2010).toString(36) }; e.exports = function (e) { var t = new Date(e); if (isNaN(t)) throw new Error("Invalid date provided"); return ("L" + r(t) + n(t) + s(t)).toUpperCase() } } }, "adobe-analytics/src/lib/helpers/pollHelper.js": { script: function (e, t, s, a) { "use strict"; var o = s("@adobe/reactor-promise"), n = 40, r = 250, i = function (e, t, s) { a.logger.info('Found property located at: "' + t + '"].'), e(s) }, c = function (e, t) { return new o((function (s, a) { if (e[t]) return i(s, t, e[t]); var o = 1, c = setInterval((function () { e[t] && (i(s, t, e[t]), clearInterval(c)), o >= n && (clearInterval(c), a(new Error('Bailing out. Cannot find the variable name: "' + t + '"].'))), o++ }), r) })) }; e.exports = { poll: function (e, t) { return a.logger.info('Waiting for the property to become accessible at: "' + t + '"].'), c(e, t) } } } }, "adobe-analytics/src/lib/helpers/getNodeLinkText.js": { script: function (e) { "use strict"; var t = function (e) { return e && e.replace(/\s+/g, " ").trim() }, s = /^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i, a = function (e) { return !(e && e.nodeName && e.nodeName.match(s)) }, o = function (e) { var t = [], s = !1; return a(e) ? (t.push(e), e.childNodes && Array.prototype.slice.call(e.childNodes).forEach((function (e) { var a = o(e); t = t.concat(a.supportedNodes), s = s || a.includesUnsupportedNodes }))) : s = !0, { supportedNodes: t, includesUnsupportedNodes: s } }, n = function (e, t, s) { var a; return s && s !== e.nodeName.toUpperCase() || (a = e.getAttribute(t)), a }; e.exports = function (e) { var s = t(e.innerText || e.textContent), a = o(e); if (!s || a.includesUnsupportedNodes) { var r, i, c, d, l = []; a.supportedNodes.forEach((function (e) { e.getAttribute && (r = r || t(e.getAttribute("alt")), i = i || t(e.getAttribute("title")), c = c || t(n(e, "value", "INPUT")), d = d || t(n(e, "src", "IMG"))), e.nodeValue && l.push(e.nodeValue) })), (s = t(l.join(""))) || (s = t(r || i || c || d || "")) } return s } } } } }, core: {
            displayName: "Core", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/", modules: {
                "core/src/lib/dataElements/customCode.js": { name: "custom-code", displayName: "Custom Code", script: function (e) { "use strict"; e.exports = function (e, t) { return e.source(t) } } }, "core/src/lib/dataElements/queryStringParameter.js": { name: "query-string-parameter", displayName: "Query String Parameter", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window"), o = s("@adobe/reactor-query-string"); e.exports = function (e) { var t = o.parse(a.location.search); if (!e.caseInsensitive) return t[e.name]; for (var s = e.name.toLowerCase(), n = Object.keys(t), r = 0; r < n.length; r++) { var i = n[r]; if (i.toLowerCase() === s) return t[i] } } } }, "core/src/lib/dataElements/cookie.js": { name: "cookie", displayName: "Cookie", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-cookie"); e.exports = function (e) { return a.get(e.name) } } }, "core/src/lib/dataElements/pageInfo.js": { name: "page-info", displayName: "Page Info", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"); e.exports = function (e) { switch (e.attribute) { case "url": return a.location.href; case "hostname": return a.location.hostname; case "pathname": return a.location.pathname; case "protocol": return a.location.protocol; case "referrer": return a.referrer; case "title": return a.title } } } }, "core/src/lib/actions/customCode.js": { name: "custom-code", displayName: "Custom Code", script: function (e, t, s, a) { "use strict"; var o, n, r, i, c = s("@adobe/reactor-document"), d = s("@adobe/reactor-promise"), l = s("./helpers/decorateCode"), u = s("./helpers/loadCodeSequentially"), m = s("../../../node_modules/postscribe/dist/postscribe"), b = s("./helpers/unescapeHtmlCode"), p = s("../helpers/findPageScript").getTurbine, g = (n = function (e) { m(c.body, e, { beforeWriteToken: function (e) { var t = e.tagName && e.tagName.toLowerCase(); return o && "script" === t && (e.attrs.nonce = o), "script" !== t && "style" !== t || (Object.keys(e.attrs || {}).forEach((function (t) { e.attrs[t] = b(e.attrs[t]) })), e.src && (e.src = b(e.src))), e }, error: function (e) { a.logger.error(e.msg) } }) }, r = [], i = function () { if (c.body) for (; r.length;)n(r.shift()); else setTimeout(i, 20) }, function (e) { r.push(e), i() }), f = function () { if (c.currentScript) return c.currentScript.async; var e = p(); return !e || e.async }(); e.exports = function (e, t) { var s; o = a.getExtensionSettings().cspNonce; var n = { settings: e, event: t }, r = n.settings.source; if (r) return n.settings.isExternal ? u(r).then((function (e) { return e ? (s = l(n, e), g(s.code), s.promise) : d.resolve() })) : (s = l(n, r), f || "loading" !== c.readyState ? g(s.code) : c.write && !1 === a.propertySettings.ruleComponentSequencingEnabled ? c.write(s.code) : g(s.code), s.promise) } } }, "core/src/lib/events/directCall.js": { name: "direct-call", displayName: "Direct Call", script: function (e, t, s, a) { "use strict"; var o = {}; window._satellite = window._satellite || {}, window._satellite.track = function (e, t) { e = e.trim(); var s = o[e]; if (s) { var n = { identifier: e, detail: t }; s.forEach((function (e) { e(n) })); var r = ['Rules using the direct call event type with identifier "' + e + '" have been triggered' + (t ? " with additional detail:" : ".")]; t && r.push(t), a.logger.log.apply(a.logger, r) } else a.logger.log('"' + e + '" does not match any direct call identifiers.') }, e.exports = function (e, t) { var s = o[e.identifier]; s || (s = o[e.identifier] = []), s.push(t) } } }, "core/src/lib/events/click.js": { name: "click", displayName: "Click", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window"), o = s("./helpers/createBubbly")(), n = new (s("./helpers/weakMap")), r = 2, i = s("../helpers/stringAndNumberUtils").castToNumberIfString, c = function (e) { if (!e.ctrlKey && !e.metaKey && e.button !== r) for (var t = e.target; t;) { var s = t.tagName; if (s && "a" === s.toLowerCase()) { var o = t.getAttribute("href"), n = t.getAttribute("target"); return o && (!n || "_self" === n || "_top" === n && a.top === a || n === a.name) ? t : void 0 } t = t.parentNode } }; document.addEventListener("click", o.evaluateEvent, !0), e.exports = function (e, t) { o.addListener(e, (function (s) { var o = s.nativeEvent; if (!o.s_fe) { var r = i(e.anchorDelay); if (r && !n.has(o)) { var d = c(o); d && (o.preventDefault(), setTimeout((function () { a.location = d.href }), r)), n.set(o, !0) } t(s) } })) }, e.exports.__reset = o.__reset } }, "core/src/lib/conditions/subdomain.js": { name: "subdomain", displayName: "Subdomain", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"), o = s("../helpers/textMatch"); e.exports = function (e) { var t = a.location.hostname; return e.subdomains.some((function (e) { var s = e.valueIsRegex ? new RegExp(e.value, "i") : e.value; return o(t, s) })) } } }, "core/src/lib/events/customCode.js": { name: "custom-code", displayName: "Custom Code", script: function (e) { "use strict"; e.exports = function (e, t) { e.source(t) } } }, "core/src/lib/events/domReady.js": { name: "dom-ready", displayName: "DOM Ready", script: function (e, t, s) { "use strict"; var a = s("./helpers/pageLifecycleEvents"); e.exports = function (e, t) { a.registerDomReadyTrigger(t) } } }, "core/src/lib/events/customEvent.js": { name: "custom-event", displayName: "Custom Event", script: function (e, t, s) { "use strict"; var a = s("./helpers/createBubbly")(), o = []; e.exports = function (e, t) { var s = e.type; -1 === o.indexOf(s) && (o.push(s), window.addEventListener(s, a.evaluateEvent, !0)), a.addListener(e, (function (e) { e.nativeEvent.type === s && (e.detail = e.nativeEvent.detail, t(e)) })) } } }, "core/src/lib/conditions/path.js": { name: "path", displayName: "Path Without Query String", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"), o = s("../helpers/textMatch"); e.exports = function (e) { var t = a.location.pathname; return e.paths.some((function (e) { var s = e.valueIsRegex ? new RegExp(e.value, "i") : e.value; return o(t, s) })) } } }, "core/src/lib/events/windowLoaded.js": { name: "window-loaded", displayName: "Window Loaded", script: function (e, t, s) { "use strict"; var a = s("./helpers/pageLifecycleEvents"); e.exports = function (e, t) { a.registerWindowLoadedTrigger(t) } } }, "core/src/lib/conditions/valueComparison.js": {
                    name: "value-comparison", displayName: "Value Comparison", script: function (e, t, s) {
                        "use strict"; var a = s("../helpers/stringAndNumberUtils").isString, o = s("../helpers/stringAndNumberUtils").isNumber, n = s("../helpers/stringAndNumberUtils").castToStringIfNumber, r = s("../helpers/stringAndNumberUtils").castToNumberIfString, i = function (e, t) { return t && a(e) ? e.toLowerCase() : e }, c = function (e) {
                            return function (t, s, o) {
                                return t = n(t), s = n(s),
                                    a(t) && a(s) && e(t, s, o)
                            }
                        }, d = function (e) { return function (t, s) { return t = r(t), s = r(s), o(t) && o(s) && e(t, s) } }, l = function (e) { return function (t, s, a) { return e(i(t, a), i(s, a)) } }, u = { equals: l((function (e, t) { return e == t })), doesNotEqual: function () { return !u.equals.apply(null, arguments) }, contains: c(l((function (e, t) { return -1 !== e.indexOf(t) }))), doesNotContain: function () { return !u.contains.apply(null, arguments) }, startsWith: c(l((function (e, t) { return 0 === e.indexOf(t) }))), doesNotStartWith: function () { return !u.startsWith.apply(null, arguments) }, endsWith: c(l((function (e, t) { return e.substring(e.length - t.length, e.length) === t }))), doesNotEndWith: function () { return !u.endsWith.apply(null, arguments) }, matchesRegex: c((function (e, t, s) { return new RegExp(t, s ? "i" : "").test(e) })), doesNotMatchRegex: function () { return !u.matchesRegex.apply(null, arguments) }, lessThan: d((function (e, t) { return e < t })), lessThanOrEqual: d((function (e, t) { return e <= t })), greaterThan: d((function (e, t) { return e > t })), greaterThanOrEqual: d((function (e, t) { return e >= t })), isTrue: function (e) { return !0 === e }, isTruthy: function (e) { return Boolean(e) }, isFalse: function (e) { return !1 === e }, isFalsy: function (e) { return !e } }; e.exports = function (e) { return u[e.comparison.operator](e.leftOperand, e.rightOperand, Boolean(e.comparison.caseInsensitive)) }
                    }
                }, "core/src/lib/events/historyChange.js": { name: "history-change", displayName: "History Change", script: function (e, t, s) { "use strict"; var a = s("./helpers/debounce"), o = s("./helpers/once"), n = window.history, r = window.location.href, i = [], c = function (e, t, s) { var a = e[t]; e[t] = function () { var t = a.apply(e, arguments); return s.apply(null, arguments), t } }, d = a((function () { var e = window.location.href; r !== e && (i.forEach((function (e) { e() })), r = e) }), 0), l = o((function () { n && (n.pushState && c(n, "pushState", d), n.replaceState && c(n, "replaceState", d)), window.addEventListener("popstate", d), window.addEventListener("hashchange", d) })); e.exports = function (e, t) { l(), i.push(t) } } }, "core/src/lib/conditions/pathAndQuerystring.js": { name: "path-and-querystring", displayName: "Path And Query String", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"), o = s("../helpers/textMatch"); e.exports = function (e) { var t = a.location.pathname + a.location.search; return e.paths.some((function (e) { var s = e.valueIsRegex ? new RegExp(e.value, "i") : e.value; return o(t, s) })) } } }, "core/src/lib/conditions/customCode.js": { name: "custom-code", displayName: "Custom Code", script: function (e) { "use strict"; e.exports = function (e, t) { return e.source.call(t.element, t, t.target) } } }, "core/src/lib/actions/directCall.js": { name: "direct-call", displayName: "Trigger Direct Call", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window"); e.exports = function (e) { if (e && e.identifier) { var t = e.detail; if (t && Array.isArray(t.eventObjectEntries) && t.eventObjectEntries.length) { var s = {}; t.eventObjectEntries.forEach((function (e) { s[e.key] = e.value })), a._satellite.track(e.identifier, s) } else a._satellite.track(e.identifier) } } } }, "core/src/lib/events/submit.js": { name: "submit", displayName: "Submit", script: function (e, t, s) { "use strict"; var a = s("./helpers/createBubbly")(); document.addEventListener("submit", a.evaluateEvent, !0), e.exports = function (e, t) { a.addListener(e, t) } } }, "core/src/lib/conditions/domain.js": { name: "domain", displayName: "Domain", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"), o = /[|\\{}()[\]^$+*?.-]/g, n = function (e) { if ("string" != typeof e) throw new TypeError("Expected a string"); return e.replace(o, "\\$&") }; e.exports = function (e) { var t = a.location.hostname; return e.domains.some((function (e) { return t.match(new RegExp("(^|\\.)" + n(e) + "$", "i")) })) } } }, "core/src/lib/events/libraryLoaded.js": { name: "library-loaded", displayName: "Library Loaded (Page Top)", script: function (e, t, s) { "use strict"; var a = s("./helpers/pageLifecycleEvents"); e.exports = function (e, t) { a.registerLibraryLoadedTrigger(t) } } }, "core/src/lib/events/dataElementChange.js": { name: "data-element-change", displayName: "Data Element Change", script: function (e, t, s, a) { "use strict"; var o = {}, n = {}; setInterval((function () { Object.keys(o).forEach((function (e) { var t = JSON.stringify(a.getDataElementValue(e)); if (t !== n[e]) { var s = { dataElementName: e }; o[e].forEach((function (e) { e(s) })), n[e] = t } })) }), 1e3), e.exports = function (e, t) { var s = e.name, r = o[s]; r || (r = o[s] = [], n[s] = JSON.stringify(a.getDataElementValue(s))), r.push(t) } } }, "core/src/lib/events/change.js": { name: "change", displayName: "Change", script: function (e, t, s) { "use strict"; var a = s("./helpers/createBubbly")(), o = s("../helpers/textMatch"); document.addEventListener("change", a.evaluateEvent, !0), e.exports = function (e, t) { var s; void 0 !== e.value && (s = e.valueIsRegex ? new RegExp(e.value, "i") : e.value), a.addListener(e, (function (e) { if (void 0 !== s && !o(e.target.value, s)) return !1; t(e) })) } } }, "core/src/lib/conditions/variable.js": { name: "variable", displayName: "Variable", script: function (e, t, s) { "use strict"; var a = s("../helpers/getObjectProperty"), o = s("../helpers/textMatch"); e.exports = function (e) { var t = e.valueIsRegex ? new RegExp(e.value, "i") : e.value; return o(a(window, e.name), t) } } }, "core/src/lib/events/pageBottom.js": { name: "page-bottom", displayName: "Page Bottom", script: function (e, t, s) { "use strict"; var a = s("./helpers/pageLifecycleEvents"); e.exports = function (e, t) { a.registerPageBottomTrigger(t) } } }, "core/src/lib/events/elementExists.js": { name: "element-exists", displayName: "Element Exists", script: function (e, t, s) { "use strict"; var a = 3e3, o = new (s("./helpers/weakMap")), n = s("./helpers/matchesProperties"), r = {}; setInterval((function () { Object.keys(r).forEach((function (e) { for (var t = r[e], s = document.querySelectorAll(e), a = 0; a < s.length; a++) { var i = s[a]; if (!o.has(i)) { o.set(i, !0); for (var c = 0; c < t.length; c++) { var d = t[c]; n(i, d.settings.elementProperties) && (d.trigger({ element: i, target: i }), t.splice(c, 1), c--) } } if (!t.length) { delete r[e]; break } } })) }), a), e.exports = function (e, t) { var s = r[e.elementSelector]; s || (s = r[e.elementSelector] = []), s.push({ settings: e, trigger: t }) } } }, "core/src/lib/conditions/hash.js": { name: "hash", displayName: "Hash", script: function (e, t, s) { "use strict"; var a = s("../helpers/textMatch"); e.exports = function (e) { var t = document.location.hash; return e.hashes.some((function (e) { var s = e.valueIsRegex ? new RegExp(e.value, "i") : e.value; return a(t, s) })) } } }, "core/src/lib/actions/helpers/decorateCode.js": { script: function (e, t, s) { "use strict"; var a = s("./decorators/decorateGlobalJavaScriptCode"), o = s("./decorators/decorateNonGlobalJavaScriptCode"), n = { javascript: function (e, t) { return e.settings.global ? a(e, t) : o(e, t) }, html: s("./decorators/decorateHtmlCode") }; e.exports = function (e, t) { return n[e.settings.language](e, t) } } }, "core/src/lib/actions/helpers/loadCodeSequentially.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-promise"), o = s("./getSourceByUrl"), n = a.resolve(); e.exports = function (e) { var t = new a((function (t) { var s = o(e); a.all([s, n]).then((function (e) { var s = e[0]; t(s) })) })); return n = t, t } } }, "core/node_modules/postscribe/dist/postscribe.js": { script: function (e, t) { var s, a; s = this, a = function () { return function (e) { function t(a) { if (s[a]) return s[a].exports; var o = s[a] = { exports: {}, id: a, loaded: !1 }; return e[a].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports } var s = {}; return t.m = e, t.c = s, t.p = "", t(0) }([function (e, t, s) { "use strict"; function a(e) { return e && e.__esModule ? e : { default: e } } var o = a(s(1)); e.exports = o.default }, function (e, t, s) { "use strict"; function a(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]); return t.default = e, t } function o(e) { return e && e.__esModule ? e : { default: e } } function n() { } function r() { var e = p.shift(); if (e) { var t = u.last(e); t.afterDequeue(), e.stream = i.apply(void 0, e), t.afterStreamStart() } } function i(e, t, s) { function a(e) { e = s.beforeWrite(e), g.write(e), s.afterWrite(e) } (g = new l.default(e, s)).id = b++, g.name = s.name || g.id, c.streams[g.name] = g; var o = e.ownerDocument, i = { close: o.close, open: o.open, write: o.write, writeln: o.writeln }; d(o, { close: n, open: n, write: function () { for (var e = arguments.length, t = Array(e), s = 0; s < e; s++)t[s] = arguments[s]; return a(t.join("")) }, writeln: function () { for (var e = arguments.length, t = Array(e), s = 0; s < e; s++)t[s] = arguments[s]; return a(t.join("") + "\n") } }); var u = g.win.onerror || n; return g.win.onerror = function (e, t, a) { s.error({ msg: e + " - " + t + ": " + a }), u.apply(g.win, [e, t, a]) }, g.write(t, (function () { d(o, i), g.win.onerror = u, s.done(), g = null, r() })), g } function c(e, t, s) { if (u.isFunction(s)) s = { done: s }; else if ("clear" === s) return p = [], g = null, void (b = 0); s = u.defaults(s, m); var a = [e = /^#/.test(e) ? window.document.getElementById(e.substr(1)) : e.jquery ? e[0] : e, t, s]; return e.postscribe = { cancel: function () { a.stream ? a.stream.abort() : a[1] = n } }, s.beforeEnqueue(a), p.push(a), g || r(), e.postscribe } t.__esModule = !0; var d = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var s = arguments[t]; for (var a in s) Object.prototype.hasOwnProperty.call(s, a) && (e[a] = s[a]) } return e }; t.default = c; var l = o(s(2)), u = a(s(4)), m = { afterAsync: n, afterDequeue: n, afterStreamStart: n, afterWrite: n, autoFix: !0, beforeEnqueue: n, beforeWriteToken: function (e) { return e }, beforeWrite: function (e) { return e }, done: n, error: function (e) { throw new Error(e.msg) }, releaseAsync: !1 }, b = 0, p = [], g = null; d(c, { streams: {}, queue: p, WriteStream: l.default }) }, function (e, t, s) { "use strict"; function a(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]); return t.default = e, t } function o(e) { return e && e.__esModule ? e : { default: e } } function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function r(e, t) { var s = m + t, a = e.getAttribute(s); return l.existy(a) ? String(a) : a } function i(e, t) { var s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, a = m + t; l.existy(s) && "" !== s ? e.setAttribute(a, s) : e.removeAttribute(a) } t.__esModule = !0; var c = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var s = arguments[t]; for (var a in s) Object.prototype.hasOwnProperty.call(s, a) && (e[a] = s[a]) } return e }, d = o(s(3)), l = a(s(4)), u = !1, m = "data-ps-", b = "ps-style", p = "ps-script", g = function () { function e(t) { var s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; n(this, e), this.root = t, this.options = s, this.doc = t.ownerDocument, this.win = this.doc.defaultView || this.doc.parentWindow, this.parser = new d.default("", { autoFix: s.autoFix }), this.actuals = [t], this.proxyHistory = "", this.proxyRoot = this.doc.createElement(t.nodeName), this.scriptStack = [], this.writeQueue = [], i(this.proxyRoot, "proxyof", 0) } return e.prototype.write = function () { var e; for ((e = this.writeQueue).push.apply(e, arguments); !this.deferredRemote && this.writeQueue.length;) { var t = this.writeQueue.shift(); l.isFunction(t) ? this._callFunction(t) : this._writeImpl(t) } }, e.prototype._callFunction = function (e) { var t = { type: "function", value: e.name || e.toString() }; this._onScriptStart(t), e.call(this.win, this.doc), this._onScriptDone(t) }, e.prototype._writeImpl = function (e) { this.parser.append(e); for (var t = void 0, s = void 0, a = void 0, o = []; (t = this.parser.readToken()) && !(s = l.isScript(t)) && !(a = l.isStyle(t));)(t = this.options.beforeWriteToken(t)) && o.push(t); o.length > 0 && this._writeStaticTokens(o), s && this._handleScriptToken(t), a && this._handleStyleToken(t) }, e.prototype._writeStaticTokens = function (e) { var t = this._buildChunk(e); return t.actual ? (t.html = this.proxyHistory + t.actual, this.proxyHistory += t.proxy, this.proxyRoot.innerHTML = t.html, u && (t.proxyInnerHTML = this.proxyRoot.innerHTML), this._walkChunk(), u && (t.actualInnerHTML = this.root.innerHTML), t) : null }, e.prototype._buildChunk = function (e) { for (var t = this.actuals.length, s = [], a = [], o = [], n = e.length, r = 0; r < n; r++) { var i = e[r], c = i.toString(); if (s.push(c), i.attrs) { if (!/^noscript$/i.test(i.tagName)) { var d = t++; a.push(c.replace(/(\/?>)/, " " + m + "id=" + d + " $1")), i.attrs.id !== p && i.attrs.id !== b && o.push("atomicTag" === i.type ? "" : "<" + i.tagName + " " + m + "proxyof=" + d + (i.unary ? " />" : ">")) } } else a.push(c), o.push("endTag" === i.type ? c : "") } return { tokens: e, raw: s.join(""), actual: a.join(""), proxy: o.join("") } }, e.prototype._walkChunk = function () { for (var e = void 0, t = [this.proxyRoot]; l.existy(e = t.shift());) { var s = 1 === e.nodeType; if (!s || !r(e, "proxyof")) { s && (this.actuals[r(e, "id")] = e, i(e, "id")); var a = e.parentNode && r(e.parentNode, "proxyof"); a && this.actuals[a].appendChild(e) } t.unshift.apply(t, l.toArray(e.childNodes)) } }, e.prototype._handleScriptToken = function (e) { var t = this, s = this.parser.clear(); s && this.writeQueue.unshift(s), e.src = e.attrs.src || e.attrs.SRC, (e = this.options.beforeWriteToken(e)) && (e.src && this.scriptStack.length ? this.deferredRemote = e : this._onScriptStart(e), this._writeScriptToken(e, (function () { t._onScriptDone(e) }))) }, e.prototype._handleStyleToken = function (e) { var t = this.parser.clear(); t && this.writeQueue.unshift(t), e.type = e.attrs.type || e.attrs.TYPE || "text/css", (e = this.options.beforeWriteToken(e)) && this._writeStyleToken(e), t && this.write() }, e.prototype._writeStyleToken = function (e) { var t = this._buildStyle(e); this._insertCursor(t, b), e.content && (t.styleSheet && !t.sheet ? t.styleSheet.cssText = e.content : t.appendChild(this.doc.createTextNode(e.content))) }, e.prototype._buildStyle = function (e) { var t = this.doc.createElement(e.tagName); return t.setAttribute("type", e.type), l.eachKey(e.attrs, (function (e, s) { t.setAttribute(e, s) })), t }, e.prototype._insertCursor = function (e, t) { this._writeImpl('<span id="' + t + '"/>'); var s = this.doc.getElementById(t); s && s.parentNode.replaceChild(e, s) }, e.prototype._onScriptStart = function (e) { e.outerWrites = this.writeQueue, this.writeQueue = [], this.scriptStack.unshift(e) }, e.prototype._onScriptDone = function (e) { e === this.scriptStack[0] ? (this.scriptStack.shift(), this.write.apply(this, e.outerWrites), !this.scriptStack.length && this.deferredRemote && (this._onScriptStart(this.deferredRemote), this.deferredRemote = null)) : this.options.error({ msg: "Bad script nesting or script finished twice" }) }, e.prototype._writeScriptToken = function (e, t) { var s = this._buildScript(e), a = this._shouldRelease(s), o = this.options.afterAsync; e.src && (s.src = e.src, this._scriptLoadHandler(s, a ? o : function () { t(), o() })); try { this._insertCursor(s, p), s.src && !a || t() } catch (e) { this.options.error(e), t() } }, e.prototype._buildScript = function (e) { var t = this.doc.createElement(e.tagName); return l.eachKey(e.attrs, (function (e, s) { t.setAttribute(e, s) })), e.content && (t.text = e.content), t }, e.prototype._scriptLoadHandler = function (e, t) { function s() { e = e.onload = e.onreadystatechange = e.onerror = null } function a() { s(), null != t && t(), t = null } function o(e) { s(), r(e), null != t && t(), t = null } function n(e, t) { var s = e["on" + t]; null != s && (e["_on" + t] = s) } var r = this.options.error; n(e, "load"), n(e, "error"), c(e, { onload: function () { if (e._onload) try { e._onload.apply(this, Array.prototype.slice.call(arguments, 0)) } catch (t) { o({ msg: "onload handler failed " + t + " @ " + e.src }) } a() }, onerror: function () { if (e._onerror) try { e._onerror.apply(this, Array.prototype.slice.call(arguments, 0)) } catch (t) { return void o({ msg: "onerror handler failed " + t + " @ " + e.src }) } o({ msg: "remote script failed " + e.src }) }, onreadystatechange: function () { /^(loaded|complete)$/.test(e.readyState) && a() } }) }, e.prototype._shouldRelease = function (e) { return !/^script$/i.test(e.nodeName) || !!(this.options.releaseAsync && e.src && e.hasAttribute("async")) }, e }(); t.default = g }, function (e) { var t; t = function () { return function (e) { function t(a) { if (s[a]) return s[a].exports; var o = s[a] = { exports: {}, id: a, loaded: !1 }; return e[a].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports } var s = {}; return t.m = e, t.c = s, t.p = "", t(0) }([function (e, t, s) { "use strict"; function a(e) { return e && e.__esModule ? e : { default: e } } var o = a(s(1)); e.exports = o.default }, function (e, t, s) { "use strict"; function a(e) { return e && e.__esModule ? e : { default: e } } function o(e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var s in e) Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]); return t.default = e, t } function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } t.__esModule = !0; var r = o(s(2)), i = o(s(3)), c = a(s(6)), d = s(5), l = { comment: /^<!--/, endTag: /^<\//, atomicTag: /^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i, startTag: /^</, chars: /^[^<]/ }, u = function () { function e() { var t = this, s = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; n(this, e), this.stream = s; var o = !1, i = {}; for (var d in r) r.hasOwnProperty(d) && (a.autoFix && (i[d + "Fix"] = !0), o = o || i[d + "Fix"]); o ? (this._readToken = (0, c.default)(this, i, (function () { return t._readTokenImpl() })), this._peekToken = (0, c.default)(this, i, (function () { return t._peekTokenImpl() }))) : (this._readToken = this._readTokenImpl, this._peekToken = this._peekTokenImpl) } return e.prototype.append = function (e) { this.stream += e }, e.prototype.prepend = function (e) { this.stream = e + this.stream }, e.prototype._readTokenImpl = function () { var e = this._peekTokenImpl(); if (e) return this.stream = this.stream.slice(e.length), e }, e.prototype._peekTokenImpl = function () { for (var e in l) if (l.hasOwnProperty(e) && l[e].test(this.stream)) { var t = i[e](this.stream); if (t) return "startTag" === t.type && /script|style/i.test(t.tagName) ? null : (t.text = this.stream.substr(0, t.length), t) } }, e.prototype.peekToken = function () { return this._peekToken() }, e.prototype.readToken = function () { return this._readToken() }, e.prototype.readTokens = function (e) { for (var t = void 0; t = this.readToken();)if (e[t.type] && !1 === e[t.type](t)) return }, e.prototype.clear = function () { var e = this.stream; return this.stream = "", e }, e.prototype.rest = function () { return this.stream }, e }(); for (var m in t.default = u, u.tokenToString = function (e) { return e.toString() }, u.escapeAttributes = function (e) { var t = {}; for (var s in e) e.hasOwnProperty(s) && (t[s] = (0, d.escapeQuotes)(e[s], null)); return t }, u.supports = r, r) r.hasOwnProperty(m) && (u.browserHasFlaw = u.browserHasFlaw || !r[m] && m) }, function (e, t) { "use strict"; t.__esModule = !0; var s = !1, a = !1, o = window.document.createElement("div"); try { var n = "<P><I></P></I>"; o.innerHTML = n, t.tagSoup = s = o.innerHTML !== n } catch (e) { t.tagSoup = s = !1 } try { o.innerHTML = "<P><i><P></P></i></P>", t.selfClose = a = 2 === o.childNodes.length } catch (e) { t.selfClose = a = !1 } o = null, t.tagSoup = s, t.selfClose = a }, function (e, t, s) { "use strict"; function a(e) { var t = e.indexOf("-->"); if (t >= 0) return new d.CommentToken(e.substr(4, t - 1), t + 3) } function o(e) { var t = e.indexOf("<"); return new d.CharsToken(t >= 0 ? t : e.length) } function n(e) { var t, s, a; if (-1 !== e.indexOf(">")) { var o = e.match(l.startTag); if (o) { var n = (t = {}, s = {}, a = o[2], o[2].replace(l.attr, (function (e, o) { arguments[2] || arguments[3] || arguments[4] || arguments[5] ? arguments[5] ? (t[arguments[5]] = "", s[arguments[5]] = !0) : t[o] = arguments[2] || arguments[3] || arguments[4] || l.fillAttr.test(o) && o || "" : t[o] = "", a = a.replace(e, "") })), { v: new d.StartTagToken(o[1], o[0].length, t, s, !!o[3], a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")) }); if ("object" === (void 0 === n ? "undefined" : c(n))) return n.v } } } function r(e) { var t = n(e); if (t) { var s = e.slice(t.length); if (s.match(new RegExp("</\\s*" + t.tagName + "\\s*>", "i"))) { var a = s.match(new RegExp("([\\s\\S]*?)</\\s*" + t.tagName + "\\s*>", "i")); if (a) return new d.AtomicTagToken(t.tagName, a[0].length + t.length, t.attrs, t.booleanAttrs, a[1]) } } } function i(e) { var t = e.match(l.endTag); if (t) return new d.EndTagToken(t[1], t[0].length) } t.__esModule = !0; var c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; t.comment = a, t.chars = o, t.startTag = n, t.atomicTag = r, t.endTag = i; var d = s(4), l = { startTag: /^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/, endTag: /^<\/([\-A-Za-z0-9_]+)[^>]*>/, attr: /(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g, fillAttr: /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i } }, function (e, t, s) { "use strict"; function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } t.__esModule = !0, t.EndTagToken = t.AtomicTagToken = t.StartTagToken = t.TagToken = t.CharsToken = t.CommentToken = t.Token = void 0; var o = s(5), n = (t.Token = function e(t, s) { a(this, e), this.type = t, this.length = s, this.text = "" }, t.CommentToken = function () { function e(t, s) { a(this, e), this.type = "comment", this.length = s || (t ? t.length : 0), this.text = "", this.content = t } return e.prototype.toString = function () { return "<!--" + this.content }, e }(), t.CharsToken = function () { function e(t) { a(this, e), this.type = "chars", this.length = t, this.text = "" } return e.prototype.toString = function () { return this.text }, e }(), t.TagToken = function () { function e(t, s, o, n, r) { a(this, e), this.type = t, this.length = o, this.text = "", this.tagName = s, this.attrs = n, this.booleanAttrs = r, this.unary = !1, this.html5Unary = !1 } return e.formatTag = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, s = "<" + e.tagName; for (var a in e.attrs) if (e.attrs.hasOwnProperty(a)) { s += " " + a; var n = e.attrs[a]; void 0 !== e.booleanAttrs && void 0 !== e.booleanAttrs[a] || (s += '="' + (0, o.escapeQuotes)(n) + '"') } return e.rest && (s += " " + e.rest), e.unary && !e.html5Unary ? s += "/>" : s += ">", null != t && (s += t + "</" + e.tagName + ">"), s }, e }()); t.StartTagToken = function () { function e(t, s, o, n, r, i) { a(this, e), this.type = "startTag", this.length = s, this.text = "", this.tagName = t, this.attrs = o, this.booleanAttrs = n, this.html5Unary = !1, this.unary = r, this.rest = i } return e.prototype.toString = function () { return n.formatTag(this) }, e }(), t.AtomicTagToken = function () { function e(t, s, o, n, r) { a(this, e), this.type = "atomicTag", this.length = s, this.text = "", this.tagName = t, this.attrs = o, this.booleanAttrs = n, this.unary = !1, this.html5Unary = !1, this.content = r } return e.prototype.toString = function () { return n.formatTag(this, this.content) }, e }(), t.EndTagToken = function () { function e(t, s) { a(this, e), this.type = "endTag", this.length = s, this.text = "", this.tagName = t } return e.prototype.toString = function () { return "</" + this.tagName + ">" }, e }() }, function (e, t) { "use strict"; function s(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""; return e ? e.replace(/([^"]*)"/g, (function (e, t) { return /\\/.test(t) ? t + '"' : t + '\\"' })) : t } t.__esModule = !0, t.escapeQuotes = s }, function (e, t) { "use strict"; function s(e) { return e && "startTag" === e.type && (e.unary = i.test(e.tagName) || e.unary, e.html5Unary = !/\/>$/.test(e.text)), e } function a(e, t) { var a = e.stream, o = s(t()); return e.stream = a, o } function o(e, t) { var s = t.pop(); e.prepend("</" + s.tagName + ">") } function n() { var e = []; return e.last = function () { return this[this.length - 1] }, e.lastTagNameEq = function (e) { var t = this.last(); return t && t.tagName && t.tagName.toUpperCase() === e.toUpperCase() }, e.containsTagName = function (e) { for (var t, s = 0; t = this[s]; s++)if (t.tagName === e) return !0; return !1 }, e } function r(e, t, r) { function i() { var t = a(e, r); t && l[t.type] && l[t.type](t) } var d = n(), l = { startTag: function (s) { var a = s.tagName; "TR" === a.toUpperCase() && d.lastTagNameEq("TABLE") ? (e.prepend("<TBODY>"), i()) : t.selfCloseFix && c.test(a) && d.containsTagName(a) ? d.lastTagNameEq(a) ? o(e, d) : (e.prepend("</" + s.tagName + ">"), i()) : s.unary || d.push(s) }, endTag: function (s) { d.last() ? t.tagSoupFix && !d.lastTagNameEq(s.tagName) ? o(e, d) : d.pop() : t.tagSoupFix && (r(), i()) } }; return function () { return i(), s(r()) } } t.__esModule = !0, t.default = r; var i = /^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i, c = /^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i }]) }, e.exports = t() }, function (e, t) { "use strict"; function s(e) { return null != e } function a(e) { return "function" == typeof e } function o(e, t, s) { var a = void 0, o = e && e.length || 0; for (a = 0; a < o; a++)t.call(s, e[a], a) } function n(e, t, s) { for (var a in e) e.hasOwnProperty(a) && t.call(s, a, e[a]) } function r(e, t) { return e = e || {}, n(t, (function (t, a) { s(e[t]) || (e[t] = a) })), e } function i(e) { try { return Array.prototype.slice.call(e) } catch (a) { var t = (s = [], o(e, (function (e) { s.push(e) })), { v: s }); if ("object" === (void 0 === t ? "undefined" : m(t))) return t.v } var s } function c(e) { return e[e.length - 1] } function d(e, t) { return !(!e || "startTag" !== e.type && "atomicTag" !== e.type || !("tagName" in e) || !~e.tagName.toLowerCase().indexOf(t)) } function l(e) { return d(e, "script") } function u(e) { return d(e, "style") } t.__esModule = !0; var m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; t.existy = s, t.isFunction = a, t.each = o, t.eachKey = n, t.defaults = r, t.toArray = i, t.last = c, t.isTag = d, t.isScript = l, t.isStyle = u }]) }, "object" == typeof t && "object" == typeof e ? e.exports = a() : "function" == typeof define && define.amd ? define([], a) : "object" == typeof t ? t.postscribe = a() : s.postscribe = a() } }, "core/src/lib/actions/helpers/unescapeHtmlCode.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document").createElement("div"); e.exports = function (e) { return a.innerHTML = e, a.textContent || a.innerText || e } } }, "core/src/lib/helpers/findPageScript.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-document"), o = function (e) { for (var t = a.querySelectorAll("script"), s = 0; s < t.length; s++) { var o = t[s]; if (e.test(o.src)) return o } }, n = function () { return o(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/)) }; e.exports = { getTurbine: n, byRegexPattern: o } } }, "core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-promise"); e.exports = function (e, t) { return { code: "<script>\n" + t + "\n</script>", promise: a.resolve() } } } }, "core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-promise"), o = 0; e.exports = function (e, t) { var s = "_runScript" + ++o, n = new a((function (t, o) { _satellite[s] = function (n) { delete _satellite[s], new a((function (t) { t(n.call(e.event.element, e.event, e.event.target, a)) })).then(t, o) } })); return { code: '<script>_satellite["' + s + '"](function(event, target, Promise) {\n' + t + "\n});</script>", promise: n } } } }, "core/src/lib/actions/helpers/decorators/decorateHtmlCode.js": { script: function (e, t, s, a) { "use strict"; var o = s("@adobe/reactor-promise"), n = 0, r = {}; window._satellite = window._satellite || {}, window._satellite._onCustomCodeSuccess = function (e) { var t = r[e]; t && (delete r[e], t.resolve()) }, window._satellite._onCustomCodeFailure = function (e) { var t = r[e]; t && (delete r[e], t.reject()) }; var i = function (e) { return -1 !== e.indexOf("${reactorCallbackId}") }, c = function (e, t) { return e.replace(/\${reactorCallbackId}/g, t) }, d = function (e) { return e.settings.isExternal }; e.exports = function (e, t) { var s; return d(e) && (t = a.replaceTokens(t, e.event)), i(t) ? (s = new o((function (e, t) { r[String(n)] = { resolve: e, reject: t } })), t = c(t, n), n += 1) : s = o.resolve(), { code: t, promise: s } } } }, "core/src/lib/actions/helpers/getSourceByUrl.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-load-script"), o = s("@adobe/reactor-promise"), n = s("../../helpers/findPageScript").byRegexPattern, r = {}, i = {}, c = function (e) { return i[e] || (i[e] = a(e)), i[e] }; _satellite.__registerScript = function (e, t) { var s; if (document.currentScript) s = document.currentScript.getAttribute("src"); else { var a = new RegExp(".*" + e + ".*"); s = n(a).getAttribute("src") } r[s] = t }, e.exports = function (e) { return r[e] ? o.resolve(r[e]) : new o((function (t) { c(e).then((function () { t(r[e]) }), (function () { t() })) })) } } }, "core/src/lib/events/helpers/createBubbly.js": { script: function (e, t, s) { "use strict"; var a = s("./weakMap"), o = s("./matchesProperties"), n = s("./matchesSelector"); e.exports = function () { var e = [], t = new a, s = { addListener: function (t, s) { e.push({ settings: t, callback: s }) }, evaluateEvent: function (s, a) { if (e.length && !t.has(s)) { for (var r = s.target, i = !1; r;) { for (var c = !1, d = !1, l = 0; l < e.length; l++) { var u = e[l], m = u.settings.elementSelector, b = u.settings.elementProperties; if ((!1 !== u.settings.bubbleFireIfChildFired || !i) && (r === s.target || !1 !== u.settings.bubbleFireIfParent) && (r === s.target || m || b && Object.keys(b).length) && (!m || n(r, m)) && (!b || o(r, b))) { var p = {}; a ? Object.keys(s).forEach((function (e) { p[e] = s[e] })) : p.nativeEvent = s, p.element = r, p.target = s.target, !1 !== u.callback(p) && (d = !0, u.settings.bubbleStop && (c = !0)) } } if (c) break; d && (i = !0), r = r.parentNode } t.set(s, !0) } }, __reset: function () { e = [] } }; return s } } }, "core/src/lib/events/helpers/weakMap.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window").WeakMap; if (void 0 === a) { var o = Object.defineProperty, n = Date.now() % 1e9; (a = function () { this.name = "__st" + (1e9 * Math.random() >>> 0) + n++ + "__" }).prototype = { set: function (e, t) { var s = e[this.name]; return s && s[0] === e ? s[1] = t : o(e, this.name, { value: [e, t], writable: !0 }), this }, get: function (e) { var t; return (t = e[this.name]) && t[0] === e ? t[1] : void 0 }, delete: function (e) { var t = e[this.name]; return !(!t || t[0] !== e || (t[0] = t[1] = void 0, 0)) }, has: function (e) { var t = e[this.name]; return !!t && t[0] === e } } } e.exports = a } }, "core/src/lib/helpers/stringAndNumberUtils.js": { script: function (e) { "use strict"; var t = function (e) { return "number" == typeof e && isFinite(e) }, s = function (e) { return "string" == typeof e || e instanceof String }, a = function (e) { return t(e) ? String(e) : e }, o = function (e) { return s(e) ? Number(e) : e }; e.exports = { isNumber: t, isString: s, castToStringIfNumber: a, castToNumberIfString: o } } }, "core/src/lib/events/helpers/matchesProperties.js": { script: function (e, t, s) { "use strict"; var a = s("./../../helpers/textMatch"), o = function (e, t) { return "@text" === t || "innerText" === t ? e.textContent || e.innerText : t in e ? e[t] : e.getAttribute ? e.getAttribute(t) : void 0 }; e.exports = function (e, t) { return !t || t.every((function (t) { var s = o(e, t.name), n = t.valueIsRegex ? new RegExp(t.value, "i") : t.value; return a(s, n) })) } } }, "core/src/lib/events/helpers/matchesSelector.js": { script: function (e, t, s, a) { "use strict"; e.exports = function (e, t) { var s = e.matches || e.msMatchesSelector; if (s) try { return s.call(e, t) } catch (e) { return a.logger.warn("Matching element failed. " + t + " is not a valid selector."), !1 } return !1 } } }, "core/src/lib/helpers/textMatch.js": { script: function (e) { "use strict"; e.exports = function (e, t) { if (null == t) throw new Error("Illegal Argument: Pattern is not present"); return null != e && ("string" == typeof t ? e === t : t instanceof RegExp && t.test(e)) } } }, "core/src/lib/events/helpers/pageLifecycleEvents.js": { script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window"), o = s("@adobe/reactor-document"), n = -1 !== a.navigator.appVersion.indexOf("MSIE 10"), r = "WINDOW_LOADED", i = "DOM_READY", c = "PAGE_BOTTOM", d = [c, i, r], l = function (e, t) { return { element: e, target: e, nativeEvent: t } }, u = {}; d.forEach((function (e) { u[e] = [] })); var m = function (e, t) { d.slice(0, p(e) + 1).forEach((function (e) { g(t, e) })) }, b = function () { return "complete" === o.readyState ? r : "interactive" === o.readyState ? n ? null : i : void 0 }, p = function (e) { return d.indexOf(e) }, g = function (e, t) { u[t].forEach((function (t) { f(e, t) })), u[t] = [] }, f = function (e, t) { var s = t.trigger, a = t.syntheticEventFn; s(a ? a(e) : null) }; a._satellite = a._satellite || {}, a._satellite.pageBottom = m.bind(null, c), o.addEventListener("DOMContentLoaded", m.bind(null, i), !0), a.addEventListener("load", m.bind(null, r), !0), a.setTimeout((function () { var e = b(); e && m(e) }), 0), e.exports = { registerLibraryLoadedTrigger: function (e) { e() }, registerPageBottomTrigger: function (e) { u[c].push({ trigger: e }) }, registerDomReadyTrigger: function (e) { u[i].push({ trigger: e, syntheticEventFn: l.bind(null, o) }) }, registerWindowLoadedTrigger: function (e) { u[r].push({ trigger: e, syntheticEventFn: l.bind(null, a) }) } } } }, "core/src/lib/events/helpers/debounce.js": { script: function (e) { "use strict"; e.exports = function (e, t, s) { var a = null; return function () { var o = s || this, n = arguments; clearTimeout(a), a = setTimeout((function () { e.apply(o, n) }), t) } } } }, "core/src/lib/events/helpers/once.js": { script: function (e) { "use strict"; e.exports = function (e, t) { var s; return function () { return e && (s = e.apply(t || this, arguments), e = null), s } } } }, "core/src/lib/helpers/getObjectProperty.js": { script: function (e) { "use strict"; e.exports = function (e, t) { for (var s = t.split("."), a = e, o = 0, n = s.length; o < n; o++) { if (null == a) return; a = a[s[o]] } return a } } }
            }
        }, "adobe-mcid": {
            displayName: "Experience Cloud ID Service", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EPbdfb4b2e3570442dafcd49b858f2288a/", settings: { orgId: "B52D1CFE5330949C0A490D45@AdobeOrg", variables: [{ name: "trackingServer", value: "bmwag.d3.sc.omtrdc.net" }, { name: "trackingServerSecure", value: "bmwag.d3.sc.omtrdc.net" }, { name: "cookieDomain", value: "%topLevelDomain%" }, { name: "idSyncContainerID", value: "%AAM-containerID%" }], isIabContext: !1, doesOptInApply: !0, previousPermissions: "%ECID-previousPermissions%", isOptInStorageEnabled: !1 }, modules: {
                "adobe-mcid/src/lib/sharedModules/mcidInstance.js": {
                    script: function (e, t, s, a) {
                        "use strict"; var o = s("@adobe/reactor-document"), n = s("../codeLibrary/VisitorAPI"), r = s("../../view/utils/timeUnits"), i = function (e) { return e.reduce((function (e, t) { var s = /^(true|false)$/i.test(t.value) ? JSON.parse(t.value) : t.value; return e[t.name] = s, e }), {}) }, c = function (e) {
                            var t = a.getExtensionSettings(); if ("string" != typeof t.orgId) throw new TypeError("Org ID is not a string."); var s = i(t.variables || []), o = t.doesOptInApply; o && ("boolean" == typeof o ? s.doesOptInApply = o : t.optInCallback && (s.doesOptInApply = t.optInCallback)); var n = t.isOptInStorageEnabled; n && (s.isOptInStorageEnabled = n); var c = t.optInCookieDomain; c && (s.optInCookieDomain = c); var d = t.optInStorageExpiry; if (d) { var l = t.timeUnit; if (l && r[l]) { var u = d * r[l]; s.optInStorageExpiry = u } } else !0 === n && (s.optInStorageExpiry = 33696e3); var m = t.previousPermissions; m && (s.previousPermissions = m); var b = t.preOptInApprovals; if (b) s.preOptInApprovals = b; else {
                                var p = t.preOptInApprovalInput; p && (s.preOptInApprovals = p)
                            } var g = t.isIabContext; g && (s.isIabContext = g); var f = e.getInstance(t.orgId, s); return a.logger.info('Created instance using orgId: "' + t.orgId + '"'), a.logger.info("Set variables: " + JSON.stringify(s)), f.getMarketingCloudVisitorID((function (e) { a.logger.info("Obtained Marketing Cloud Visitor Id: " + e) }), !0), f
                        }, d = function (e) { return (a.getExtensionSettings().pathExclusions || []).some((function (t) { return t.valueIsRegex ? new RegExp(t.value, "i").test(e) : t.value === e })) }, l = null; _satellite.getVisitorId = function () { return l }, d(o.location.pathname) ? a.logger.warn("MCID library not loaded. One of the path exclusions matches the current path.") : l = c(n), e.exports = l
                    }, name: "mcid-instance", shared: !0
                }, "adobe-mcid/src/lib/codeLibrary/VisitorAPI.js": {
                    script: function (e) {
                        e.exports = (function () {
                            "use strict"; function e(t) { return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(t) } function t(e, t, s) { return t in e ? Object.defineProperty(e, t, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = s, e } function s() { return { callbacks: {}, add: function (e, t) { this.callbacks[e] = this.callbacks[e] || []; var s = this.callbacks[e].push(t) - 1, a = this; return function () { a.callbacks[e].splice(s, 1) } }, execute: function (e, t) { if (this.callbacks[e]) { t = (t = void 0 === t ? [] : t) instanceof Array ? t : [t]; try { for (; this.callbacks[e].length;) { var s = this.callbacks[e].shift(); "function" == typeof s ? s.apply(null, t) : s instanceof Array && s[1].apply(s[0], t) } delete this.callbacks[e] } catch (e) { } } }, executeAll: function (e, t) { (t || e && !A.isObjectEmpty(e)) && Object.keys(this.callbacks).forEach((function (t) { var s = void 0 !== e[t] ? e[t] : ""; this.execute(t, s) }), this) }, hasCallbacks: function () { return Boolean(Object.keys(this.callbacks).length) } } } function a(e, t, s) { var a = null == e ? void 0 : e[t]; return void 0 === a ? s : a } function o(e) { for (var t = /^\d+$/, s = 0, a = e.length; s < a; s++)if (!t.test(e[s])) return !1; return !0 } function n(e, t) { for (; e.length < t.length;)e.push("0"); for (; t.length < e.length;)t.push("0") } function r(e, t) { for (var s = 0; s < e.length; s++) { var a = parseInt(e[s], 10), o = parseInt(t[s], 10); if (a > o) return 1; if (o > a) return -1 } return 0 } function i(e, t) { if (e === t) return 0; var s = e.toString().split("."), a = t.toString().split("."); return o(s.concat(a)) ? (n(s, a), r(s, a)) : NaN } function c(e) { return e === Object(e) && 0 === Object.keys(e).length } function d(e) { return "function" == typeof e || e instanceof Array && e.length } function l() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function () { return !0 }; this.log = le("log", e, t), this.warn = le("warn", e, t), this.error = le("error", e, t) } function u() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).cookieName, t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).cookies; if (!e || !t) return { get: xe, set: xe, remove: xe }; var s = { remove: function () { t.remove(e) }, get: function () { var s = t.get(e), a = {}; try { a = JSON.parse(s) } catch (s) { a = {} } return a }, set: function (a, o) { o = o || {}; var n = s.get(), r = Object.assign(n, a); t.set(e, JSON.stringify(r), { domain: o.optInCookieDomain || "", cookieLifetime: o.optInStorageExpiry || 3419e4, expires: !0 }) } }; return s } function m(e) { this.name = this.constructor.name, this.message = e, "function" == typeof Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error(e).stack } function b() { function e(e, t) { var s = ge(e); return s.length ? s.every((function (e) { return !!t[e] })) : fe(t) } function t() { E(R), x(te.COMPLETE), f(g.status, g.permissions), i && p.set(g.permissions, { optInCookieDomain: c, optInStorageExpiry: d }), v.execute(ke) } function s(e) { return function (s, a) { if (!ve(s)) throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum."); return x(te.CHANGED), Object.assign(R, he(ge(s), e)), a || t(), g } } var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, o = a.doesOptInApply, n = a.previousPermissions, r = a.preOptInApprovals, i = a.isOptInStorageEnabled, c = a.optInCookieDomain, d = a.optInStorageExpiry, l = a.isIabContext, m = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).cookies, b = Ee(n); Te(b, "Invalid `previousPermissions`!"), Te(r, "Invalid `preOptInApprovals`!"); var p = u({ cookieName: "adobeujs-optin" }, { cookies: m }), g = this, f = ee(g), v = ie(), h = Ce(b), P = Ce(r), j = i ? p.get() : {}, C = {}, y = function (e, t) { return ye(e) || t && ye(t) ? te.COMPLETE : te.PENDING }(h, j), w = function (e, t, s) { var a = he(re, !o); return o ? Object.assign({}, a, e, t, s) : a }(P, h, j), R = Pe(w), x = function (e) { return y = e }, E = function (e) { return w = e }; g.deny = s(!1), g.approve = s(!0), g.denyAll = g.deny.bind(g, re), g.approveAll = g.approve.bind(g, re), g.isApproved = function (t) { return e(t, g.permissions) }, g.isPreApproved = function (t) { return e(t, P) }, g.fetchPermissions = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], s = t ? g.on(te.COMPLETE, e) : xe; return !o || o && g.isComplete || r ? e(g.permissions) : t || v.add(ke, (function () { return e(g.permissions) })), s }, g.complete = function () { g.status === te.CHANGED && t() }, g.registerPlugin = function (e) { if (!e || !e.name || "function" != typeof e.onRegister) throw new Error(Le); C[e.name] || (C[e.name] = e, e.onRegister.call(e, g)) }, g.execute = Ae(C), g.memoizeContent = function (e) { Re(e) && p.set(e, { optInCookieDomain: c, optInStorageExpiry: d }) }, g.getMemoizedContent = function (e) { var t = p.get(); if (t) return t[e] }, Object.defineProperties(g, { permissions: { get: function () { return w } }, status: { get: function () { return y } }, Categories: { get: function () { return se } }, doesOptInApply: { get: function () { return !!o } }, isPending: { get: function () { return g.status === te.PENDING } }, isComplete: { get: function () { return g.status === te.COMPLETE } }, __plugins: { get: function () { return Object.keys(C) } }, isIabContext: { get: function () { return l } } }) } function p(e, t) { function s() { o = null, e.call(e, new m("The call took longer than you wanted!")) } function a() { o && (clearTimeout(o), e.apply(e, arguments)) } if (void 0 === t) return e; var o = setTimeout(s, t); return a } function g() { if (window.__tcfapi) return window.__tcfapi; var e = window; if (e !== window.top) { for (var t; !t;) { e = e.parent; try { e.frames.__tcfapiLocator && (t = e) } catch (e) { } if (e === window.top) break } if (t) { var s = {}; return window.__tcfapi = function (e, a, o, n) { var r = Math.random() + "", i = { __tcfapiCall: { command: e, parameter: n, version: a, callId: r } }; s[r] = o, t.postMessage(i, "*") }, window.addEventListener("message", (function (e) { var t = e.data; if ("string" == typeof t) try { t = JSON.parse(e.data) } catch (e) { } if (t.__tcfapiReturn) { var a = t.__tcfapiReturn; "function" == typeof s[a.callId] && (s[a.callId](a.returnValue, a.success), delete s[a.callId]) } }), !1), window.__tcfapi } be.error("__tcfapi not found") } else be.error("__tcfapi not found") } function f(e, t) { var s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], a = !0 === e.vendor.consents[t], o = s.every((function (t) { return !0 === e.purpose.consents[t] })); return a && o } function v() { var e = this; e.name = "iabPlugin", e.version = "0.0.2"; var t, s = ie(), a = { transparencyAndConsentData: null }, o = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return a[e] = t }; e.fetchConsentData = function (e) { var t = p(e.callback, e.timeout); n({ callback: t }) }, e.isApproved = function (e) { var t = e.callback, s = e.category, o = e.timeout; if (a.transparencyAndConsentData) return t(null, f(a.transparencyAndConsentData, ae[s], oe[s])); var r = p((function (e, a) { t(e, f(a, ae[s], oe[s])) }), o); n({ category: s, callback: r }) }, e.onRegister = function (s) { t = s; var a = Object.keys(ae), o = function (e, t) { !e && t && (a.forEach((function (e) { var a = f(t, ae[e], oe[e]); s[a ? "approve" : "deny"](e, !0) })), s.complete()) }; e.fetchConsentData({ callback: o }) }; var n = function (e) { var n = e.callback; if (a.transparencyAndConsentData) return n(null, a.transparencyAndConsentData); s.add("FETCH_CONSENT_DATA", n), r((function (e, n) { if (n) { var r = Pe(e), i = t.getMemoizedContent("iabConsentHash"), c = me(r.tcString).toString(32); r.consentString = e.tcString, r.hasConsentChangedSinceLastCmpPull = i !== c, o("transparencyAndConsentData", r), t.memoizeContent({ iabConsentHash: c }) } s.execute("FETCH_CONSENT_DATA", [null, a.transparencyAndConsentData]) })) }, r = function (e) { var t = _e(ae), s = g(); "function" == typeof s && s("getTCData", 2, e, t) } } var h = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}; Object.assign = Object.assign || function (e) { for (var t, s, a = 1; a < arguments.length; ++a)for (t in s = arguments[a]) Object.prototype.hasOwnProperty.call(s, t) && (e[t] = s[t]); return e }; var P, j, C = { MESSAGES: { HANDSHAKE: "HANDSHAKE", GETSTATE: "GETSTATE", PARENTSTATE: "PARENTSTATE" }, STATE_KEYS_MAP: { MCMID: "MCMID", MCAID: "MCAID", MCAAMB: "MCAAMB", MCAAMLH: "MCAAMLH", MCOPTOUT: "MCOPTOUT", CUSTOMERIDS: "CUSTOMERIDS" }, ASYNC_API_MAP: { MCMID: "getMarketingCloudVisitorID", MCAID: "getAnalyticsVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "isOptedOut", ALLFIELDS: "getVisitorValues" }, SYNC_API_MAP: { CUSTOMERIDS: "getCustomerIDs" }, ALL_APIS: { MCMID: "getMarketingCloudVisitorID", MCAAMB: "getAudienceManagerBlob", MCAAMLH: "getAudienceManagerLocationHint", MCOPTOUT: "isOptedOut", MCAID: "getAnalyticsVisitorID", CUSTOMERIDS: "getCustomerIDs", ALLFIELDS: "getVisitorValues" }, FIELDGROUP_TO_FIELD: { MC: "MCMID", A: "MCAID", AAM: "MCAAMB" }, FIELDS: { MCMID: "MCMID", MCOPTOUT: "MCOPTOUT", MCAID: "MCAID", MCAAMLH: "MCAAMLH", MCAAMB: "MCAAMB" }, AUTH_STATE: { UNKNOWN: 0, AUTHENTICATED: 1, LOGGED_OUT: 2 }, OPT_OUT: { GLOBAL: "global" }, SAME_SITE_VALUES: { LAX: "Lax", STRICT: "Strict", NONE: "None" } }, y = C.STATE_KEYS_MAP, w = function (e) { function t() { } function s(t, s) { var a = this; return function () { var o = e(0, t), n = {}; return n[t] = o, a.setStateAndPublish(n), s(o), o } } this.getMarketingCloudVisitorID = function (e) { e = e || t; var a = this.findField(y.MCMID, e), o = s.call(this, y.MCMID, e); return void 0 !== a ? a : o() }, this.getVisitorValues = function (e) { this.getMarketingCloudVisitorID((function (t) { e({ MCMID: t }) })) } }, R = C.MESSAGES, x = C.ASYNC_API_MAP, E = C.SYNC_API_MAP, T = function () { function e() { } function t(e, t) { var s = this; return function () { return s.callbackRegistry.add(e, t), s.messageParent(R.GETSTATE), "" } } function s(s) { this[x[s]] = function (a) { a = a || e; var o = this.findField(s, a), n = t.call(this, s, a); return void 0 !== o ? o : n() } } function a(t) { this[E[t]] = function () { return this.findField(t, e) || {} } } Object.keys(x).forEach(s, this), Object.keys(E).forEach(a, this) }, I = C.ASYNC_API_MAP, _ = function () { Object.keys(I).forEach((function (e) { this[I[e]] = function (t) { this.callbackRegistry.add(e, t) } }), this) }, A = function (e, t) { return e(t = { exports: {} }, t.exports), t.exports }((function (t, s) { s.isObjectEmpty = function (e) { return e === Object(e) && 0 === Object.keys(e).length }, s.isValueEmpty = function (e) { return "" === e || s.isObjectEmpty(e) }; var a = function () { var e = navigator.appName, t = navigator.userAgent; return "Microsoft Internet Explorer" === e || t.indexOf("MSIE ") >= 0 || t.indexOf("Trident/") >= 0 && t.indexOf("Windows NT 6") >= 0 }; s.getIeVersion = function () { return document.documentMode ? document.documentMode : a() ? 7 : null }, s.isFirefox = function (e) { return !!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e || window.navigator.userAgent) }, s.encodeAndBuildRequest = function (e, t) { return e.map(encodeURIComponent).join(t) }, s.isObject = function (t) { return null !== t && "object" === e(t) && !1 === Array.isArray(t) }, s.defineGlobalNamespace = function () { return window.adobe = s.isObject(window.adobe) ? window.adobe : {}, window.adobe }, s.pluck = function (e, t) { return t.reduce((function (t, s) { return e[s] && (t[s] = e[s]), t }), Object.create(null)) }, s.parseOptOut = function (e, t, s) { t || (t = s, e.d_optout && e.d_optout instanceof Array && (t = e.d_optout.join(","))); var a = parseInt(e.d_ottl, 10); return isNaN(a) && (a = 7200), { optOut: t, d_ottl: a } }, s.normalizeBoolean = function (e) { var t = e; return "true" === e ? t = !0 : "false" === e && (t = !1), t } })), k = (A.isObjectEmpty, A.isValueEmpty, A.getIeVersion, A.isFirefox, A.encodeAndBuildRequest, A.isObject, A.defineGlobalNamespace, A.pluck, A.parseOptOut, A.normalizeBoolean, s), L = C.MESSAGES, O = { 0: "prefix", 1: "orgID", 2: "state" }, S = function (e, t) { this.parse = function (e) { try { var t = {}; return e.data.split("|").forEach((function (e, s) { void 0 !== e && (t[O[s]] = 2 !== s ? e : JSON.parse(e)) })), t } catch (e) { } }, this.isInvalid = function (s) { var a = this.parse(s); if (!a || Object.keys(a).length < 2) return !0; var o = e !== a.orgID, n = !t || s.origin !== t, r = -1 === Object.keys(L).indexOf(a.prefix); return o || n || r }, this.send = function (s, a, o) { var n = a + "|" + e; o && o === Object(o) && (n += "|" + JSON.stringify(o)); try { s.postMessage(n, t) } catch (e) { } } }, V = C.MESSAGES, N = function (e, t, s, a) { function o(e) { Object.assign(b, e) } function n(e) { Object.assign(b.state, e), Object.assign(b.state.ALLFIELDS, e), b.callbackRegistry.executeAll(b.state) } function r(e) { if (!f.isInvalid(e)) { g = !1; var t = f.parse(e); b.setStateAndPublish(t.state) } } function i(e) { !g && p && (g = !0, f.send(a, e)) } function c() { o(new w(s._generateID)), b.getMarketingCloudVisitorID(), b.callbackRegistry.executeAll(b.state, !0), h.removeEventListener("message", d) } function d(e) { if (!f.isInvalid(e)) { var t = f.parse(e); g = !1, h.clearTimeout(b._handshakeTimeout), h.removeEventListener("message", d), o(new T(b)), h.addEventListener("message", r), b.setStateAndPublish(t.state), b.callbackRegistry.hasCallbacks() && i(V.GETSTATE) } } function l() { p && postMessage ? (h.addEventListener("message", d), i(V.HANDSHAKE), b._handshakeTimeout = setTimeout(c, 250)) : c() } function u() { h.s_c_in || (h.s_c_il = [], h.s_c_in = 0), b._c = "Visitor", b._il = h.s_c_il, b._in = h.s_c_in, b._il[b._in] = b, h.s_c_in++ } function m() { function e(e) { 0 !== e.indexOf("_") && "function" == typeof s[e] && (b[e] = function () { }) } Object.keys(s).forEach(e), b.getSupplementalDataID = s.getSupplementalDataID, b.isAllowed = function () { return !0 } } var b = this, p = t.whitelistParentDomain; b.state = { ALLFIELDS: {} }, b.version = s.version, b.marketingCloudOrgID = e, b.cookieDomain = s.cookieDomain || "", b._instanceType = "child"; var g = !1, f = new S(e, p); b.callbackRegistry = k(), b.init = function () { u(), m(), o(new _(b)), l() }, b.findField = function (e, t) { if (void 0 !== b.state[e]) return t(b.state[e]), b.state[e] }, b.messageParent = i, b.setStateAndPublish = n }, D = C.MESSAGES, M = C.ALL_APIS, F = C.ASYNC_API_MAP, B = C.FIELDGROUP_TO_FIELD, U = function (e, t) { function s() { var t = {}; return Object.keys(M).forEach((function (s) { var a = M[s], o = e[a](); A.isValueEmpty(o) || (t[s] = o) })), t } function a() { var t = []; return e._loading && Object.keys(e._loading).forEach((function (s) { if (e._loading[s]) { var a = B[s]; t.push(a) } })), t.length ? t : null } function o(t) { return function s() { var o = a(); if (o) { var n = F[o[0]]; e[n](s, !0) } else t() } } function n(e, a) { var o = s(); t.send(e, a, o) } function r(e) { c(e), n(e, D.HANDSHAKE) } function i(e) { o((function () { n(e, D.PARENTSTATE) }))() } function c(s) { function a(a) { o.call(e, a), t.send(s, D.PARENTSTATE, { CUSTOMERIDS: e.getCustomerIDs() }) } var o = e.setCustomerIDs; e.setCustomerIDs = a } return function (e) { t.isInvalid(e) || (t.parse(e).prefix === D.HANDSHAKE ? r : i)(e.source) } }, G = function (e, t) { function s(e) { return function (s) { a[e] = s, ++o === n && t(a) } } var a = {}, o = 0, n = Object.keys(e).length; Object.keys(e).forEach((function (t) { var a = e[t]; if (a.fn) { var o = a.args || []; o.unshift(s(t)), a.fn.apply(a.context || null, o) } })) }, q = { get: function (e) { e = encodeURIComponent(e); var t = (";" + document.cookie).split(" ").join(";"), s = t.indexOf(";" + e + "="), a = s < 0 ? s : t.indexOf(";", s + 1); return s < 0 ? "" : decodeURIComponent(t.substring(s + 2 + e.length, a < 0 ? t.length : a)) }, set: function (e, t, s) { var o = a(s, "cookieLifetime"), n = a(s, "expires"), r = a(s, "domain"), i = a(s, "secure"), c = a(s, "sameSite"), d = i ? "Secure" : "", l = c ? "SameSite=" + c + ";" : ""; if (n && "SESSION" !== o && "NONE" !== o) { var u = "" !== t ? parseInt(o || 0, 10) : -60; if (u) (n = new Date).setTime(n.getTime() + 1e3 * u); else if (1 === n) { var m = (n = new Date).getYear(); n.setYear(m + 2 + (m < 1900 ? 1900 : 0)) } } else n = 0; return e && "NONE" !== o ? (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; path=/;" + (n ? " expires=" + n.toGMTString() + ";" : "") + (r ? " domain=" + r + ";" : "") + l + d, this.get(e) === t) : 0 }, remove: function (e, t) { var s = a(t, "domain"); s = s ? " domain=" + s + ";" : ""; var o = a(t, "secure"), n = a(t, "sameSite"), r = o ? "Secure" : "", i = n ? "SameSite=" + n + ";" : ""; document.cookie = encodeURIComponent(e) + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;" + s + i + r } }, H = function (e, t) { !e && h.location && (e = h.location.hostname); var s, a = e.split("."), o = t || {}; for (s = a.length - 2; s >= 0; s--)if (o.domain = a.slice(s).join("."), q.set("TEST_AMCV_COOKIE_WRITE", "cookie", o)) return q.remove("TEST_AMCV_COOKIE_WRITE", o), o.domain; return "" }, z = { compare: i, isLessThan: function (e, t) { return i(e, t) < 0 }, areVersionsDifferent: function (e, t) { return 0 !== i(e, t) }, isGreaterThan: function (e, t) { return i(e, t) > 0 }, isEqual: function (e, t) { return 0 === i(e, t) } }, K = !!h.postMessage, W = { postMessage: function (e, t, s) { var a = 1; t && (K ? s.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, "$1")) : t && (s.location = t.replace(/#.*$/, "") + "#" + +new Date + a++ + "&" + e)) }, receiveMessage: function (e, t) { var s; try { K && (e && (s = function (s) { if ("string" == typeof t && s.origin !== t || "[object Function]" === Object.prototype.toString.call(t) && !1 === t(s.origin)) return !1; e(s) }), h.addEventListener ? h[e ? "addEventListener" : "removeEventListener"]("message", s) : h[e ? "attachEvent" : "detachEvent"]("onmessage", s)) } catch (e) { } } }, Y = function (e) { var t, s, a = "0123456789", o = "", n = "", r = 8, i = 10, c = 10, d = ("" + Date.now()).substr(-6).split("").reverse("").join(""); if (1 == e) { for (a += "ABCDEF", t = 0; 16 > t; t++)s = Math.floor(Math.random() * r), 4 > t && d[t] < r && (s = +d[t]), o += a.substring(s, s + 1), s = Math.floor(Math.random() * r), n += a.substring(s, s + 1), r = 16; return o + "-" + n } for (t = 0; 19 > t; t++)s = Math.floor(Math.random() * i), 6 > t && d[t] < i ? (o += d[t], s = d[t]) : o += a.substring(s, s + 1), 0 === t && 9 == s ? i = 3 : ((1 == t || 2 == t) && 10 != i && 2 > s || 2 < t) && (i = 10), s = Math.floor(Math.random() * c), n += a.substring(s, s + 1), 0 === t && 9 == s ? c = 3 : ((1 == t || 2 == t) && 10 != c && 2 > s || 2 < t) && (c = 10); return o + n }, Z = function (e) { return { corsMetadata: function () { var e = "none", t = !0; return "undefined" != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ("withCredentials" in new XMLHttpRequest ? e = "XMLHttpRequest" : "undefined" != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1), Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor") > 0 && (t = !1)), { corsType: e, corsCookiesEnabled: t } }(), getCORSInstance: function () { return "none" === this.corsMetadata.corsType ? null : new h[this.corsMetadata.corsType] }, fireCORS: function (t, s) { function a(e) { var s; try { if ((s = JSON.parse(e)) !== Object(s)) return void o.handleCORSError(t, null, "Response is not JSON") } catch (e) { return void o.handleCORSError(t, e, "Error parsing response as JSON") } try { for (var a = t.callback, n = h, r = 0; r < a.length; r++)n = n[a[r]]; n(s) } catch (e) { o.handleCORSError(t, e, "Error forming callback function") } } var o = this; s && (t.loadErrorHandler = s); try { var n = this.getCORSInstance(); n.open("get", t.corsUrl + "&ts=" + (new Date).getTime(), !0), "XMLHttpRequest" === this.corsMetadata.corsType && (n.withCredentials = !0, n.timeout = e.loadTimeout, n.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), n.onreadystatechange = function () { 4 === this.readyState && 200 === this.status && a(this.responseText) }), n.onerror = function (e) { o.handleCORSError(t, e, "onerror") }, n.ontimeout = function (e) { o.handleCORSError(t, e, "ontimeout") }, n.send(), e._log.requests.push(t.corsUrl) } catch (e) { this.handleCORSError(t, e, "try-catch") } }, handleCORSError: function (t, s, a) { e.CORSErrors.push({ corsData: t, error: s, description: a }), t.loadErrorHandler && ("ontimeout" === a ? t.loadErrorHandler(!0) : t.loadErrorHandler(!1)) } } }, J = { POST_MESSAGE_ENABLED: !!h.postMessage, DAYS_BETWEEN_SYNC_ID_CALLS: 1, MILLIS_PER_DAY: 864e5, ADOBE_MC: "adobe_mc", ADOBE_MC_SDID: "adobe_mc_sdid", VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/, ADOBE_MC_TTL_IN_MIN: 5, VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/, FIRST_PARTY_SERVER_COOKIE: "s_ecid" }, $ = function (e, t) { var s = h.document; return { THROTTLE_START: 3e4, MAX_SYNCS_LENGTH: 649, throttleTimerSet: !1, id: null, onPagePixels: [], iframeHost: null, getIframeHost: function (e) { if ("string" == typeof e) { var t = e.split("/"); return t[0] + "//" + t[2] } }, subdomain: null, url: null, getUrl: function () { var t, a = "http://fast.", o = "?d_nsid=" + e.idSyncContainerID + "#" + encodeURIComponent(s.location.origin); return this.subdomain || (this.subdomain = "nosubdomainreturned"), e.loadSSL && (a = e.idSyncSSLUseAkamai ? "https://fast." : "https://"), t = a + this.subdomain + ".demdex.net/dest5.html" + o, this.iframeHost = this.getIframeHost(t), this.id = "destination_publishing_iframe_" + this.subdomain + "_" + e.idSyncContainerID, t }, checkDPIframeSrc: function () { var t = "?d_nsid=" + e.idSyncContainerID + "#" + encodeURIComponent(s.location.href); "string" == typeof e.dpIframeSrc && e.dpIframeSrc.length && (this.id = "destination_publishing_iframe_" + (e._subdomain || this.subdomain || (new Date).getTime()) + "_" + e.idSyncContainerID, this.iframeHost = this.getIframeHost(e.dpIframeSrc), this.url = e.dpIframeSrc + t) }, idCallNotProcesssed: null, doAttachIframe: !1, startedAttachingIframe: !1, iframeHasLoaded: null, iframeIdChanged: null, newIframeCreated: null, originalIframeHasLoadedAlready: null, iframeLoadedCallbacks: [], regionChanged: !1, timesRegionChanged: 0, sendingMessages: !1, messages: [], messagesPosted: [], messagesReceived: [], messageSendingInterval: J.POST_MESSAGE_ENABLED ? null : 100, onPageDestinationsFired: [], jsonForComparison: [], jsonDuplicates: [], jsonWaiting: [], jsonProcessed: [], canSetThirdPartyCookies: !0, receivedThirdPartyCookiesNotification: !1, readyToAttachIframePreliminary: function () { return !(e.idSyncDisableSyncs || e.disableIdSyncs || e.idSyncDisable3rdPartySyncing || e.disableThirdPartyCookies || e.disableThirdPartyCalls) }, readyToAttachIframe: function () { return this.readyToAttachIframePreliminary() && (this.doAttachIframe || e._doAttachIframe) && (this.subdomain && "nosubdomainreturned" !== this.subdomain || e._subdomain) && this.url && !this.startedAttachingIframe }, attachIframe: function () { function e() { (o = s.createElement("iframe")).sandbox = "allow-scripts allow-same-origin", o.title = "Adobe ID Syncing iFrame", o.id = a.id, o.name = a.id + "_name", o.style.cssText = "display: none; width: 0; height: 0;", o.src = a.url, a.newIframeCreated = !0, t(), s.body.appendChild(o) } function t(e) { o.addEventListener("load", (function () { o.className = "aamIframeLoaded", a.iframeHasLoaded = !0, a.fireIframeLoadedCallbacks(e), a.requestToProcess() })) } this.startedAttachingIframe = !0; var a = this, o = s.getElementById(this.id); o ? "IFRAME" !== o.nodeName ? (this.id += "_2", this.iframeIdChanged = !0, e()) : (this.newIframeCreated = !1, "aamIframeLoaded" !== o.className ? (this.originalIframeHasLoadedAlready = !1, t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")) : (this.originalIframeHasLoadedAlready = !0, this.iframeHasLoaded = !0, this.iframe = o, this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."), this.requestToProcess())) : e(), this.iframe = o }, fireIframeLoadedCallbacks: function (e) { this.iframeLoadedCallbacks.forEach((function (t) { "function" == typeof t && t({ message: e || "The destination publishing iframe was attached and loaded successfully." }) })), this.iframeLoadedCallbacks = [] }, requestToProcess: function (t) { function s() { o.jsonForComparison.push(t), o.jsonWaiting.push(t), o.processSyncOnPage(t) } var a, o = this; if (t === Object(t) && t.ibs) if (a = JSON.stringify(t.ibs || []), this.jsonForComparison.length) { var n, r, i, c = !1; for (n = 0, r = this.jsonForComparison.length; n < r; n++)if (i = this.jsonForComparison[n], a === JSON.stringify(i.ibs || [])) { c = !0; break } c ? this.jsonDuplicates.push(t) : s() } else s(); if ((this.receivedThirdPartyCookiesNotification || !J.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) { var d = this.jsonWaiting.shift(); this.process(d), this.requestToProcess() } e.idSyncDisableSyncs || e.disableIdSyncs || !this.iframeHasLoaded || !this.messages.length || this.sendingMessages || (this.throttleTimerSet || (this.throttleTimerSet = !0, setTimeout((function () { o.messageSendingInterval = J.POST_MESSAGE_ENABLED ? null : 150 }), this.THROTTLE_START)), this.sendingMessages = !0, this.sendMessages()) }, getRegionAndCheckIfChanged: function (t, s) { var a = e._getField("MCAAMLH"), o = t.d_region || t.dcs_region; return a ? o && (e._setFieldExpire("MCAAMLH", s), e._setField("MCAAMLH", o), parseInt(a, 10) !== o && (this.regionChanged = !0, this.timesRegionChanged++, e._setField("MCSYNCSOP", ""), e._setField("MCSYNCS", ""), a = o)) : (a = o) && (e._setFieldExpire("MCAAMLH", s), e._setField("MCAAMLH", a)), a || (a = ""), a }, processSyncOnPage: function (e) { var t, s, a, o; if ((t = e.ibs) && t instanceof Array && (s = t.length)) for (a = 0; a < s; a++)(o = t[a]).syncOnPage && this.checkFirstPartyCookie(o, "", "syncOnPage") }, process: function (e) { var t, s, a, o, n, r = encodeURIComponent, i = !1; if ((t = e.ibs) && t instanceof Array && (s = t.length)) for (i = !0, a = 0; a < s; a++)o = t[a], n = [r("ibs"), r(o.id || ""), r(o.tag || ""), A.encodeAndBuildRequest(o.url || [], ","), r(o.ttl || ""), "", "", o.fireURLSync ? "true" : "false"], o.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(n.join("|")) : o.fireURLSync && this.checkFirstPartyCookie(o, n.join("|"))); i && this.jsonProcessed.push(e) }, checkFirstPartyCookie: function (t, s, a) { var o = "syncOnPage" === a, n = o ? "MCSYNCSOP" : "MCSYNCS"; e._readVisitor(); var r, i, c = e._getField(n), d = !1, l = !1, u = Math.ceil((new Date).getTime() / J.MILLIS_PER_DAY); c ? (r = c.split("*"), d = (i = this.pruneSyncData(r, t.id, u)).dataPresent, l = i.dataValid, d && l || this.fireSync(o, t, s, r, n, u)) : (r = [], this.fireSync(o, t, s, r, n, u)) }, pruneSyncData: function (e, t, s) { var a, o, n, r = !1, i = !1; for (o = 0; o < e.length; o++)a = e[o], n = parseInt(a.split("-")[1], 10), a.match("^" + t + "-") ? (r = !0, s < n ? i = !0 : (e.splice(o, 1), o--)) : s >= n && (e.splice(o, 1), o--); return { dataPresent: r, dataValid: i } }, manageSyncsSize: function (e) { if (e.join("*").length > this.MAX_SYNCS_LENGTH) for (e.sort((function (e, t) { return parseInt(e.split("-")[1], 10) - parseInt(t.split("-")[1], 10) })); e.join("*").length > this.MAX_SYNCS_LENGTH;)e.shift() }, fireSync: function (t, s, a, o, n, r) { var i = this; if (t) { if ("img" === s.tag) { var c, d, l, u, m = s.url, b = e.loadSSL ? "https:" : "http:"; for (c = 0, d = m.length; c < d; c++) { l = m[c], u = /^\/\//.test(l); var p = new Image; p.addEventListener("load", function (t, s, a, o) { return function () { i.onPagePixels[t] = null, e._readVisitor(); var r, c, d, l, u = e._getField(n), m = []; if (u) for (c = 0, d = (r = u.split("*")).length; c < d; c++)(l = r[c]).match("^" + s.id + "-") || m.push(l); i.setSyncTrackingData(m, s, a, o) } }(this.onPagePixels.length, s, n, r)), p.src = (u ? b : "") + l, this.onPagePixels.push(p) } } } else this.addMessage(a), this.setSyncTrackingData(o, s, n, r) }, addMessage: function (t) { var s = encodeURIComponent(e._enableErrorReporting ? "---destpub-debug---" : "---destpub---"); this.messages.push((J.POST_MESSAGE_ENABLED ? "" : s) + t) }, setSyncTrackingData: function (t, s, a, o) { t.push(s.id + "-" + (o + Math.ceil(s.ttl / 60 / 24))), this.manageSyncsSize(t), e._setField(a, t.join("*")) }, sendMessages: function () { var e, t = this, s = "", a = encodeURIComponent; this.regionChanged && (s = a("---destpub-clear-dextp---"), this.regionChanged = !1), this.messages.length ? J.POST_MESSAGE_ENABLED ? (e = s + a("---destpub-combined---") + this.messages.join("%01"), this.postMessage(e), this.messages = [], this.sendingMessages = !1) : (e = this.messages.shift(), this.postMessage(s + e), setTimeout((function () { t.sendMessages() }), this.messageSendingInterval)) : this.sendingMessages = !1 }, postMessage: function (e) { W.postMessage(e, this.url, this.iframe.contentWindow), this.messagesPosted.push(e) }, receiveMessage: function (e) { var t, s = /^---destpub-to-parent---/; "string" == typeof e && s.test(e) && ("canSetThirdPartyCookies" === (t = e.replace(s, "").split("|"))[0] && (this.canSetThirdPartyCookies = "true" === t[1], this.receivedThirdPartyCookiesNotification = !0, this.requestToProcess()), this.messagesReceived.push(e)) }, processIDCallData: function (a) { (null == this.url || a.subdomain && "nosubdomainreturned" === this.subdomain) && ("string" == typeof e._subdomain && e._subdomain.length ? this.subdomain = e._subdomain : this.subdomain = a.subdomain || "", this.url = this.getUrl()), a.ibs instanceof Array && a.ibs.length && (this.doAttachIframe = !0), this.readyToAttachIframe() && (e.idSyncAttachIframeOnWindowLoad ? (t.windowLoaded || "complete" === s.readyState || "loaded" === s.readyState) && this.attachIframe() : this.attachIframeASAP()), "function" == typeof e.idSyncIDCallResult ? e.idSyncIDCallResult(a) : this.requestToProcess(a), "function" == typeof e.idSyncAfterIDCallResult && e.idSyncAfterIDCallResult(a) }, canMakeSyncIDCall: function (t, s) { return e._forceSyncIDCall || !t || s - t > J.DAYS_BETWEEN_SYNC_ID_CALLS }, attachIframeASAP: function () { function e() { t.startedAttachingIframe || (s.body ? t.attachIframe() : setTimeout(e, 30)) } var t = this; e() } } }, Q = { audienceManagerServer: {}, audienceManagerServerSecure: {}, cookieDomain: {}, cookieLifetime: {}, cookieName: {}, doesOptInApply: { type: "boolean" }, disableThirdPartyCalls: { type: "boolean" }, discardTrackingServerECID: { type: "boolean" }, idSyncAfterIDCallResult: {}, idSyncAttachIframeOnWindowLoad: { type: "boolean" }, idSyncContainerID: {}, idSyncDisable3rdPartySyncing: { type: "boolean" }, disableThirdPartyCookies: { type: "boolean" }, idSyncDisableSyncs: { type: "boolean" }, disableIdSyncs: { type: "boolean" }, idSyncIDCallResult: {}, idSyncSSLUseAkamai: { type: "boolean" }, isCoopSafe: { type: "boolean" }, isIabContext: { type: "boolean" }, isOptInStorageEnabled: { type: "boolean" }, loadSSL: { type: "boolean" }, loadTimeout: {}, marketingCloudServer: {}, marketingCloudServerSecure: {}, optInCookieDomain: {}, optInStorageExpiry: {}, overwriteCrossDomainMCIDAndAID: { type: "boolean" }, preOptInApprovals: {}, previousPermissions: {}, resetBeforeVersion: {}, sdidParamExpiry: {}, serverState: {}, sessionCookieName: {}, secureCookie: { type: "boolean" }, sameSiteCookie: {}, takeTimeoutMetrics: {}, trackingServer: {}, trackingServerSecure: {}, useLocalStorage: { type: "boolean" }, whitelistIframeDomains: {}, whitelistParentDomain: {} }, X = { getConfigNames: function () { return Object.keys(Q) }, getConfigs: function () { return Q }, normalizeConfig: function (e, t) { return Q[e] && "boolean" === Q[e].type ? "function" != typeof t ? t : t() : t } }, ee = function (e) { var t = {}; return e.on = function (e, s, a) { if (!s || "function" != typeof s) throw new Error("[ON] Callback should be a function."); t.hasOwnProperty(e) || (t[e] = []); var o = t[e].push({ callback: s, context: a }) - 1; return function () { t[e].splice(o, 1), t[e].length || delete t[e] } }, e.off = function (e, s) { t.hasOwnProperty(e) && (t[e] = t[e].filter((function (e) { if (e.callback !== s) return e }))) }, e.publish = function (e) { if (t.hasOwnProperty(e)) { var s = [].slice.call(arguments, 1); t[e].slice(0).forEach((function (e) { e.callback.apply(e.context, s) })) } }, e.publish }, te = { PENDING: "pending", CHANGED: "changed", COMPLETE: "complete" }, se = { AAM: "aam", ADCLOUD: "adcloud", ANALYTICS: "aa", CAMPAIGN: "campaign", ECID: "ecid", LIVEFYRE: "livefyre", TARGET: "target", MEDIA_ANALYTICS: "mediaaa" }, ae = (t(P = {}, se.AAM, 565), t(P, se.ECID, 565), P), oe = (t(j = {}, se.AAM, [1, 10]), t(j, se.ECID, [1, 10]), j), ne = ["videoaa", "iabConsentHash"], re = function (e) { return Object.keys(e).map((function (t) { return e[t] })) }(se), ie = function () { var e = {}; return e.callbacks = Object.create(null), e.add = function (t, s) { if (!d(s)) throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions."); e.callbacks[t] = e.callbacks[t] || []; var a = e.callbacks[t].push(s) - 1; return function () { e.callbacks[t].splice(a, 1) } }, e.execute = function (t, s) { if (e.callbacks[t]) { s = (s = void 0 === s ? [] : s) instanceof Array ? s : [s]; try { for (; e.callbacks[t].length;) { var a = e.callbacks[t].shift(); "function" == typeof a ? a.apply(null, s) : a instanceof Array && a[1].apply(a[0], s) } delete e.callbacks[t] } catch (e) { } } }, e.executeAll = function (t, s) { (s || t && !c(t)) && Object.keys(e.callbacks).forEach((function (s) { var a = void 0 !== t[s] ? t[s] : ""; e.execute(s, a) }), e) }, e.hasCallbacks = function () { return Boolean(Object.keys(e.callbacks).length) }, e }, ce = function () { }, de = function (e) { var t = window.console; return !!t && "function" == typeof t[e] }, le = function (e, t, s) { return s() ? function () { if (de(e)) { for (var s = arguments.length, a = new Array(s), o = 0; o < s; o++)a[o] = arguments[o]; console[e].apply(console, [t].concat(a)) } } : ce }, ue = l, me = function () { for (var e = [], t = 0; t < 256; t++) { for (var s = t, a = 0; a < 8; a++)s = 1 & s ? 3988292384 ^ s >>> 1 : s >>> 1; e.push(s) } return function (t, s) { t = unescape(encodeURIComponent(t)), s || (s = 0), s ^= -1; for (var a = 0; a < t.length; a++) { var o = 255 & (s ^ t.charCodeAt(a)); s = s >>> 8 ^ e[o] } return (s ^= -1) >>> 0 } }(), be = new ue("[ADOBE OPT-IN]"), pe = function (t, s) { return e(t) === s }, ge = function (e, t) { return e instanceof Array ? e : pe(e, "string") ? [e] : t || [] }, fe = function (e) { var t = Object.keys(e); return !!t.length && t.every((function (t) { return !0 === e[t] })) }, ve = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return !(!e || je(e)) && ge(e).every((function (e) { return re.indexOf(e) > -1 || t && ne.indexOf(e) > -1 })) }, he = function (e, t) { return e.reduce((function (e, s) { return e[s] = t, e }), {}) }, Pe = function (e) { return JSON.parse(JSON.stringify(e)) }, je = function (e) { return "[object Array]" === Object.prototype.toString.call(e) && !e.length }, Ce = function (e) { if (Re(e)) return e; try { return JSON.parse(e) } catch (e) { return {} } }, ye = function (e) { return void 0 === e || (Re(e) ? ve(Object.keys(e), !0) : we(e)) }, we = function (e) { try { var t = JSON.parse(e); return !!e && pe(e, "string") && ve(Object.keys(t), !0) } catch (e) { return !1 } }, Re = function (e) { return null !== e && pe(e, "object") && !1 === Array.isArray(e) }, xe = function () { }, Ee = function (e) { return pe(e, "function") ? e() : e }, Te = function (e, t) { ye(e) || be.error("".concat(t)) }, Ie = function (e) { return Object.keys(e).map((function (t) { return e[t] })) }, _e = function (e) { return Ie(e).filter((function (e, t, s) { return s.indexOf(e) === t })) }, Ae = function (e) {
                                return function () {
                                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, s = t.command, a = t.params, o = void 0 === a ? {} : a, n = t.callback, r = void 0 === n ? xe : n; if (!s || -1 === s.indexOf(".")) throw new Error("[OptIn.execute] Please provide a valid command."); try {
                                        var i = s.split("."), c = e[i[0]], d = i[1]
                                        ; if (!c || "function" != typeof c[d]) throw new Error("Make sure the plugin and API name exist."); var l = Object.assign(o, { callback: r }); c[d].call(c, l)
                                    } catch (e) { be.error("[execute] Something went wrong: " + e.message) }
                                }
                            }; m.prototype = Object.create(Error.prototype), m.prototype.constructor = m; var ke = "fetchPermissions", Le = "[OptIn#registerPlugin] Plugin is invalid."; b.Categories = se, b.TimeoutError = m; var Oe = Object.freeze({ OptIn: b, IabPlugin: v }), Se = function (e, t) { e.publishDestinations = function (s) { var a = arguments[1], o = arguments[2]; try { o = "function" == typeof o ? o : s.callback } catch (e) { o = function () { } } var n = t; if (n.readyToAttachIframePreliminary()) { if ("string" == typeof s) { if (!s.length) return void o({ error: "subdomain is not a populated string." }); if (!(a instanceof Array && a.length)) return void o({ error: "messages is not a populated array." }); var r = !1; if (a.forEach((function (e) { "string" == typeof e && e.length && (n.addMessage(e), r = !0) })), !r) return void o({ error: "None of the messages are populated strings." }) } else { if (!A.isObject(s)) return void o({ error: "Invalid parameters passed." }); var i = s; if ("string" != typeof (s = i.subdomain) || !s.length) return void o({ error: "config.subdomain is not a populated string." }); var c = i.urlDestinations; if (!(c instanceof Array && c.length)) return void o({ error: "config.urlDestinations is not a populated array." }); var d = []; c.forEach((function (e) { A.isObject(e) && (e.hideReferrer ? e.message && n.addMessage(e.message) : d.push(e)) })), function e() { d.length && setTimeout((function () { var t = new Image, s = d.shift(); t.src = s.url, n.onPageDestinationsFired.push(s), e() }), 100) }() } n.iframe ? (o({ message: "The destination publishing iframe is already attached and loaded." }), n.requestToProcess()) : !e.subdomain && e._getField("MCMID") ? (n.subdomain = s, n.doAttachIframe = !0, n.url = n.getUrl(), n.readyToAttachIframe() ? (n.iframeLoadedCallbacks.push((function (e) { o({ message: "Attempted to attach and load the destination publishing iframe through this API call. Result: " + (e.message || "no result") }) })), n.attachIframe()) : o({ error: "Encountered a problem in attempting to attach and load the destination publishing iframe through this API call." })) : n.iframeLoadedCallbacks.push((function (e) { o({ message: "Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: " + (e.message || "no result") }) })) } else o({ error: "The destination publishing iframe is disabled in the Visitor library." }) } }, Ve = function e(t) { function s(e, t) { return e >>> t | e << 32 - t } for (var a, o, n = Math.pow, r = n(2, 32), i = "", c = [], d = 8 * t.length, l = e.h = e.h || [], u = e.k = e.k || [], m = u.length, b = {}, p = 2; m < 64; p++)if (!b[p]) { for (a = 0; a < 313; a += p)b[a] = p; l[m] = n(p, .5) * r | 0, u[m++] = n(p, 1 / 3) * r | 0 } for (t += "\x80"; t.length % 64 - 56;)t += "\0"; for (a = 0; a < t.length; a++) { if ((o = t.charCodeAt(a)) >> 8) return; c[a >> 2] |= o << (3 - a) % 4 * 8 } for (c[c.length] = d / r | 0, c[c.length] = d, o = 0; o < c.length;) { var g = c.slice(o, o += 16), f = l; for (l = l.slice(0, 8), a = 0; a < 64; a++) { var v = g[a - 15], h = g[a - 2], P = l[0], j = l[4], C = l[7] + (s(j, 6) ^ s(j, 11) ^ s(j, 25)) + (j & l[5] ^ ~j & l[6]) + u[a] + (g[a] = a < 16 ? g[a] : g[a - 16] + (s(v, 7) ^ s(v, 18) ^ v >>> 3) + g[a - 7] + (s(h, 17) ^ s(h, 19) ^ h >>> 10) | 0); (l = [C + ((s(P, 2) ^ s(P, 13) ^ s(P, 22)) + (P & l[1] ^ P & l[2] ^ l[1] & l[2])) | 0].concat(l))[4] = l[4] + C | 0 } for (a = 0; a < 8; a++)l[a] = l[a] + f[a] | 0 } for (a = 0; a < 8; a++)for (o = 3; o + 1; o--) { var y = l[a] >> 8 * o & 255; i += (y < 16 ? 0 : "") + y.toString(16) } return i }, Ne = function (e, t) { return "SHA-256" !== t && "SHA256" !== t && "sha256" !== t && "sha-256" !== t || (e = Ve(e)), e }, De = function (e) { return String(e).trim().toLowerCase() }, Me = Oe.OptIn; A.defineGlobalNamespace(), window.adobe.OptInCategories = Me.Categories; var Fe = function (t, s, a) { function o() { P._customerIDsHashChanged = !1 } function n(e) { var t = e; return function (e) { var s = e || E.location.href; try { var a = P._extractParamFromUri(s, t); if (a) return te.parsePipeDelimetedKeyValues(a) } catch (e) { } } } function r(e) { function t(e, t, s) { e && e.match(J.VALID_VISITOR_ID_REGEX) && (s === L && (x = !0), t(e)) } t(e[L], P.setMarketingCloudVisitorID, L), P._setFieldExpire(M, -1), t(e[N], P.setAnalyticsVisitorID) } function i(e) { e = e || {}, P._supplementalDataIDCurrent = e.supplementalDataIDCurrent || "", P._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {}, P._supplementalDataIDLast = e.supplementalDataIDLast || "", P._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {} } function c(e) { function t(e, t, s) { return (s = s ? s += "|" : s) + (e + "=") + encodeURIComponent(t) } function s(e, s) { var a = s[0], o = s[1]; return null != o && o !== F && (e = t(a, o, e)), e } return function (e) { return (e = e ? e += "|" : e) + "TS=" + te.getTimestampInSeconds() }(e.reduce(s, "")) } function d(e) { var t = e.minutesToLive, s = ""; return (P.idSyncDisableSyncs || P.disableIdSyncs) && (s = s || "Error: id syncs have been disabled"), "string" == typeof e.dpid && e.dpid.length || (s = s || "Error: config.dpid is empty"), "string" == typeof e.url && e.url.length || (s = s || "Error: config.url is empty"), void 0 === t ? t = 20160 : (t = parseInt(t, 10), (isNaN(t) || t <= 0) && (s = s || "Error: config.minutesToLive needs to be a positive number")), { error: s, ttl: t } } function l() { return !(!P.configs.doesOptInApply || j.optIn.isComplete && u()) } function u() { return P.configs.doesOptInApply && P.configs.isIabContext ? j.optIn.isApproved(j.optIn.Categories.ECID) && R : j.optIn.isApproved(j.optIn.Categories.ECID) } function m() { [["getMarketingCloudVisitorID"], ["setCustomerIDs", void 0], ["syncIdentity", void 0], ["getAnalyticsVisitorID"], ["getAudienceManagerLocationHint"], ["getLocationHint"], ["getAudienceManagerBlob"]].forEach((function (e) { var t = e[0], s = 2 === e.length ? e[1] : "", a = P[t]; P[t] = function (e) { return u() && P.isAllowed() ? a.apply(P, arguments) : ("function" == typeof e && P._callCallback(e, [s]), s) } })) } function b() { var e = P._getAudienceManagerURLData(), t = e.url; return P._loadData(k, t, null, e) } function p(e, t) { if (R = !0, e) throw new Error("[IAB plugin] : " + e); t && t.gdprApplies && (y = t.consentString, w = t.hasConsentChangedSinceLastCmpPull ? 1 : 0), b(), v() } function g(e, t) { if (R = !0, e) throw new Error("[IAB plugin] : " + e); t.gdprApplies && (y = t.consentString, w = t.hasConsentChangedSinceLastCmpPull ? 1 : 0), P.init(), v() } function f() { j.optIn.isComplete && (j.optIn.isApproved(j.optIn.Categories.ECID) ? P.configs.isIabContext ? j.optIn.execute({ command: "iabPlugin.fetchConsentData", callback: g }) : (P.init(), v()) : P.configs.isIabContext ? j.optIn.execute({ command: "iabPlugin.fetchConsentData", callback: p }) : (m(), v())) } function v() { j.optIn.off("complete", f) } if (!a || a.split("").reverse().join("") !== t) throw new Error("Please use `Visitor.getInstance` to instantiate Visitor."); var P = this, j = window.adobe, y = "", w = 0, R = !1, x = !1; P.version = "5.4.0"; var E = h, T = E.Visitor; T.version = P.version, T.AuthState = C.AUTH_STATE, T.OptOut = C.OPT_OUT, E.s_c_in || (E.s_c_il = [], E.s_c_in = 0), P._c = "Visitor", P._il = E.s_c_il, P._in = E.s_c_in, P._il[P._in] = P, E.s_c_in++, P._instanceType = "regular", P._log = { requests: [] }, P.marketingCloudOrgID = t, P.cookieName = "AMCV_" + t, P.sessionCookieName = "AMCVS_" + t; var I = {}; s && s.secureCookie && s.sameSiteCookie && (I = { sameSite: s.sameSiteCookie, secure: s.secureCookie }), P.cookieDomain = P.useLocalStorage ? "" : H(null, I), P.loadSSL = !0, P.loadTimeout = 3e4, P.CORSErrors = [], P.marketingCloudServer = P.audienceManagerServer = "dpm.demdex.net", P.sdidParamExpiry = 30; var _ = null, k = "MC", L = "MCMID", O = "MCIDTS", V = "A", N = "MCAID", D = "AAM", M = "MCAAMB", F = "NONE", B = function (e) { return !Object.prototype[e] }, K = Z(P); P.FIELDS = C.FIELDS, P.cookieRead = function (e) { return P.useLocalStorage ? e === P.sessionCookieName ? sessionStorage.getItem(e) : localStorage.getItem(e) : q.get(e) }, P.cookieWrite = function (e, t, s) { var a = "" + t; if (P.useLocalStorage) return e === P.sessionCookieName ? sessionStorage.setItem(e, a) : localStorage.setItem(e, a); var o = P.cookieLifetime ? ("" + P.cookieLifetime).toUpperCase() : "", n = { expires: s, domain: P.cookieDomain, cookieLifetime: o }; return P.configs && P.configs.secureCookie && "https:" === location.protocol && (n.secure = !0), P.configs && P.configs.sameSiteCookie && "https:" === location.protocol && (n.sameSite = C.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()] || "Lax"), q.set(e, a, n) }, P.removeCookie = function (e) { if (P.useLocalStorage) return e === P.sessionCookieName ? sessionStorage.removeItem(e) : localStorage.removeItem(e); var t = { domain: P.cookieDomain }; return P.configs && P.configs.secureCookie && "https:" === location.protocol && (t.secure = !0), P.configs && P.configs.sameSiteCookie && "https:" === location.protocol && (t.sameSite = C.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()] || "Lax"), q.remove(e, t) }, P.resetState = function (e) { e ? P._mergeServerState(e) : i() }, P._isAllowedDone = !1, P._isAllowedFlag = !1, P.isAllowed = function () { return P._isAllowedDone || (P._isAllowedDone = !0, (P.cookieRead(P.cookieName) || P.cookieWrite(P.cookieName, "T", 1)) && (P._isAllowedFlag = !0)), "T" === P.cookieRead(P.cookieName) && P.removeCookie(P.cookieName), P._isAllowedFlag }, P.setMarketingCloudVisitorID = function (e) { P._setMarketingCloudFields(e) }, P._use1stPartyMarketingCloudServer = !1, P.getMarketingCloudVisitorID = function (e, t) { P.marketingCloudServer && P.marketingCloudServer.indexOf(".demdex.net") < 0 && (P._use1stPartyMarketingCloudServer = !0); var s = P._getAudienceManagerURLData("_setMarketingCloudFields"), a = s.url; return P._getRemoteField(L, a, e, t, s) }; var Q = function (e, t) { var s = {}; P.getMarketingCloudVisitorID((function () { t.forEach((function (e) { s[e] = P._getField(e, !0) })), -1 !== t.indexOf("MCOPTOUT") ? P.isOptedOut((function (t) { s.MCOPTOUT = t, e(s) }), null, !0) : e(s) }), !0) }; P.getVisitorValues = function (e, t) { var s = { MCMID: { fn: P.getMarketingCloudVisitorID, args: [!0], context: P }, MCOPTOUT: { fn: P.isOptedOut, args: [void 0, !0], context: P }, MCAID: { fn: P.getAnalyticsVisitorID, args: [!0], context: P }, MCAAMLH: { fn: P.getAudienceManagerLocationHint, args: [!0], context: P }, MCAAMB: { fn: P.getAudienceManagerBlob, args: [!0], context: P } }, a = t && t.length ? A.pluck(s, t) : s; t && -1 === t.indexOf("MCAID") ? Q(e, t) : G(a, e) }, P._currentCustomerIDs = {}, P._customerIDsHashChanged = !1, P._newCustomerIDsHash = "", P.setCustomerIDs = function (t, s) { if (!P.isOptedOut() && t) { if (!A.isObject(t) || A.isObjectEmpty(t)) return !1; var a, n, r, i; for (a in P._readVisitor(), t) if (B(a) && (P._currentCustomerIDs.dataSources = P._currentCustomerIDs.dataSources || {}, s = (n = t[a]).hasOwnProperty("hashType") ? n.hashType : s, n)) if ("object" === e(n)) { var c = {}; if (n.id) { if (s) { if (!(i = Ne(De(n.id), s))) return; n.id = i, c.hashType = s } c.id = n.id } null != n.authState && (c.authState = n.authState), P._currentCustomerIDs.dataSources[a] = c } else if (s) { if (!(i = Ne(De(n), s))) return; P._currentCustomerIDs.dataSources[a] = { id: i, hashType: s } } else P._currentCustomerIDs.dataSources[a] = { id: n }; var d = P.getCustomerIDs(!0), l = P._getField("MCCIDH"), u = ""; for (r in l || (l = 0), d) { var m = d[r]; if (!A.isObjectEmpty(m)) for (a in m) B(a) && (u += (u ? "|" : "") + a + "|" + ((n = m[a]).id ? n.id : "") + (n.authState ? n.authState : "")) } P._newCustomerIDsHash = String(P._hash(u)), P._newCustomerIDsHash !== l && (P._customerIDsHashChanged = !0, P._mapCustomerIDs(o)) } }, P.syncIdentity = function (t, s) { if (!P.isOptedOut() && t) { if (!A.isObject(t) || A.isObjectEmpty(t)) return !1; var a, n, r, i, c; for (a in P._readVisitor(), t) if (B(a) && (P._currentCustomerIDs.nameSpaces = P._currentCustomerIDs.nameSpaces || {}, s = (n = t[a]).hasOwnProperty("hashType") ? n.hashType : s, n && "object" === e(n))) { var d = {}; if (n.id) { if (s) { if (!(r = Ne(De(n.id), s))) return; n.id = r, d.hashType = s } d.id = n.id } null != n.authState && (d.authState = n.authState), n.dataSource && (P._currentCustomerIDs.dataSources = P._currentCustomerIDs.dataSources || {}, i = n.dataSource, P._currentCustomerIDs.dataSources[i] = d), P._currentCustomerIDs.nameSpaces[a] = d } var l = P.getCustomerIDs(!0), u = P._getField("MCCIDH"), m = ""; for (c in u || (u = "0"), l) { var b = l[c]; if (!A.isObjectEmpty(b)) for (a in b) B(a) && (m += (m ? "|" : "") + a + "|" + ((n = b[a]).id ? n.id : "") + (n.authState ? n.authState : "")) } P._newCustomerIDsHash = String(P._hash(m)), P._newCustomerIDsHash !== u && (P._customerIDsHashChanged = !0, P._mapCustomerIDs(o)) } }, P.getCustomerIDs = function (e) { P._readVisitor(); var t, s, a = { dataSources: {}, nameSpaces: {} }, o = P._currentCustomerIDs.dataSources; for (t in o) B(t) && (s = o[t]).id && (a.dataSources[t] || (a.dataSources[t] = {}), a.dataSources[t].id = s.id, null != s.authState ? a.dataSources[t].authState = s.authState : a.dataSources[t].authState = T.AuthState.UNKNOWN, s.hashType && (a.dataSources[t].hashType = s.hashType)); var n = P._currentCustomerIDs.nameSpaces; for (t in n) B(t) && (s = n[t]).id && (a.nameSpaces[t] || (a.nameSpaces[t] = {}), a.nameSpaces[t].id = s.id, null != s.authState ? a.nameSpaces[t].authState = s.authState : a.nameSpaces[t].authState = T.AuthState.UNKNOWN, s.hashType && (a.nameSpaces[t].hashType = s.hashType)); return e ? a : a.dataSources }, P.setAnalyticsVisitorID = function (e) { P._setAnalyticsFields(e) }, P.getAnalyticsVisitorID = function (e, t, s) { if (!te.isTrackingServerPopulated() && !s) return P._callCallback(e, [""]), ""; var a = ""; if (s || (a = P.getMarketingCloudVisitorID((function () { P.getAnalyticsVisitorID(e, !0) }))), a || s) { var o = s ? P.marketingCloudServer : P.trackingServer, n = ""; P.loadSSL && (s ? P.marketingCloudServerSecure && (o = P.marketingCloudServerSecure) : P.trackingServerSecure && (o = P.trackingServerSecure)); var r = {}; if (o) { var i = "http" + (P.loadSSL ? "s" : "") + "://" + o + "/id", c = P.configs.cookieLifetime, d = "d_visid_ver=" + P.version + "&mcorgid=" + encodeURIComponent(P.marketingCloudOrgID) + (a ? "&mid=" + encodeURIComponent(a) : "") + (c ? "&cl=" + encodeURIComponent(c) : "") + (P.idSyncDisable3rdPartySyncing || P.disableThirdPartyCookies ? "&d_coppa=true" : ""), l = ["s_c_il", P._in, "_set" + (s ? "MarketingCloud" : "Analytics") + "Fields"]; n = i + "?" + d + "&callback=s_c_il%5B" + P._in + "%5D._set" + (s ? "MarketingCloud" : "Analytics") + "Fields", r.corsUrl = i + "?" + d, r.callback = l } return r.url = n, P._getRemoteField(s ? L : N, n, e, t, r) } return "" }, P.getAudienceManagerLocationHint = function (e, t) { if (P.getMarketingCloudVisitorID((function () { P.getAudienceManagerLocationHint(e, !0) }))) { var s = P._getField(N); if (!s && te.isTrackingServerPopulated() && (s = P.getAnalyticsVisitorID((function () { P.getAudienceManagerLocationHint(e, !0) }))), s || !te.isTrackingServerPopulated()) { var a = P._getAudienceManagerURLData(), o = a.url; return P._getRemoteField("MCAAMLH", o, e, t, a) } } return "" }, P.getLocationHint = P.getAudienceManagerLocationHint, P.getAudienceManagerBlob = function (e, t) { if (P.getMarketingCloudVisitorID((function () { P.getAudienceManagerBlob(e, !0) }))) { var s = P._getField(N); if (!s && te.isTrackingServerPopulated() && (s = P.getAnalyticsVisitorID((function () { P.getAudienceManagerBlob(e, !0) }))), s || !te.isTrackingServerPopulated()) { var a = P._getAudienceManagerURLData(), o = a.url; return P._customerIDsHashChanged && P._setFieldExpire(M, -1), P._getRemoteField(M, o, e, t, a) } } return "" }, P._supplementalDataIDCurrent = "", P._supplementalDataIDCurrentConsumed = {}, P._supplementalDataIDLast = "", P._supplementalDataIDLastConsumed = {}, P.getSupplementalDataID = function (e, t) { P._supplementalDataIDCurrent || t || (P._supplementalDataIDCurrent = P._generateID(1)); var s = P._supplementalDataIDCurrent; return P._supplementalDataIDLast && !P._supplementalDataIDLastConsumed[e] ? (s = P._supplementalDataIDLast, P._supplementalDataIDLastConsumed[e] = !0) : s && (P._supplementalDataIDCurrentConsumed[e] && (P._supplementalDataIDLast = P._supplementalDataIDCurrent, P._supplementalDataIDLastConsumed = P._supplementalDataIDCurrentConsumed, P._supplementalDataIDCurrent = s = t ? "" : P._generateID(1), P._supplementalDataIDCurrentConsumed = {}), s && (P._supplementalDataIDCurrentConsumed[e] = !0)), s }; var X = !1; P._liberatedOptOut = null, P.getOptOut = function (e, t) { var s = P._getAudienceManagerURLData("_setMarketingCloudFields"), a = s.url; if (u()) return P._getRemoteField("MCOPTOUT", a, e, t, s); if (P._registerCallback("liberatedOptOut", e), null !== P._liberatedOptOut) return P._callAllCallbacks("liberatedOptOut", [P._liberatedOptOut]), X = !1, P._liberatedOptOut; if (X) return null; X = !0; var o = "liberatedGetOptOut"; return s.corsUrl = s.corsUrl.replace(/\.demdex\.net\/id\?/, ".demdex.net/optOutStatus?"), s.callback = [o], h[o] = function (e) { if (e === Object(e)) { var t, s, a = A.parseOptOut(e, t, F); t = a.optOut, s = 1e3 * a.d_ottl, P._liberatedOptOut = t, setTimeout((function () { P._liberatedOptOut = null }), s) } P._callAllCallbacks("liberatedOptOut", [t]), X = !1 }, K.fireCORS(s), null }, P.isOptedOut = function (e, t, s) { t || (t = T.OptOut.GLOBAL); var a = P.getOptOut((function (s) { var a = s === T.OptOut.GLOBAL || s.indexOf(t) >= 0; P._callCallback(e, [a]) }), s); return a ? a === T.OptOut.GLOBAL || a.indexOf(t) >= 0 : null }; var ee = { subscribed: !1, callbacks: [] }; P.onReceiveEcid = function (e) { if (u()) return P.getMarketingCloudVisitorID(e, !0); ee.subscribed = !0, e && "function" == typeof e && ee.callbacks.push(e) }, P._fields = null, P._fieldsExpired = null, P._hash = function (e) { var t, s = 0; if (e) for (t = 0; t < e.length; t++)s = (s << 5) - s + e.charCodeAt(t), s &= s; return s }, P._generateID = Y, P._generateLocalMID = function () { var e = P._generateID(0); return oe.isClientSideMarketingCloudVisitorID = !0, e }, P._callbackList = null, P._callCallback = function (e, t) { try { "function" == typeof e ? e.apply(E, t) : e[1].apply(e[0], t) } catch (e) { } }, P._registerCallback = function (e, t) { t && (null == P._callbackList && (P._callbackList = {}), null == P._callbackList[e] && (P._callbackList[e] = []), P._callbackList[e].push(t)) }, P._callAllCallbacks = function (e, t) { if (null != P._callbackList) { var s = P._callbackList[e]; if (s) for (; s.length > 0;)P._callCallback(s.shift(), t) } }, P._addQuerystringParam = function (e, t, s, a) { var o = encodeURIComponent(t) + "=" + encodeURIComponent(s), n = te.parseHash(e), r = te.hashlessUrl(e); if (-1 === r.indexOf("?")) return r + "?" + o + n; var i = r.split("?"), c = i[0] + "?", d = i[1]; return c + te.addQueryParamAtLocation(d, o, a) + n }, P._extractParamFromUri = function (e, t) { var s = new RegExp("[\\?&#]" + t + "=([^&#]*)").exec(e); if (s && s.length) return decodeURIComponent(s[1]) }, P._parseAdobeMcFromUrl = n(J.ADOBE_MC), P._parseAdobeMcSdidFromUrl = n(J.ADOBE_MC_SDID), P._attemptToPopulateSdidFromUrl = function (e) { var s = P._parseAdobeMcSdidFromUrl(e), a = 1e9; s && s.TS && (a = te.getTimestampInSeconds() - s.TS), s && s.SDID && s.MCORGID === t && a < P.sdidParamExpiry && (P._supplementalDataIDCurrent = s.SDID, P._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0) }, P._attemptToPopulateIdsFromUrl = function () { var e = P._parseAdobeMcFromUrl(); if (e && e.TS) { var s = te.getTimestampInSeconds() - e.TS; if (Math.floor(s / 60) > J.ADOBE_MC_TTL_IN_MIN || e.MCORGID !== t) return; r(e) } }, P._mergeServerState = function (e) { if (e) try { if ((e = function (e) { return te.isObject(e) ? e : JSON.parse(e) }(e))[P.marketingCloudOrgID]) { var t = e[P.marketingCloudOrgID]; !function (e) { te.isObject(e) && P.setCustomerIDs(e) }(t.customerIDs), i(t.sdid) } } catch (e) { throw new Error("`serverState` has an invalid format.") } }, P._timeout = null, P._loadData = function (e, t, s, a) { t = P._addQuerystringParam(t, "d_fieldgroup", e, 1), a.url = P._addQuerystringParam(a.url, "d_fieldgroup", e, 1), a.corsUrl = P._addQuerystringParam(a.corsUrl, "d_fieldgroup", e, 1), oe.fieldGroupObj[e] = !0, a === Object(a) && a.corsUrl && "XMLHttpRequest" === K.corsMetadata.corsType && K.fireCORS(a, s, e) }, P._clearTimeout = function (e) { null != P._timeout && P._timeout[e] && (clearTimeout(P._timeout[e]), P._timeout[e] = 0) }, P._settingsDigest = 0, P._getSettingsDigest = function () { if (!P._settingsDigest) { var e = P.version; P.audienceManagerServer && (e += "|" + P.audienceManagerServer), P.audienceManagerServerSecure && (e += "|" + P.audienceManagerServerSecure), P._settingsDigest = P._hash(e) } return P._settingsDigest }, P._readVisitorDone = !1, P._readVisitor = function () { if (!P._readVisitorDone) { P._readVisitorDone = !0; var e, t, s, a, o, n, r = P._getSettingsDigest(), i = !1, c = P.cookieRead(P.cookieName), d = new Date; if (c || x || P.discardTrackingServerECID || (c = P.cookieRead(J.FIRST_PARTY_SERVER_COOKIE)), null == P._fields && (P._fields = {}), c && "T" !== c) for ((c = c.split("|"))[0].match(/^[\-0-9]+$/) && (parseInt(c[0], 10) !== r && (i = !0), c.shift()), c.length % 2 == 1 && c.pop(), e = 0; e < c.length; e += 2)s = (t = c[e].split("-"))[0], a = c[e + 1], t.length > 1 ? (o = parseInt(t[1], 10), n = t[1].indexOf("s") > 0) : (o = 0, n = !1), i && ("MCCIDH" === s && (a = ""), o > 0 && (o = d.getTime() / 1e3 - 60)), s && a && (P._setField(s, a, 1), o > 0 && (P._fields["expire" + s] = o + (n ? "s" : ""), (d.getTime() >= 1e3 * o || n && !P.cookieRead(P.sessionCookieName)) && (P._fieldsExpired || (P._fieldsExpired = {}), P._fieldsExpired[s] = !0))); !P._getField(N) && te.isTrackingServerPopulated() && (c = P.cookieRead("s_vi")) && (c = c.split("|")).length > 1 && c[0].indexOf("v1") >= 0 && ((e = (a = c[1]).indexOf("[")) >= 0 && (a = a.substring(0, e)), a && a.match(J.VALID_VISITOR_ID_REGEX) && P._setField(N, a)) } }, P._appendVersionTo = function (e) { var t = "vVersion|" + P.version, s = e ? P._getCookieVersion(e) : null; return s ? z.areVersionsDifferent(s, P.version) && (e = e.replace(J.VERSION_REGEX, t)) : e += (e ? "|" : "") + t, e }, P._writeVisitor = function () { var e, t, s = P._getSettingsDigest(); for (e in P._fields) B(e) && P._fields[e] && "expire" !== e.substring(0, 6) && (t = P._fields[e], s += (s ? "|" : "") + e + (P._fields["expire" + e] ? "-" + P._fields["expire" + e] : "") + "|" + t); s = P._appendVersionTo(s), P.cookieWrite(P.cookieName, s, 1) }, P._getField = function (e, t) { return null == P._fields || !t && P._fieldsExpired && P._fieldsExpired[e] ? null : P._fields[e] }, P._setField = function (e, t, s) { null == P._fields && (P._fields = {}), P._fields[e] = t, s || P._writeVisitor() }, P._getFieldList = function (e, t) { var s = P._getField(e, t); return s ? s.split("*") : null }, P._setFieldList = function (e, t, s) { P._setField(e, t ? t.join("*") : "", s) }, P._getFieldMap = function (e, t) { var s = P._getFieldList(e, t); if (s) { var a, o = {}; for (a = 0; a < s.length; a += 2)o[s[a]] = s[a + 1]; return o } return null }, P._setFieldMap = function (e, t, s) { var a, o = null; if (t) for (a in o = [], t) B(a) && (o.push(a), o.push(t[a])); P._setFieldList(e, o, s) }, P._setFieldExpire = function (e, t, s) { var a = new Date; a.setTime(a.getTime() + 1e3 * t), null == P._fields && (P._fields = {}), P._fields["expire" + e] = Math.floor(a.getTime() / 1e3) + (s ? "s" : ""), t < 0 ? (P._fieldsExpired || (P._fieldsExpired = {}), P._fieldsExpired[e] = !0) : P._fieldsExpired && (P._fieldsExpired[e] = !1), s && (P.cookieRead(P.sessionCookieName) || P.cookieWrite(P.sessionCookieName, "1")) }, P._findVisitorID = function (t) { return t && ("object" === e(t) && (t = t.d_mid ? t.d_mid : t.visitorID ? t.visitorID : t.id ? t.id : t.uuid ? t.uuid : "" + t), t && "NOTARGET" === (t = t.toUpperCase()) && (t = F), t && (t === F || t.match(J.VALID_VISITOR_ID_REGEX)) || (t = "")), t }, P._setFields = function (t, s) { if (P._clearTimeout(t), null != P._loading && (P._loading[t] = !1), oe.fieldGroupObj[t] && oe.setState(t, !1), t === k) { !0 !== oe.isClientSideMarketingCloudVisitorID && (oe.isClientSideMarketingCloudVisitorID = !1); var a = P._getField(L); if (!a || P.overwriteCrossDomainMCIDAndAID) { if (!(a = "object" === e(s) && s.mid ? s.mid : P._findVisitorID(s))) { if (P._use1stPartyMarketingCloudServer && !P.tried1stPartyMarketingCloudServer) return P.tried1stPartyMarketingCloudServer = !0, void P.getAnalyticsVisitorID(null, !1, !0); a = P._generateLocalMID() } P._setField(L, a) } a && a !== F || (a = ""), "object" === e(s) && ((s.d_region || s.dcs_region || s.d_blob || s.blob) && P._setFields(D, s), P._use1stPartyMarketingCloudServer && s.mid && P._setFields(V, { id: s.id })), P._callAllCallbacks(L, [a]) } if (t === D && "object" === e(s)) { var o = 604800; null != s.id_sync_ttl && s.id_sync_ttl && (o = parseInt(s.id_sync_ttl, 10)); var n = se.getRegionAndCheckIfChanged(s, o); P._callAllCallbacks("MCAAMLH", [n]); var r = P._getField(M); (s.d_blob || s.blob) && ((r = s.d_blob) || (r = s.blob), P._setFieldExpire(M, o), P._setField(M, r)), r || (r = ""), P._callAllCallbacks(M, [r]), !s.error_msg && P._newCustomerIDsHash && P._setField("MCCIDH", P._newCustomerIDsHash) } if (t === V) { var i = P._getField(N); i && !P.overwriteCrossDomainMCIDAndAID || ((i = P._findVisitorID(s)) ? i !== F && P._setFieldExpire(M, -1) : i = F, P._setField(N, i)), i && i !== F || (i = ""), P._callAllCallbacks(N, [i]) } if (P.idSyncDisableSyncs || P.disableIdSyncs) se.idCallNotProcesssed = !0; else { se.idCallNotProcesssed = !1; var c = {}; c.ibs = s.ibs, c.subdomain = s.subdomain, se.processIDCallData(c) } if (s === Object(s)) { var d, l; u() && P.isAllowed() && (d = P._getField("MCOPTOUT")); var m = A.parseOptOut(s, d, F); d = m.optOut, l = m.d_ottl, P._setFieldExpire("MCOPTOUT", l, !0), P._setField("MCOPTOUT", d), P._callAllCallbacks("MCOPTOUT", [d]) } }, P._loading = null, P._getRemoteField = function (e, t, s, a, o) { var n, r = "", i = te.isFirstPartyAnalyticsVisitorIDCall(e), c = { MCAAMLH: !0, MCAAMB: !0 }; if (u() && P.isAllowed()) if (P._readVisitor(), !(!(r = P._getField(e, !0 === c[e])) || P._fieldsExpired && P._fieldsExpired[e]) || P.disableThirdPartyCalls && !i) r || (e === L ? (P._registerCallback(e, s), r = P._generateLocalMID(), P.setMarketingCloudVisitorID(r)) : e === N ? (P._registerCallback(e, s), r = "", P.setAnalyticsVisitorID(r)) : (r = "", a = !0)); else if (e === L || "MCOPTOUT" === e ? n = k : "MCAAMLH" === e || e === M ? n = D : e === N && (n = V), n) return !t || null != P._loading && P._loading[n] || (null == P._loading && (P._loading = {}), P._loading[n] = !0, n === D && (w = 0), P._loadData(n, t, (function (t) { if (!P._getField(e)) { t && oe.setState(n, !0); var s = ""; e === L ? s = P._generateLocalMID() : n === D && (s = { error_msg: "timeout" }), P._setFields(n, s) } }), o)), P._registerCallback(e, s), r || (t || P._setFields(n, { id: F }), ""); return e !== L && e !== N || r !== F || (r = "", a = !0), s && a && P._callCallback(s, [r]), e === L && ee.subscribed && (ee.callbacks && ee.callbacks.length && ee.callbacks.forEach((function (e) { P._callCallback(e, [r]) })), ee.subscribed = !1, ee.callbacks.length = 0), r }, P._setMarketingCloudFields = function (e) { P._readVisitor(), P._setFields(k, e) }, P._mapCustomerIDs = function (e) { P.getAudienceManagerBlob(e, !0) }, P._setAnalyticsFields = function (e) { P._readVisitor(), P._setFields(V, e) }, P._setAudienceManagerFields = function (e) { P._readVisitor(), P._setFields(D, e) }, P._getAudienceManagerURLData = function (e) { var t = P.audienceManagerServer, s = "", a = P._getField(L), o = P._getField(M, !0), n = P._getField(N), r = n && n !== F ? "&d_cid_ic=AVID%01" + encodeURIComponent(n) : ""; if (P.loadSSL && P.audienceManagerServerSecure && (t = P.audienceManagerServerSecure), t) { var i, c, d, l = P.getCustomerIDs(!0); if (l) for (c in l) { var u = l[c]; if (!A.isObjectEmpty(u)) { var m = "nameSpaces" === c ? "&d_cid_ns=" : "&d_cid_ic="; for (i in u) B(i) && (d = u[i], r += m + encodeURIComponent(i) + "%01" + encodeURIComponent(d.id ? d.id : "") + (d.authState ? "%01" + d.authState : "")) } } e || (e = "_setAudienceManagerFields"); var b = "http" + (P.loadSSL ? "s" : "") + "://" + t + "/id", p = "d_visid_ver=" + P.version + (y && -1 !== b.indexOf("demdex.net") ? "&gdpr=1&gdpr_consent=" + y : "") + (w && -1 !== b.indexOf("demdex.net") ? "&d_cf=" + w : "") + "&d_rtbd=json&d_ver=2" + (!a && P._use1stPartyMarketingCloudServer ? "&d_verify=1" : "") + "&d_orgid=" + encodeURIComponent(P.marketingCloudOrgID) + "&d_nsid=" + (P.idSyncContainerID || 0) + (a ? "&d_mid=" + encodeURIComponent(a) : "") + (P.idSyncDisable3rdPartySyncing || P.disableThirdPartyCookies ? "&d_coppa=true" : "") + (!0 === _ ? "&d_coop_safe=1" : !1 === _ ? "&d_coop_unsafe=1" : "") + (o ? "&d_blob=" + encodeURIComponent(o) : "") + r, g = ["s_c_il", P._in, e]; return { url: s = b + "?" + p + "&d_cb=s_c_il%5B" + P._in + "%5D." + e, corsUrl: b + "?" + p, callback: g } } return { url: s } }, P.appendVisitorIDsTo = function (e) { try { var t = [[L, P._getField(L)], [N, P._getField(N)], ["MCORGID", P.marketingCloudOrgID]]; return P._addQuerystringParam(e, J.ADOBE_MC, c(t)) } catch (t) { return e } }, P.appendSupplementalDataIDTo = function (e, t) { if (!(t = t || P.getSupplementalDataID(te.generateRandomString(), !0))) return e; try { var s = c([["SDID", t], ["MCORGID", P.marketingCloudOrgID]]); return P._addQuerystringParam(e, J.ADOBE_MC_SDID, s) } catch (t) { return e } }; var te = { parseHash: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(t) : "" }, hashlessUrl: function (e) { var t = e.indexOf("#"); return t > 0 ? e.substr(0, t) : e }, addQueryParamAtLocation: function (e, t, s) { var a = e.split("&"); return s = null != s ? s : a.length, a.splice(s, 0, t), a.join("&") }, isFirstPartyAnalyticsVisitorIDCall: function (e, t, s) { return e === N && (t || (t = P.trackingServer), s || (s = P.trackingServerSecure), !("string" != typeof (a = P.loadSSL ? s : t) || !a.length) && a.indexOf("2o7.net") < 0 && a.indexOf("omtrdc.net") < 0); var a }, isObject: function (e) { return Boolean(e && e === Object(e)) }, removeCookie: function (e) { q.remove(e, { domain: P.cookieDomain }) }, isTrackingServerPopulated: function () { return !!P.trackingServer || !!P.trackingServerSecure }, getTimestampInSeconds: function () { return Math.round((new Date).getTime() / 1e3) }, parsePipeDelimetedKeyValues: function (e) { return e.split("|").reduce((function (e, t) { var s = t.split("="); return e[s[0]] = decodeURIComponent(s[1]), e }), {}) }, generateRandomString: function (e) { e = e || 5; for (var t = "", s = "abcdefghijklmnopqrstuvwxyz0123456789"; e--;)t += s[Math.floor(Math.random() * s.length)]; return t }, normalizeBoolean: function (e) { return "true" === e || "false" !== e && e }, parseBoolean: function (e) { return "true" === e || "false" !== e && null }, replaceMethodsWithFunction: function (e, t) { for (var s in e) e.hasOwnProperty(s) && "function" == typeof e[s] && (e[s] = t); return e } }; P._helpers = te; var se = $(P, T); P._destinationPublishing = se, P.timeoutMetricsLog = []; var ae, oe = { isClientSideMarketingCloudVisitorID: null, MCIDCallTimedOut: null, AnalyticsIDCallTimedOut: null, AAMIDCallTimedOut: null, fieldGroupObj: {}, setState: function (e, t) { switch (e) { case k: !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t; break; case V: !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t; break; case D: !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t } } }; P.isClientSideMarketingCloudVisitorID = function () { return oe.isClientSideMarketingCloudVisitorID }, P.MCIDCallTimedOut = function () { return oe.MCIDCallTimedOut }, P.AnalyticsIDCallTimedOut = function () { return oe.AnalyticsIDCallTimedOut }, P.AAMIDCallTimedOut = function () { return oe.AAMIDCallTimedOut }, P.idSyncGetOnPageSyncInfo = function () { return P._readVisitor(), P._getField("MCSYNCSOP") }, P.idSyncByURL = function (e) { if (!P.isOptedOut()) { var t = d(e || {}); if (t.error) return t.error; var s, a, o = e.url, n = encodeURIComponent, r = se; return o = o.replace(/^https:/, "").replace(/^http:/, ""), s = A.encodeAndBuildRequest(["", e.dpid, e.dpuuid || ""], ","), a = ["ibs", n(e.dpid), "img", n(o), t.ttl, "", s], r.addMessage(a.join("|")), r.requestToProcess(), "Successfully queued" } }, P.idSyncByDataSource = function (e) { if (!P.isOptedOut()) return e === Object(e) && "string" == typeof e.dpuuid && e.dpuuid.length ? (e.url = "//dpm.demdex.net/ibs:dpid=" + e.dpid + "&dpuuid=" + e.dpuuid, P.idSyncByURL(e)) : "Error: config or config.dpuuid is empty" }, Se(P, se), P._getCookieVersion = function (e) { e = e || P.cookieRead(P.cookieName); var t = J.VERSION_REGEX.exec(e); return t && t.length > 1 ? t[1] : null }, P._resetAmcvCookie = function (e) { var t = P._getCookieVersion(); t && !z.isLessThan(t, e) || P.removeCookie(P.cookieName) }, P.setAsCoopSafe = function () { _ = !0 }, P.setAsCoopUnsafe = function () { _ = !1 }, function () { if (P.configs = Object.create(null), te.isObject(s)) for (var e in s) B(e) && (P[e] = s[e], P.configs[e] = s[e]) }(), m(), P.init = function () { l() && (j.optIn.fetchPermissions(f, !0), !j.optIn.isApproved(j.optIn.Categories.ECID)) || ae || (ae = !0, function () { if (te.isObject(s)) { P.idSyncContainerID = P.idSyncContainerID || 0, _ = "boolean" == typeof P.isCoopSafe ? P.isCoopSafe : te.parseBoolean(P.isCoopSafe), P.resetBeforeVersion && P._resetAmcvCookie(P.resetBeforeVersion), P._attemptToPopulateIdsFromUrl(), P._attemptToPopulateSdidFromUrl(), P._readVisitor(); var e = P._getField(O), t = Math.ceil((new Date).getTime() / J.MILLIS_PER_DAY); P.idSyncDisableSyncs || P.disableIdSyncs || !se.canMakeSyncIDCall(e, t) || (P._setFieldExpire(M, -1), P._setField(O, t)), P.getMarketingCloudVisitorID(), P.getAudienceManagerLocationHint(), P.getAudienceManagerBlob(), P._mergeServerState(P.serverState) } else P._attemptToPopulateIdsFromUrl(), P._attemptToPopulateSdidFromUrl() }(), function () { if (!P.idSyncDisableSyncs && !P.disableIdSyncs) { se.checkDPIframeSrc(); var e = function () { var e = se; e.readyToAttachIframe() && e.attachIframe() }; E.addEventListener("load", (function () { T.windowLoaded = !0, e() })); try { W.receiveMessage((function (e) { se.receiveMessage(e.data) }), se.iframeHost) } catch (e) { } } }(), P.whitelistIframeDomains && J.POST_MESSAGE_ENABLED && (P.whitelistIframeDomains = P.whitelistIframeDomains instanceof Array ? P.whitelistIframeDomains : [P.whitelistIframeDomains], P.whitelistIframeDomains.forEach((function (e) { var s = new S(t, e), a = U(P, s); W.receiveMessage(a, e) })))) } }; Fe.config = X, h.Visitor = Fe; var Be = Fe, Ue = function (e) { if (A.isObject(e)) return Object.keys(e).filter((function (t) { return "" !== e[t] && X.getConfigs()[t] })).reduce((function (t, s) { var a = X.normalizeConfig(s, e[s]), o = A.normalizeBoolean(a); return t[s] = o, t }), Object.create(null)) }, Ge = Oe.OptIn, qe = Oe.IabPlugin; Be.getInstance = function (e, t) { if (!e) throw new Error("Visitor requires Adobe Marketing Cloud Org ID."); e.indexOf("@") < 0 && (e += "@AdobeOrg"); var s = function () { var t = h.s_c_il; if (t) for (var s = 0; s < t.length; s++) { var a = t[s]; if (a && "Visitor" === a._c && a.marketingCloudOrgID === e) return a } }(); if (s) return s; var a = Ue(t) || {}; !function (e) { h.adobe.optIn = h.adobe.optIn || function () { var t = A.pluck(e, ["doesOptInApply", "previousPermissions", "preOptInApprovals", "isOptInStorageEnabled", "optInStorageExpiry", "isIabContext", "sameSiteCookie", "secureCookie"]), s = e.optInCookieDomain || e.cookieDomain; s = (s = s || H()) === window.location.hostname ? "" : s, t.optInCookieDomain = s; var a = new Ge(t, { cookies: q }); if (t.isIabContext && t.doesOptInApply) { var o = new qe; a.registerPlugin(o) } return a }() }(a || {}); var o = e.split("").reverse().join(""), n = new Be(e, null, o); a.cookieDomain && (n.cookieDomain = a.cookieDomain), a.sameSiteCookie && a.secureCookie && (n.configs = { sameSiteCookie: a.sameSiteCookie, secureCookie: a.secureCookie }), h.s_c_il.splice(--h.s_c_in, 1); var r = A.getIeVersion(); if ("number" == typeof r && r < 10) return n._helpers.replaceMethodsWithFunction(n, (function () { })); var i = function () { try { return h.self !== h.parent } catch (e) { return !0 } }() && (!function (e) { return e.cookieWrite("TEST_AMCV_COOKIE", "T", 1), "T" === e.cookieRead("TEST_AMCV_COOKIE") && (e.removeCookie("TEST_AMCV_COOKIE"), !0) }(n) || A.isFirefox() && !a.whitelistParentDomain) && h.parent ? new N(e, a, n, h.parent) : new Be(e, a, o); return n = null, i.init(), i }, function () { function e() { Be.windowLoaded = !0 } h.addEventListener ? h.addEventListener("load", e) : h.attachEvent && h.attachEvent("onload", e), Be.codeLoadEnd = (new Date).getTime() }()
                        }(), Visitor)
                    }
                }, "adobe-mcid/src/view/utils/timeUnits.js": { script: function (e) { var t = { Hours: 3600, Days: 86400, Weeks: 604800, Months: 2592e3, Years: 31536e3 }; e.exports = t } }
            }
        }, "adobe-target-v2": {
            displayName: "Adobe Target v2",
            hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EP10966bacbeb14c498c00e158fc31b859/", settings: { targetSettings: { enabled: !0, timeout: 3e3, version: "2.9.0", endpoint: "/rest/v1/delivery", imsOrgId: "B52D1CFE5330949C0A490D45@AdobeOrg", clientCode: "bmwag", secureOnly: !1, serverState: {}, optinEnabled: !0, serverDomain: "bmwag.tt.omtrdc.net", urlSizeLimit: 2048, viewsEnabled: !0, optoutEnabled: !1, globalMboxName: "target-global-mbox", bodyHiddenStyle: "body {opacity: 0}", pageLoadEnabled: !0, analyticsLogging: "server_side", deviceIdLifetime: 632448e5, bodyHidingEnabled: !0, decisioningMethod: "server-side", sessionIdLifetime: 186e4, visitorApiTimeout: 2e3, authoringScriptUrl: "//cdn.tt.omtrdc.net/cdn/target-vec.js", overrideMboxEdgeServer: !1, selectorsPollingTimeout: 5e3, defaultContentHiddenStyle: "visibility: hidden;", defaultContentVisibleStyle: "visibility: visible;", overrideMboxEdgeServerTimeout: 186e4, supplementalDataIdParamTimeout: 30 } }, modules: {
                "adobe-target-v2/lib/loadTarget.js": { name: "load-target", displayName: "Load Target", script: function (e, t, s) { "use strict"; var a = s("@adobe/reactor-window"), o = s("@adobe/reactor-document"), n = s("./modules/load-target"), r = n.initLibrarySettings, i = n.overridePublicApi, c = s("./modules/optin"), d = c.shouldUseOptIn, l = c.isTargetApproved, u = s("./analyticsIntegration"); e.exports = function () { var e = r(); e && e.enabled ? ((0, s("./modules/libs/at-launch").init)(a, o, e), d() && !l() || u()) : i(a) } } }, "adobe-target-v2/lib/firePageLoad.js": { name: "fire-page-load", displayName: "Fire Page Load Request", script: function (e, t, s, a) { "use strict"; function o() { return n.adobe && n.adobe.target && n.adobe.target.VERSION } var n = s("@adobe/reactor-window"), r = s("./modules/libs/at-launch"), i = r.initConfig, c = r.initDelivery, d = s("./modules/page-load"), l = s("./messages"); e.exports = function (e) { var t = d(e); o() ? (i(t), c()) : n.console && a.logger.warn(l.NO_REQUEST) } } }, "adobe-target-v2/lib/modules/load-target.js": { script: function (e, t, s, a) { "use strict"; function o(e) { var t = e.compatMode, s = e.documentMode; return t && "CSS1Compat" === t && (!s || s >= 9) } function n(e) { var t = function () { }, s = function () { return l.resolve() }; e.adobe = e.adobe || {}, e.adobe.target = { VERSION: "", event: {}, getOffer: t, getOffers: s, applyOffer: t, applyOffers: s, sendNotifications: t, trackEvent: t, triggerView: t, registerExtension: t, init: t }, e.mboxCreate = t, e.mboxDefine = t, e.mboxUpdate = t } function r() { return c.adobe && c.adobe.target && void 0 !== c.adobe.target.getOffer } function i() { return r() ? (a.logger.warn(u.ALREADY_INITIALIZED), null) : (g.mboxParams = b(), g.globalMboxParams = p(), f(g, c.targetGlobalSettings || {}, h), f(g, v || {}, ["version"]), o(d) || (g.enabled = !1, a.logger.warn(u.DELIVERY_DISABLED)), g) } var c = s("@adobe/reactor-window"), d = s("@adobe/reactor-document"), l = s("@adobe/reactor-promise"), u = s("../messages"), m = s("./params-store"), b = m.getParams, p = m.getPageLoadParams, g = s("../targetSettings").targetSettings, f = s("./object-override"), v = s("../librarySettings").TARGET_DEFAULT_SETTINGS, h = ["enabled", "clientCode", "imsOrgId", "serverDomain", "cookieDomain", "timeout", "defaultContentHiddenStyle", "defaultContentVisibleStyle", "bodyHiddenStyle", "bodyHidingEnabled", "selectorsPollingTimeout", "visitorApiTimeout", "overrideMboxEdgeServer", "overrideMboxEdgeServerTimeout", "optoutEnabled", "optinEnabled", "secureOnly", "supplementalDataIdParamTimeout", "authoringScriptUrl", "urlSizeLimit", "endpoint", "pageLoadEnabled", "viewsEnabled", "analyticsLogging", "serverState", "globalMboxName", "decisioningMethod"]; e.exports = { initLibrarySettings: i, overridePublicApi: n } } }, "adobe-target-v2/lib/modules/optin.js": { script: function (e, t, s) { "use strict"; function a(e) { return "undefined" === (void 0 === e ? "undefined" : l(e)) || null === e } function o(e) { var t = void 0 === e ? "undefined" : l(e); return null !== e && ("object" === t || "function" === t) } function n(e) { return o(e[g]) && o(e[m]) } function r(e, t) { return !!t && !a(e) && !a(e[p]) && n(e[p]) } function i(e, t) { return e[m](t) } function c() { var e = u[p]; return i(e, e[f][v]) } function d() { var e = h[b]; return r(u, e) } var l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, u = s("@adobe/reactor-window").adobe, m = "isApproved", b = "optinEnabled", p = "optIn", g = "fetchPermissions", f = "Categories", v = "TARGET", h = s("../targetSettings").targetSettings; e.exports = { shouldUseOptIn: d, isTargetApproved: c } } }, "adobe-target-v2/lib/analyticsIntegration.js": { script: function (e, t, s, a) { "use strict"; function o(e, t) { return new i((function (s) { e ? t.then((function (t) { t && (e.abort = !0), s() })) : s() })) } function n(e) { if (e) { var t = new i((function (e) { var t = setTimeout((function () { e(!1) }), u.targetSettings.timeout), s = function s(a) { e(!1), clearTimeout(t), l(r, a, s) }; d(r, b, (function s(a) { a.detail && !0 === a.detail.redirect ? e(!0) : e(!1), clearTimeout(t), l(r, a, s) })), d(r, p, s) })); e((function (e) { return o(e, t) })) } } var r = s("@adobe/reactor-document"), i = s("@adobe/reactor-promise"), c = s("./modules/event-util"), d = c.addEventListener, l = c.removeEventListener, u = s("./targetSettings").extensionSettings, m = a.getSharedModule("adobe-analytics", "augment-tracker"), b = "at-request-succeeded", p = "at-request-failed"; e.exports = function () { n(m) } } }, "adobe-target-v2/lib/modules/libs/at-launch.js": {
                    script: function (e, t, s) {
                        "use strict"; function a(e) { return e && "object" == typeof e && "default" in e ? e : { default: e } } function o(e) { return o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o(e) } function n(e, t, s) { return t in e ? Object.defineProperty(e, t, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = s, e } function r(e, t) { return i(e) || c(e, t) || d(e, t) || u() } function i(e) { if (Array.isArray(e)) return e } function c(e, t) { var s = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != s) { var a, o, n = [], r = !0, i = !1; try { for (s = s.call(e); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0); } catch (e) { i = !0, o = e } finally { try { r || null == s.return || s.return() } finally { if (i) throw o } } return n } } function d(e, t) { if (e) { if ("string" == typeof e) return l(e, t); var s = Object.prototype.toString.call(e).slice(8, -1); return "Object" === s && e.constructor && (s = e.constructor.name), "Map" === s || "Set" === s ? Array.from(e) : "Arguments" === s || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s) ? l(e, t) : void 0 } } function l(e, t) { (null == t || t > e.length) && (t = e.length); for (var s = 0, a = new Array(t); s < t; s++)a[s] = e[s]; return a } function u() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function m(e) { return null == e } function b(e) { return du.call(e) } function p(e) { return b(e) } function g(e) { var t = o(e); return null != e && ("object" === t || "function" === t) } function f(e) { return !!g(e) && p(e) === lu } function v(e) { return e } function h(e) { return f(e) ? e : v } function P(e) { return m(e) ? [] : Object.keys(e) } function j(e, t) { return m(t) ? [] : (iu(t) ? bu : pu)(h(e), t) } function C(e) { return e && e.length ? e[0] : void 0 } function y(e) { return m(e) ? [] : [].concat.apply([], e) } function w(e) { for (var t = this, s = e ? e.length : 0, a = s; a -= 1;)if (!f(e[a])) throw new TypeError("Expected a function"); return function () { for (var a = 0, o = arguments.length, n = new Array(o), r = 0; r < o; r++)n[r] = arguments[r]; for (var i = s ? e[a].apply(t, n) : n[0]; (a += 1) < s;)i = e[a].call(t, i); return i } } function R(e, t) { m(t) || (iu(t) ? uu : mu)(h(e), t) } function x(e) { return null != e && "object" === o(e) } function E(e) { return "string" == typeof e || !iu(e) && x(e) && p(e) === gu } function T(e) { if (!E(e)) return -1; for (var t = 0, s = e.length, a = 0; a < s; a += 1)t = (t << 5) - t + e.charCodeAt(a) & 4294967295; return t } function I(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= fu } function _(e) { return null != e && I(e.length) && !f(e) } function A(e, t) { return vu((function (e) { return t[e] }), e) } function k(e) { for (var t = 0, s = e.length, a = Array(s); t < s;)a[t] = e[t], t += 1; return a } function L(e) { return e.split("") } function O(e) { return m(e) ? [] : _(e) ? E(e) ? L(e) : k(e) : A(P(e), e) } function S(e) { if (null == e) return !0; if (_(e) && (iu(e) || E(e) || f(e.splice))) return !e.length; for (var t in e) if (Pu.call(e, t)) return !1; return !0 } function V(e) { return m(e) ? "" : Cu.call(e) } function N(e) { return E(e) ? !V(e) : S(e) } function D(e) { return "number" == typeof e || x(e) && p(e) === wu } function M(e) { return Object.getPrototypeOf(Object(e)) } function F(e) { if (!x(e) || p(e) !== Ru) return !1; var t = M(e); if (null === t) return !0; var s = Iu.call(t, "constructor") && t.constructor; return "function" == typeof s && s instanceof s && Tu.call(s) === _u } function B(e, t) { return iu(t) ? t.join(e || "") : "" } function U(e, t) { return m(t) ? [] : (iu(t) ? vu : Au)(h(e), t) } function G() { return (new Date).getTime() } function q(e, t, s) { return m(s) ? t : (iu(s) ? ku : Lu)(h(e), t, s) } function H(e) { return null == e ? e : Su.call(e) } function z(e, t) { return N(t) ? [] : t.split(e || "") } function K(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; return setTimeout(e, Number(t) || 0) } function W(e) { clearTimeout(e) } function Y(e) { return void 0 === e } function Z(e) { return !Y(e) } function J(e) { return !!e.execute && !!e.execute.pageLoad } function $(e) { return !!e.execute && !!e.execute.mboxes && e.execute.mboxes.length || 0 } function Q(e) { return !!e.prefetch && !!e.prefetch.pageLoad } function X(e) { return !!e.prefetch && !!e.prefetch.mboxes && e.prefetch.mboxes.length || 0 } function ee(e) { return !!e.prefetch && !!e.prefetch.views && e.prefetch.views.length || 0 } function te(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2; if (e && D(e)) return +e.toFixed(t) } function se() { function e(e) { a.push(e) } function t() { var e = a; return a = [], e } function s() { return a.length > 0 } var a = []; return { addEntry: e, getAndClearEntries: t, hasEntries: s } } function ae() { function e(e, t) { return e !== Fu || t !== Vu.ON_DEVICE && t !== Vu.HYBRID ? Nu.EDGE : Nu.LOCAL } function t(e) { var t = {}, s = J(e), a = $(e), o = Q(e), n = X(e), r = ee(e); return s && (t.executePageLoad = s), a && (t.executeMboxCount = a), o && (t.prefetchPageLoad = o), n && (t.prefetchMboxCount = n), r && (t.prefetchViewCount = r), t } function s(e) { var t = {}; return e.dns && (t.dns = te(e.dns)), e.tls && (t.tls = te(e.tls)), e.timeToFirstByte && (t.timeToFirstByte = te(e.timeToFirstByte)), e.download && (t.download = te(e.download)), e.responseSize && (t.responseSize = te(e.responseSize)), t } function a(e) { var t = {}; return e.execution && (t.execution = te(e.execution)), e.parsing && (t.parsing = te(e.parsing)), e.request && (t.request = s(e.request)), su.default(e, t) } function o(e) { g.addEntry(a(e)) } function n(e) { b && o({ requestId: e.requestId, timestamp: G() }) } function r(e, t) { b && o({ requestId: e, timestamp: G(), execution: t }) } function i(e, t) { o(su.default(t, { requestId: e, timestamp: G() })) } function c(e, t) { b && t && i(e, t) } function d(s, a, o) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : p; if (b && a) { var r = s.requestId, c = su.default(t(s), { decisioningMethod: n }), d = { mode: e(o, n), features: c }; i(r, su.default(a, d)) } } function l() { return g.getAndClearEntries() } function u() { return g.hasEntries() } function m(e) { return u() ? su.default(e, { telemetry: { entries: l() } }) : e } var b = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0], p = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Vu.SERVER_SIDE, g = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : se(); return { addDeliveryRequestEntry: d, addArtifactRequestEntry: c, addRenderEntry: r, addServerStateEntry: n, getAndClearEntries: l, hasEntries: u, addTelemetryToDeliveryRequest: m } } function oe(e, t) { return e(t = { exports: {} }, t.exports), t.exports } function ne() { function e(e) { var t = (Z(n[e]) ? n[e] : 0) + 1; return n[e] = t, "" + e + t } function t(t) { var s = arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? e(t) : t; return Y(r[s]) && (r[s] = Uu()), s } function s(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; if (Y(r[e])) return -1; var s = Uu() - r[e] - t; return i[e] = s, s } function a(e) { delete n[e], delete r[e], delete i[e] } function o() { n = {}, r = {}, i = {} } var n = {}, r = {}, i = {}; return { timeStart: t, timeEnd: s, getTimings: function () { return i }, getTiming: function (e) { return i[e] }, clearTiming: a, reset: o } } function re(e, t) { if (e) { t = t || {}; for (var s = { key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, a = s.parser[t.strictMode ? "strict" : "loose"].exec(e), o = {}, n = 14; n--;)o[s.key[n]] = a[n] || ""; return o[s.q.name] = {}, o[s.key[12]].replace(s.q.parser, (function (e, t, a) { t && (o[s.q.name][t] = a) })), o } } function ie() { var e = window.crypto || window.msCrypto; return !m(e) && e.getRandomValues && f(e.getRandomValues) && e.getRandomValues.bind(e) } function ce() { return zu(Hu) } function de() { for (var e = [], t = 0; t < 256; t += 1)e.push((t + 256).toString(16).substr(1)); return e } function le(e) { for (var t = [], s = 0; s < 16; s += 1)t.push(Ku[e[s]]); return B("", t).toLowerCase() } function ue(e) { var t = e(); return t[6] = 15 & t[6] | 64, t[8] = 63 & t[8] | 128, le(t) } function me() { return ue(ce) } function be(e, t) { e[Jb] && (m(t[sp]) || (e[Vp] = t[sp]), R((function (s) { m(t[s]) || (e[s] = t[s]) }), Ag)) } function pe(e) { var t = e.documentMode; return !t || t >= 10 } function ge(e) { var t = e.compatMode; return t && "CSS1Compat" === t } function fe(e) { return Tg.test(e) } function ve(e) { if (fe(e)) return e; var t = H(z(".", e)), s = t.length; return s >= 3 && Ig.test(t[1]) ? t[2] + "." + t[1] + "." + t[0] : 1 === s ? t[0] : t[1] + "." + t[0] } function he(e, t, s) { var a = ""; e.location.protocol === Eg || (a = ve(e.location.hostname)), s[hp] = a, s[Jb] = ge(t) && pe(t), be(s, e[Ap] || {}) } function Pe(e) { he(xg, Rg, e); var t = xg.location.protocol === Eg; (_g = su.default({}, e))[ip] = e[ip] / 1e3, _g[cp] = e[cp] / 1e3, _g[vp] = _g[pp] || t ? "https:" : "" } function je() { return _g } function Ce(e) { try { return kg(e) } catch (e) { return {} } } function ye(e) { try { return Lg(e) } catch (e) { return "" } } function we(e) { try { return decodeURIComponent(e) } catch (t) { return e } } function Re(e) { try { return encodeURIComponent(e) } catch (t) { return e } } function xe(e) { if (Sg[e]) return Sg[e]; Og.href = e; var t = qu(Og.href); return t.queryKey = Ce(t.query), Sg[e] = t, Sg[e] } function Ee(e, t, s) { return { name: e, value: t, expires: s } } function Te(e) { var t = z("#", e); return S(t) || t.length < 3 || isNaN(parseInt(t[2], 10)) ? null : Ee(we(t[0]), we(t[1]), Number(t[2])) } function Ie(e) { return N(e) ? [] : z("|", e) } function _e() { var e = U(Te, Ie(Vg(Mg))), t = Math.ceil(G() / 1e3); return q((function (e, t) { return e[t.name] = t, e }), {}, j((function (e) { return g(e) && t <= e.expires }), e)) } function Ae(e) { var t = _e()[e]; return g(t) ? t.value : "" } function ke(e) { return B("#", [Re(e.name), Re(e.value), e.expires]) } function Le(e) { return e.expires } function Oe(e) { var t = U(Le, e); return Math.max.apply(null, t) } function Se(e, t, s) { var a = O(e), o = Math.abs(1e3 * Oe(a) - G()), n = B("|", U(ke, a)), r = new Date(G() + o), i = su.default({ domain: t, expires: r, secure: s }, s ? { sameSite: hg } : {}); Ng(Mg, n, i) } function Ve(e) { var t = e.name, s = e.value, a = e.expires, o = e.domain, n = e.secure, r = _e(); r[t] = Ee(t, s, Math.ceil(a + G() / 1e3)), Se(r, o, n) } function Ne(e) { return yu(Vg(e)) } function De(e, t) { var s = Ce(e.location.search); return yu(s[t]) } function Me(e, t) { var s = xe(e.referrer).queryKey; return !m(s) && yu(s[t]) } function Fe(e, t, s) { return Ne(s) || De(e, s) || Me(t, s) } function Be() { var e = je(), t = e[hp], s = e[pp], a = su.default({ domain: t, secure: s }, s ? { sameSite: hg } : {}); Ng(Am, km, a); var o = Vg(Am) === km; return Dg(Am), o } function Ue() { return Fe(xg, Rg, Im) } function Ge() { return je()[Jb] && Be() && !Ue() } function qe() { return Fe(xg, Rg, Tm) } function He() { return Fe(xg, Rg, _m) } function ze(e, t) { var s = e.console; return !m(s) && f(s[t]) } function Ke(e, t) { var s = e.console; ze(e, "warn") && s.warn.apply(s, [Fg].concat(t)) } function We(e, t) { var s = e.console; ze(e, "debug") && qe() && s.debug.apply(s, [Fg].concat(t)) } function Ye() { for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++)t[s] = arguments[s]; Ke(xg, t) } function Ze() { for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++)t[s] = arguments[s]; We(xg, t) } function Je(e) { return q((function (t, s) { return t[s] = e[s], t }), {}, Ag) } function $e(e, t, s) { var a = e[_p] || []; if (e[_p] = a, s) { var o = a.push; a[ap] = Bg, a[Ep] = Je(t), a[Tp] = [], a[Ip] = [], a.push = function (e) { a[Ip].push(su.default({ timestamp: G() }, e)), o.call(this, e) } } } function Qe(e, t, s, a) { t === Ip && e[_p].push(s), a && t !== Ip && e[_p][t].push(su.default({ timestamp: G() }, s)) } function Xe() { $e(xg, je(), qe()) } function et(e) { Qe(xg, Ip, e, qe()) } function tt(e) { Qe(xg, Tp, e, qe()) } function st() { return f(Gg) } function at(e) { return new Gg(e) } function ot() { var e = Rg.createTextNode(""), t = function () { e.textContent = e.textContent.length > 0 ? "" : "a" }, s = []; return at((function () { for (var e = s.length, t = 0; t < e; t += 1)s[t](); s.splice(0, e) })).observe(e, { characterData: !0 }), function (e) { s.push(e), t() } } function nt() { return function (e) { var t = Ug("<script>"); t.on("readystatechange", (function () { t.on("readystatechange", null), t.remove(), t = null, e() })), Ug(Rg.documentElement).append(t) } } function rt() { st() ? nu.default._setImmediateFn(ot()) : -1 !== xg.navigator.userAgent.indexOf("MSIE 10") && nu.default._setImmediateFn(nt()) } function it(e) { return new nu.default(e) } function ct(e) { return nu.default.resolve(e) } function dt(e) { return nu.default.reject(e) } function lt(e) { return iu(e) ? nu.default.race(e) : dt(new TypeError(qg)) } function ut(e) { return iu(e) ? nu.default.all(e) : dt(new TypeError(qg)) } function mt(e, t, s) { var a = -1; return lt([e, it((function (e, o) { a = K((function () { return o(new Error(s)) }), t) }))]).then((function (e) { return W(a), e }), (function (e) { throw W(a), e })) } function bt(e) { if (m(e[sg])) return !1; var t = e[sg]; if (m(t[ag])) return !1; var s = t[ag]; return f(s[ng]) && f(s[og]) } function pt(e, t) { return !!t && bt(e) } function gt(e, t) { if (!bt(e)) return !0; var s = e[sg][ag], a = (e[sg][ag][rg] || {})[t]; return s[og](a) } function ft(e, t) { if (!bt(e)) return ct(!0); var s = e[sg][ag], a = (e[sg][ag][rg] || {})[t]; return it((function (e, t) { s[ng]((function () { s[og](a) ? e(!0) : t(lg) }), !0) })) } function vt() { var e = je()[dg]; return pt(xg, e) } function ht() { return gt(xg, ig) } function Pt() { return gt(xg, cg) } function jt() { return ft(xg, ig) } function Ct() { return Ce(xg.location.search)[Cp] } function yt(e, t) { Ve({ name: Rp, value: e, expires: t[cp], domain: t[hp], secure: t[pp] }) } function wt(e) { yt(e, je()) } function Rt() { if (vt() && !ht()) return Hg; var e = Ct(); if (yu(e)) return wt(e), Ae(Rp); var t = Ae(Rp); return N(t) ? wt(Hg) : wt(t), Ae(Rp) } function xt(e) { var t = je(); Ve({ name: yp, value: e, expires: t[ip], domain: t[hp], secure: t[pp] }) } function Et() { return Ae(yp) } function Tt(e) { if (N(e)) return ""; var t = zg.exec(e); return S(t) || 2 !== t.length ? "" : t[1] } function It() { if (!je()[up]) return ""; var e = Vg(wp); return N(e) ? "" : e } function _t(e) { var t = je(); if (t[up]) { var s = t[hp], a = new Date(G() + t[mp]), o = t[pp], n = Vg(wp), r = su.default({ domain: s, expires: a, secure: o }, o ? { sameSite: hg } : {}); if (yu(n)) Ng(wp, n, r); else { var i = Tt(e); N(i) || Ng(wp, i, r) } } } function At(e, t) { function s(e, s) { var a = t.createEvent("CustomEvent"); return s = s || { bubbles: !1, cancelable: !1, detail: void 0 }, a.initCustomEvent(e, s.bubbles, s.cancelable, s.detail), a } f(e.CustomEvent) || (s.prototype = e.Event.prototype, e.CustomEvent = s) } function kt(e, t) { var s = e(), a = t(), o = {}; return o.sessionId = s, yu(a) ? (o.deviceId = a, o) : o } function Lt(e, t, s, a) { var o = new e.CustomEvent(s, { detail: a }); t.dispatchEvent(o) } function Ot(e, t) { var s = t.mbox, a = t.error, o = t.url, n = t.analyticsDetails, r = t.responseTokens, i = t.execution, c = { type: e, tracking: kt(Rt, Et) }; return m(s) || (c.mbox = s), m(a) || (c.error = a), m(o) || (c.url = o), S(n) || (c.analyticsDetails = n), S(r) || (c.responseTokens = r), S(i) || (c.execution = i), c } function St() { var e = Ot(Wg, {}); Lt(xg, Rg, Wg, e) } function Vt(e) { var t = Ot(Yg, e); Lt(xg, Rg, Yg, t) } function Nt(e, t) { var s = Ot(Zg, e); s.redirect = t, Lt(xg, Rg, Zg, s) } function Dt(e) { var t = Ot(Jg, e); Lt(xg, Rg, Jg, t) } function Mt(e) { var t = Ot($g, e); Lt(xg, Rg, $g, t) } function Ft(e) { var t = Ot(Qg, e); Lt(xg, Rg, Qg, t) } function Bt(e) { var t = Ot(Xg, e); Lt(xg, Rg, Xg, t) } function Ut(e) { var t = Ot(ef, e); Lt(xg, Rg, ef, t) } function Gt(e) { var t = Ot(tf, e); Lt(xg, Rg, tf, t) } function qt(e) { return x(e) && 1 === e.nodeType && !F(e) } function Ht(e) { var t = e.charAt(0), s = e.charAt(1), a = e.charAt(2), o = { key: e }; return o.val = "-" === s ? "" + t + s + "\\3" + a + " " : t + "\\3" + s + " ", o } function zt(e) { var t = e.match(nf); return S(t) ? e : q((function (e, t) { return e.replace(t.key, t.val) }), e, U(Ht, t)) } function Kt(e) { for (var t, s, a, o, n = [], r = V(e), i = r.indexOf(sf); -1 !== i;)t = V(r.substring(0, i)), o = (s = V(r.substring(i))).indexOf(af), a = V(s.substring(of, o)), i = (r = V(s.substring(o + 1))).indexOf(sf), t && a && n.push({ sel: t, eq: Number(a) }); return r && n.push({ sel: r }), n } function Wt(e) { if (qt(e)) return Ug(e); if (!E(e)) return Ug(e); var t = zt(e); if (-1 === t.indexOf(sf)) return Ug(t); var s = Kt(t); return q((function (e, t) { var s = t.sel, a = t.eq; return e = e.find(s), D(a) && (e = e.eq(a)), e }), Ug(Rg), s) } function Yt(e) { return Wt(e).length > 0 } function Zt(e) { return Ug("<" + Wm + "/>").append(e) } function Jt(e) { return Ug(e) } function $t(e) { return Wt(e).prev() } function Qt(e) { return Wt(e).next() } function Xt(e) { return Wt(e).parent() } function es(e, t) { return Wt(t).is(e) } function ts(e, t) { return Wt(t).find(e) } function ss(e) { return Wt(e).children() } function as() { xg[df] = xg[df] || {}, xg[df].querySelectorAll = Wt } function os(e) { var t = e[Kp]; xg[df][uf] = t } function ns() { Rg.addEventListener(Um, (function (e) { f(xg[df][lf]) && xg[df][lf](e) }), !0) } function rs() { if (He()) { as(); var e = je()[fp], t = function () { return ns() }, s = function () { return Ye(rf) }; Ze(cf), ru.default(e).then(t).catch(s) } } function is(e) { return parseInt(e, 10) } function cs(e) { var t = is(e); return isNaN(t) ? null : t } function ds(e) { return z(hf, e) } function ls(e) { var t = z(hf, e), s = cs(t[0]); if (m(s)) return null; var a = {}; a.activityIndex = s; var o = cs(t[1]); return m(o) || (a.experienceIndex = o), a } function us(e) { return j(Pf, U(ls, e)) } function ms(e) { return iu(e) ? us(e) : us([e]) } function bs(e) { var t = Ce(e), s = t[bf]; if (N(s)) return null; var a = {}; a.token = s; var o = t[gf]; yu(o) && o === km && (a.listedActivitiesOnly = !0); var n = t[ff]; yu(n) && (a.evaluateAsTrueAudienceIds = ds(n)); var r = t[vf]; yu(r) && (a.evaluateAsFalseAudienceIds = ds(r)); var i = t[pf]; return S(i) || (a.previewIndexes = ms(i)), a } function ps(e) { var t = bs(e.location.search); if (!m(t)) { var s = new Date(G() + 186e4), a = je()[pp], o = su.default({ expires: s, secure: a }, a ? { sameSite: hg } : {}); Ng(mf, JSON.stringify(t), o) } } function gs() { var e = Vg(mf); if (N(e)) return {}; try { return JSON.parse(e) } catch (e) { return {} } } function fs(e) { var t = Ce(e)[Cf]; return N(t) ? null : { token: t } } function vs(e) { var t = fs(e.location.search); if (!m(t)) { var s = new Date(G() + 186e4), a = je()[pp], o = su.default({ expires: s, secure: a }, a ? { sameSite: hg } : {}); Ng(jf, JSON.stringify(t), o) } } function hs() { var e = Vg(jf); if (N(e)) return {}; try { return JSON.parse(e) } catch (e) { return {} } } function Ps(e) { return Wt(e).empty().remove() } function js(e, t) { return Wt(t).after(e) } function Cs(e, t) { return Wt(t).before(e) } function ys(e, t) { return Wt(t).append(e) } function ws(e, t) { return Wt(t).prepend(e) } function Rs(e, t) { return Wt(t).html(e) } function xs(e) { return Wt(e).html() } function Es(e, t) { return Wt(t).text(e) } function Ts(e, t) { return "<" + Hm + " " + Fm + '="' + e + '" ' + Bm + '="' + Wb + '">' + t + "</" + Hm + ">" } function Is(e, t) { return Ts(yf + T(t), t + " {" + e + "}") } function _s(e, t) { return Ts(xf, t + " {" + e + "}") } function As(e) { if (!0 === e[rp] && !Yt(Rf)) { var t = e[np]; ys(Ts(wf, t), Gm) } } function ks(e) { !0 === e[rp] && Yt(Rf) && Ps(Rf) } function Ls(e, t) { if (!S(t)) { var s = j((function (e) { return !Yt("#" + (yf + T(e))) }), t); if (!S(s)) { var a = e[op]; ys(B("\n", U((function (e) { return Is(a, e) }), s)), Gm) } } } function Os(e, t) { S(t) || Yt("#" + xf) || ys(_s(e[op], B(", ", t)), Gm) } function Ss() { As(je()) } function Vs() { ks(je()) } function Ns(e) { Ls(je(), e) } function Ds(e) { Os(je(), e) } function Ms(e) { Ps("#" + (yf + T(e))) } function Fs() { var e = "#" + xf; Yt(e) && Ps(e) } function Bs(e) { return !m(e[Fm]) } function Us(e) { return !m(e[Np]) } function Gs(e) { switch (e) { default: return "unknown"; case 1: return "authenticated"; case 2: return "logged_out" } } function qs(e) { return e[Fp] } function Hs(e) { return Bs(e) || Us(e) } function zs(e, t) { return q((function (e, s, a) { var o = {}; return o[Mp] = a, Bs(s) && (o[Fm] = s[Fm]), Us(s) && (o[Dp] = Gs(s[Np])), o[Wu] = t, qs(s) && (o[Fp] = !0), e.push(o), e }), [], j(Hs, e)) } function Ks(e) { if (!e.nameSpaces && !e.dataSources) return zs(e, Vf); var t = []; return e.nameSpaces && t.push.apply(t, zs(e.nameSpaces, Sf)), e.dataSources && t.push.apply(t, zs(e.dataSources, Vf)), t } function Ws(e) { if (m(e)) return []; if (!f(e[Lf])) return []; var t = e[Lf](Of); return g(t) ? Ks(t) : [] } function Ys(e, t) { return m(e) ? null : f(e[kf]) ? e[kf](t) : null } function Zs(e, t) { if (m(e)) return null; var s = e[t]; return m(s) ? null : s } function Js(e, t, s) { if (N(t)) return null; if (m(e[Mf])) return null; if (!f(e[Mf][Ff])) return null; var a = e[Mf][Ff](t, { sdidParamExpiry: s }); return g(a) && f(a[Bf]) && a[Bf]() ? a : null } function $s(e, t) { if (!f(e.getVisitorValues)) return ct({}); var s = [_f, Tf, If]; return t && s.push(Af), it((function (t) { e.getVisitorValues((function (e) { return t(e) }), s) })) } function Qs(e) { return Ze(Gf, e), {} } function Xs(e, t, s) { return m(e) ? ct({}) : mt($s(e, s), t, Uf).catch(Qs) } function ea(e, t) { if (!f(e.getVisitorValues)) return {}; var s = [_f, Tf, If]; t && s.push(Af); var a = {}; return e.getVisitorValues((function (e) { return su.default(a, e) }), s), a } function ta(e, t) { return m(e) ? {} : ea(e, t) } function sa() { var e = je(), t = e[Qb], s = e[gp]; return Js(xg, t, s) } function aa() { var e = sa(), t = je(); return Xs(e, t[lp], t[bp]) } function oa() { return ta(sa(), je()[bp]) } function na() { return Ws(sa()) } function ra(e) { return Ys(sa(), e) } function ia(e) { return Zs(sa(), e) } function ca(e, t) { qf[e] = t } function da(e) { return qf[e] } function la(e) { var t = e[Ap]; if (m(t)) return !1; var s = t[Lp]; return !(!iu(s) || S(s)) } function ua(e) { var t = e[Db]; if (!E(t) || S(t)) return !1; var s = e[ap]; if (!E(s) || S(s)) return !1; var a = e[ep]; return !(!m(a) && !D(a) || !f(e[zb])) } function ma(e) { return it((function (t, s) { e((function (e, a) { m(e) ? t(a) : s(e) })) })) } function ba(e, t, s, a, o, n) { var r = {}; r[e] = t, r[s] = a, r[o] = n; var i = {}; return i[kp] = r, i } function pa(e) { var t = e[Db], s = e[ap], a = e[ep] || Kf; return mt(ma(e[zb]), a, zf).then((function (e) { var a = ba(Db, t, ap, s, Fb, e); return Ze(Hf, Lb, a), tt(a), e })).catch((function (e) { var a = ba(Db, t, ap, s, Ib, e); return Ze(Hf, Ib, a), tt(a), {} })) } function ga(e) { var t = q((function (e, t) { return su.default(e, t) }), {}, e); return ca(Lp, t), t } function fa(e) { return la(e) ? ut(U(pa, j(ua, e[Ap][Lp]))).then(ga) : ct({}) } function va() { var e = da(Lp); return m(e) ? {} : e } function ha() { return fa(xg) } function Pa() { return va() } function ja(e) { var t = Ce(e.location.search)[Wf]; return N(t) ? null : t } function Ca() { var e = Vg(Yf); return N(e) ? null : e } function ya() { var e = ja(xg), t = Ca(); return e || t } function wa(e) { return !S(e) && 2 === e.length && yu(e[0]) } function Ra(e) { var t = e.indexOf("="); return -1 === t ? [] : [e.substr(0, t), e.substr(t + 1)] } function xa(e, t, s, a) { R((function (e, o) { g(e) ? (t.push(o), xa(e, t, s, a), t.pop()) : S(t) ? s[a(o)] = e : s[a(B(".", t.concat(o)))] = e }), e) } function Ea(e) { return j((function (e, t) { return yu(t) }), Ce(e)) } function Ta(e) { var t = q((function (e, t) { return e.push(Ra(t)), e }), [], j(yu, e)); return q((function (e, t) { return e[we(V(t[0]))] = we(V(t[1])), e }), {}, j(wa, t)) } function Ia(e, t) { var s = {}; return m(t) ? xa(e, [], s, v) : xa(e, [], s, t), s } function _a(e) { if (!f(e)) return {}; var t = null; try { t = e() } catch (e) { return {} } return m(t) ? {} : iu(t) ? Ta(t) : E(t) && yu(t) ? Ea(t) : g(t) ? Ia(t) : {} } function Aa() { return window.navigator.userAgentData } function ka(e) { return su.default({}, e, _a(xg.targetPageParamsAll)) } function La(e) { return su.default({}, e, _a(xg.targetPageParams)) } function Oa(e) { var t = je(), s = t[tp], a = t[Pp], o = t[jp]; return s !== e ? ka(a || {}) : su.default(ka(a || {}), La(o || {})) } function Sa() { var e = Rg.createElement("canvas"), t = e.getContext("webgl") || e.getContext("experimental-webgl"); if (m(t)) return null; var s = t.getExtension("WEBGL_debug_renderer_info"); if (m(s)) return null; var a = t.getParameter(s.UNMASKED_RENDERER_WEBGL); return m(a) ? null : a } function Va() { var e = xg.devicePixelRatio; if (!m(e)) return e; e = 1; var t = xg.screen, s = t.systemXDPI, a = t.logicalXDPI; return !m(s) && !m(a) && s > a && (e = s / a), e } function Na(e) { if (!iu(e) || 0 === e.length) return ""; var t = ""; return e.forEach((function (s, a) { var o = s.brand, n = s.version, r = a < e.length - 1 ? ", " : ""; t += '"' + o + '";v="' + n + '"' + r })), t } function Da(e) { return { mobile: e.mobile, platform: e.platform, browserUAWithMajorVersion: Na(e.brands) } } function Ma(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; try { return e.getHighEntropyValues(Zf).then((function (e) { var s = e.platformVersion, a = e.architecture, o = e.bitness, n = e.model, r = e.fullVersionList; return su.default({}, t, { model: n, platformVersion: s, browserUAWithFullVersion: Na(r), architecture: a, bitness: o }) })) } catch (e) { return ct(t) } } function Fa(e) { return ca(yg, e), e } function Ba(e) { return ct(e).then(Fa) } function Ua(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], s = da(yg); if (Z(s)) return Ba(s); if (Y(e)) return Ba({}); var a = Da(e); return Ba(t ? Ma(e, a) : a) } function Ga() { var e = xg.screen, t = e.orientation, s = e.width, a = e.height; if (m(t)) return s > a ? "landscape" : "portrait"; if (m(t.type)) return null; var o = z("-", t.type); if (S(o)) return null; var n = o[0]; return m(n) ? null : n } function qa() { return Jf } function Ha(e) { return e === Qf } function za(e) { return -1 !== e.indexOf($f) } function Ka(e) { return e === Xf } function Wa(e) { return e === ev } function Ya(e) { return e === tv } function Za(e) { return e === sv } function Ja(e) { return e === av } function $a(e) { return e === ov } function Qa(e) { return za(e) || Ha(e) || Ka(e) || Wa(e) || Ya(e) || Za(e) || Ja(e) || $a(e) } function Xa(e) { return e.substring($f.length) } function eo(e) { return e[Qf] } function to(e) { return e[Xf] } function so(e) { return e[ev] } function ao(e) { return e[tv] } function oo(e) { var t = U(V, z(",", e[sv])); return j(yu, t) } function no(e) { return e[av] } function ro(e) { return e[ov] } function io() { return q((function (e, t, s) { return Qa(s) || (e[s] = m(t) ? "" : t), e }), {}, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}) } function co() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; return q((function (e, s, a) { var o = t ? Xa(a) : a; return t && !za(a) || N(o) || (e[o] = m(s) ? "" : s), e }), {}, e) } function lo(e, t, s) { return e.onload = function () { var a = 1223 === e.status ? 204 : e.status; if (a < 100 || a > 599) s(new Error(rv)); else { var o; try { var n = Uu(); (o = JSON.parse(e.responseText)).parsingTime = Uu() - n, o.responseSize = new Blob([e.responseText]).size } catch (e) { return void s(new Error(cv)) } var r = e.getAllResponseHeaders(); t({ status: a, headers: r, response: o }) } }, e } function uo(e, t) { return e.onerror = function () { t(new Error(rv)) }, e } function mo(e, t, s) { return e.timeout = t, e.ontimeout = function () { s(new Error(iv)) }, e } function bo(e) { return R((function (t, s) { iu(t) && R((function (t) { e.setRequestHeader(s, t) }), t) }), arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}), e } function po(e) { var t = e.url, s = e.headers, a = e.body, o = e.timeout, n = e.async; return it((function (e, r) { var i = new window.XMLHttpRequest; (i = uo(i = lo(i, e, r), r)).open(nv, t, n), i.withCredentials = !0, i = bo(i, s), n && (i = mo(i, o, r)), i.send(JSON.stringify(a)) })).then((function (e) { var t = e.response, s = t.status, a = t.message; if (!m(s) && !m(a)) throw new Error(a); return t })) } function go(e, t) { if (!performance) return null; var s = performance.getEntriesByType("resource").find((function (t) { return t.name.endsWith(e) })); if (!s) return null; var a = {}; return s.domainLookupEnd && s.domainLookupStart && (a.dns = s.domainLookupEnd - s.domainLookupStart), s.secureConnectionStart && s.connectEnd && (a.tls = s.connectEnd - s.secureConnectionStart), s.responseStart && (a.timeToFirstByte = s.responseStart - s.requestStart), s.responseEnd && s.responseStart && (a.download = s.responseEnd - s.responseStart), s.encodedBodySize ? a.responseSize = s.encodedBodySize : t.responseSize && (a.responseSize = t.responseSize, delete t.responseSize), a } function fo(e, t) { return D(t) ? t < 0 ? e[ep] : t : e[ep] } function vo(e) { var t = e[Xb]; if (!e[up]) return t; var s = It(); return N(s) ? t : "" + dv + s + lv } function ho(e) { return e[vp] + "//" + vo(e) + e[Op] + "?" + ye({ client: e[$b], sessionId: Rt(), version: e[ap] }) } function Po(e, t, s) { var a = je(), o = ho(a), r = n({}, Yp, [Zp]), i = fo(a, t), c = { url: o, headers: r, body: e, timeout: i, async: !0 }; return Gu.timeStart(e.requestId), po(c).then((function (t) { var a = { execution: Gu.timeEnd(e.requestId), parsing: t.parsingTime }; delete t.parsingTime; var n = go(o, t); return n && (a.request = n), t.telemetryServerToken && (a.telemetryServerToken = t.telemetryServerToken), window.__target_telemetry.addDeliveryRequestEntry(e, a, t.status, s), su.default(t, { decisioningMethod: Vu.SERVER_SIDE }) })) } function jo(e) { if (e[Af]) throw new Error(Ef); return e } function Co() { var e = aa(), t = ha(); return ut([e.then(jo), t]) } function yo() { return [oa(), Pa()] } function wo(e) { var t = je()[tp]; return su.default({}, e, Oa(t)) } function Ro() { return -(new Date).getTimezoneOffset() } function xo() { var e = xg.screen; return { width: e.width, height: e.height, orientation: Ga(), colorDepth: e.colorDepth, pixelRatio: Va() } } function Eo() { var e = Rg.documentElement; return { width: e.clientWidth, height: e.clientHeight } } function To() { return { host: xg.location.hostname, webGLRenderer: qa() } } function Io() { return { url: xg.location.href, referringUrl: Rg.referrer } } function _o(e) { if (!m(e) && e.channel === Cg) return e; var t = da(yg) || {}, s = (e || {}).beacon; return { userAgent: xg.navigator.userAgent, clientHints: t, timeOffsetInMinutes: Ro(), channel: Cg, screen: xo(), window: Eo(), browser: To(), address: Io(), geo: e && e.geo, beacon: s } } function Ao(e, t) { if (!m(e)) return e; var s = {}; if (S(t)) return s; var a = t[If], o = parseInt(a, 10); isNaN(o) || (s.locationHint = o); var n = t[Tf]; return yu(n) && (s.blob = n), s } function ko(e) {
                            var t = e.id, s = e.integrationCode, a = e.authenticatedState, o = e.type, n = e.primary, r = {}; return yu(t) && (r.id = t), yu(s) && (r.integrationCode = s),
                                yu(a) && (r.authenticatedState = a), yu(o) && (r.type = o), n && (r.primary = n), r
                        } function Lo(e) { return U(ko, e) } function Oo(e, t, s, a, o) { var n = {}; yu(t) && (n.tntId = t), yu(s) && (n.thirdPartyId = s), yu(e.thirdPartyId) && (n.thirdPartyId = e.thirdPartyId); var r = a[_f]; return yu(r) && (n.marketingCloudVisitorId = r), yu(e.marketingCloudVisitorId) && (n.marketingCloudVisitorId = e.marketingCloudVisitorId), S(e.customerIds) ? (S(o) || (n.customerIds = Lo(o)), n) : (n.customerIds = e.customerIds, n) } function So(e, t) { var s = {}, a = Ao(e.audienceManager, t); return S(a) || (s.audienceManager = a), S(e.analytics) || (s.analytics = e.analytics), s } function Vo(e, t) { if (!m(e) && yu(e.token)) return e; var s = {}, a = to(t); return yu(a) && (s.token = a), s } function No(e) { if (!m(e) && yu(e.authorizationToken)) return e; var t = {}, s = ya(); return yu(s) && (t.authorizationToken = s), t } function Do(e) { return m(e) ? hs() : e } function Mo(e) { return m(e) ? gs() : e } function Fo(e) { var t = {}, s = so(e); m(s) || (t.id = s); var a = ao(e), o = parseFloat(a); isNaN(o) || (t.total = o); var n = oo(e); return S(n) || (t.purchasedProductIds = n), t } function Bo(e) { var t = {}, s = no(e); m(s) || (t.id = s); var a = ro(e); return m(a) || (t.categoryId = a), t } function Uo(e, t) { var s = {}, a = su.default({}, io(t), io(e.parameters || {})), o = su.default({}, co(t), co(e.profileParameters || {}, !1)), n = su.default({}, Fo(t), e.order || {}), r = su.default({}, Bo(t), e.product || {}); return S(a) || (s.parameters = a), S(o) || (s.profileParameters = o), S(n) || (s.order = n), S(r) || (s.product = r), s } function Go(e, t) { var s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, a = je()[tp], o = e.index, n = e.name, r = e.address, i = Uo(e, su.default({}, n === a ? t : s, Oa(n))); return m(o) || (i.index = o), yu(n) && (i.name = n), S(r) || (i.address = r), i } function qo(e, t) { var s = e.name, a = e.address, o = Uo(e, t); return yu(s) && (o.name = s), S(a) || (o.address = a), o } function Ho(e, t, s) { var a = e.execute, o = void 0 === a ? {} : a, n = {}; if (S(o)) return n; var r = o.pageLoad; m(r) || (n.pageLoad = Uo(r, t)); var i = o.mboxes; if (!m(i) && iu(i) && !S(i)) { var c = j(uv, U((function (e) { return Go(e, t, s) }), i)); S(c) || (n.mboxes = c) } return n } function zo(e, t, s) { var a = e.prefetch, o = void 0 === a ? {} : a, n = {}; if (S(o)) return n; var r = o.mboxes; m(r) || !iu(r) || S(r) || (n.mboxes = U((function (e) { return Go(e, t, s) }), r)); var i = o.views; return m(i) || !iu(i) || S(i) || (n.views = U((function (e) { return qo(e, t) }), i)), n } function Ko(e, t) { if (vt() && !Pt()) return null; var s = je(), a = ra(e), o = ia(Nf), n = ia(Df), r = t.experienceCloud, i = (void 0 === r ? {} : r).analytics, c = void 0 === i ? {} : i, d = c.logging, l = c.supplementalDataId, u = c.trackingServer, b = c.trackingServerSecure, p = {}; return m(d) ? p.logging = s[ug] : p.logging = d, m(l) || (p.supplementalDataId = l), yu(a) && (p.supplementalDataId = a), m(u) || (p.trackingServer = u), yu(o) && (p.trackingServer = o), m(b) || (p.trackingServerSecure = b), yu(n) && (p.trackingServerSecure = n), S(p) ? null : p } function Wo(e, t, s) { var a = wo(s), o = Et(), n = eo(a), r = na(), i = Oo(e.id || {}, o, n, t, r), c = Vo(e.property, a), d = So(e.experienceCloud || {}, t), l = No(e.trace), u = Do(e.preview), m = Mo(e.qaMode), b = Ho(e, a, s), p = zo(e, a, s), g = e.notifications, f = {}; return f.requestId = me(), f.context = _o(e.context), S(i) || (f.id = i), S(c) || (f.property = c), S(l) || (f.trace = l), S(d) || (f.experienceCloud = d), S(u) || (f.preview = u), S(m) || (f.qaMode = m), S(b) || (f.execute = b), S(p) || (f.prefetch = p), S(g) || (f.notifications = g), f = xg.__target_telemetry.addTelemetryToDeliveryRequest(f) } function Yo(e, t, s) { var a = s[0], o = s[1]; return Wo(e, a, su.default({}, o, t)) } function Zo(e, t) { var s = je(); return ut([Co(), Ua(Aa(), s[wg])]).then((function (s) { var a = r(s, 1)[0]; return Yo(e, t, a) })) } function Jo(e, t) { return Yo(e, t, yo()) } function $o(e, t) { return Ze(Hb, e), tt({ request: e }), Po(e, t, Vu.SERVER_SIDE).then((function (t) { return Ze(qb, t), tt({ response: t }), { request: e, response: t } })) } function Qo(e) { return !e && Kg ? Kg : Kg = me() } function Xo(e, t) { return { status: Lb, type: e, data: t } } function en(e, t) { return { status: Ib, type: e, data: t } } function tn(e) { return g(e) } function sn(e) { return !!tn(e) && yu(e.eventToken) } function an(e) { return !S(e) && !N(e.type) && yu(e.eventToken) } function on(e) { return !!an(e) && yu(e.selector) } function nn(e) { var t = e.id; return g(t) && yu(t.tntId) } function rn(e) { var t = e.response; return nn(t) && xt(t.id.tntId), e } function cn(e) { var t = e.response; return nn(t) && _t(t.id.tntId), _t(null), e } function dn() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).trace; S(e) || et(e) } function ln(e) { var t = e.response, s = t.execute, a = void 0 === s ? {} : s, o = t.prefetch, n = void 0 === o ? {} : o, r = t.notifications, i = void 0 === r ? {} : r, c = a.pageLoad, d = void 0 === c ? {} : c, l = a.mboxes, u = void 0 === l ? [] : l, m = n.mboxes, b = void 0 === m ? [] : m, p = n.views, g = void 0 === p ? [] : p; return dn(d), R(dn, u), R(dn, b), R(dn, g), R(dn, i), e } function un(e) { var t = e.queryKey, s = t[Sv]; if (!E(s)) return t; if (N(s)) return t; var a = Math.round(G() / 1e3); return t[Sv] = s.replace(/\|TS=\d+/, "|TS=" + a), t } function mn(e) { return e.queryKey } function bn(e, t, s) { var a = xe(e), o = a.protocol, n = a.host, r = a.path, i = "" === a.port ? "" : ":" + a.port, c = N(a.anchor) ? "" : "#" + a.anchor, d = s(a), l = ye(su.default({}, d, t)); return o + "://" + n + i + r + (N(l) ? "" : "?" + l) + c } function pn(e, t) { return bn(e, t, un) } function gn(e, t) { return bn(e, t, mn) } function fn(e) { var t = e.content; if (N(t)) return Ze(hb, e), null; var s = su.default({}, e); return s.content = pn(t, {}), s } function vn(e) { throw new Error(e) } function hn(e) { var t = e[Bv] || Mv, s = e[Uv] || vn(Dv), a = e[Gv] || {}, o = e[qv] || null, n = e[Hv] || !1, r = e[zv] || 3e3, i = !!m(e[Kv]) || !0 === e[Kv], c = {}; return c[Bv] = t, c[Uv] = s, c[Gv] = a, c[qv] = o, c[Hv] = n, c[zv] = r, c[Kv] = i, c } function Pn(e, t, s) { return e.onload = function () { var a = 1223 === e.status ? 204 : e.status; if (a < 100 || a > 599) s(new Error(Vv)); else { var o = e.responseText, n = e.getAllResponseHeaders(); t({ status: a, headers: n, response: o }) } }, e } function jn(e, t) { return e.onerror = function () { t(new Error(Vv)) }, e } function Cn(e, t, s) { return e.timeout = t, e.ontimeout = function () { s(new Error(Nv)) }, e } function yn(e, t) { return !0 === t && (e.withCredentials = t), e } function wn(e, t) { return R((function (t, s) { R((function (t) { return e.setRequestHeader(s, t) }), t) }), t), e } function Rn(e, t) { var s = hn(t), a = s[Bv], o = s[Uv], n = s[Gv], r = s[qv], i = s[Hv], c = s[zv], d = s[Kv]; return it((function (t, s) { var l = new e.XMLHttpRequest; (l = jn(l = Pn(l, t, s), s)).open(a, o, d), l = wn(l = yn(l, i), n), d && (l = Cn(l, c, s)), l.send(r) })) } function xn(e) { return Rn(xg, e) } function En(e, t, s) { var a = {}; return a[Bv] = Mv, a[Uv] = gn(e, t), a[zv] = s, a } function Tn(e) { return e >= 200 && e < 300 || 304 === e } function In(e) { if (!Tn(e.status)) return null; var t = e.response; if (N(t)) return null; var s = {}; return s.type = Vm, s.content = t, s } function _n(e) { return xn(En(e.content, {}, je()[zv])).then(In).catch((function () { return null })) } function An(e) { var t = e[sm]; if (N(t)) return ""; var s = Wv.exec(t); return S(s) || 2 !== s.length ? "" : s[1] } function kn(e, t) { var s = document.createElement(Wm); s.innerHTML = t; var a = s.firstElementChild; return m(a) ? t : (a.id = e, a.outerHTML) } function Ln(e) { var t = e[Yu], s = An(e); if (N(s) || N(t)) return e; var a = e[sm]; return e[sm] = a.replace(Yv, ""), e[Yu] = kn(s, t), e } function On(e) { return !m(e.selector) } function Sn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Vn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Nn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Dn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Mn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Fn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Bn(e) { if (!On(e)) return null; var t = Ln(e); return E(t[Yu]) ? t : (Ze(mb, t), null) } function Un(e) { return On(e) ? E(e[Yu]) ? e : (Ze(mb, e), null) : null } function Gn(e) { return On(e) ? g(e[Yu]) ? e : (Ze(bb, e), null) : null } function qn(e) { return On(e) ? E(e[Yu]) ? e : (Ze(Pb, e), null) : null } function Hn(e) { return On(e) ? g(e[Yu]) ? e : (Ze(pb, e), null) : null } function zn(e) { return On(e) ? g(e[Yu]) ? e : (Ze(gb, e), null) : null } function Kn(e) { return On(e) ? g(e[Yu]) ? e : (Ze(fb, e), null) : null } function Wn(e) { return On(e) ? e : null } function Yn(e) { return On(e) ? g(e[Yu]) ? e : (Ze(vb, e), null) : null } function Zn(e) { var t = e.content; return N(t) ? (Ze(hb, e), null) : (e.content = pn(t, {}), e) } function Jn(e) { var t = e[Wu]; if (N(t)) return null; switch (t) { case om: return Sn(e); case rm: return Vn(e); case Cm: return Nn(e); case wm: return Dn(e); case xm: return Mn(e); case Pm: return Fn(e); case jm: return Bn(e); case gm: return Un(e); case cm: return Gn(e); case dm: return qn(e); case lm: return Hn(e); case mm: return zn(e); case bm: return Kn(e); case pm: return Wn(e); case um: return Yn(e); case fm: return Zn(e); default: return null } } function $n(e) { var t = e[Yu]; if (!iu(t)) return null; if (S(t)) return null; var s = j(Zv, U(Jn, t)); if (S(s)) return null; var a = su.default({}, e); return a.content = s, a } function Qn() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).options; return iu(e) ? S(e) ? [] : jv(U(xv, e)) : [] } function Xn() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.execute, s = void 0 === t ? {} : t, a = e.prefetch, o = void 0 === a ? {} : a, n = s.pageLoad, r = void 0 === n ? {} : n, i = s.mboxes, c = void 0 === i ? [] : i, d = o.mboxes, l = void 0 === d ? [] : d, u = o.views, m = void 0 === u ? [] : u, b = Qn(r), p = y(U(Qn, c)), g = y(U(Qn, l)), f = y(U(Qn, m)); return y([b, p, g, f]) } function er() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).execute, t = void 0 === e ? {} : e, s = t.pageLoad, a = void 0 === s ? {} : s, o = t.mboxes, n = void 0 === o ? [] : o, r = yv(a) || [], i = y(jv(U(yv, n))), c = y([r, i]), d = y(U(wv, j(hv, c))), l = j(Pv, c), u = j(Pv, d), m = l.concat(u), b = {}; if (S(m)) return b; var p = m[0].content; return N(p) || (b.url = p), b } function tr() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).analytics; return S(e) ? [] : [e] } function sr() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.execute, s = void 0 === t ? {} : t, a = e.prefetch, o = void 0 === a ? {} : a, n = s.pageLoad, r = void 0 === n ? {} : n, i = s.mboxes, c = void 0 === i ? [] : i, d = o.mboxes, l = void 0 === d ? [] : d, u = o.views, m = void 0 === u ? [] : u, b = o.metrics, p = void 0 === b ? [] : b, g = tr(r), f = y(U(tr, c)), v = y(U(tr, l)), h = y(U(tr, m)), P = y(U(tr, p)); return y([g, f, v, h, P]) } function ar(e, t) { e.parameters = t.parameters, e.profileParameters = t.profileParameters, e.order = t.order, e.product = t.product } function or(e, t) { var s = t[0], a = t[1], o = !S(s), n = !S(a); return o || n ? (o && (e.options = s), n && (e.metrics = a), e) : e } function nr(e) { switch (e.type) { case fm: return ct(fn(e)); case Nm: return _n(e); case Bb: return ct($n(e)); default: return ct(e) } } function rr(e, t) { if (!iu(e)) return ct([]); if (S(e)) return ct([]); var s = j(t, e); return S(s) ? ct([]) : ut(U((function (e) { return nr(e) }), s)).then(jv) } function ir(e, t) { return iu(e) ? S(e) ? ct([]) : ct(j(t, e)) : ct([]) } function cr(e) { var t = e.response.execute; if (!g(t)) return ct(null); var s = t.pageLoad; if (!g(s)) return ct(null); var a = s.analytics, o = s.options, n = s.metrics, r = { analytics: a }; return ut([rr(o, tn), ir(n, on)]).then((function (e) { return or(r, e) })) } function dr(e) { var t = e.name, s = e.analytics, a = e.options, o = e.metrics, n = { name: t, analytics: s }; return ut([rr(a, tn), ir(o, an)]).then((function (e) { return or(n, e) })) } function lr(e) { var t = e.response.execute; if (!g(t)) return ct([]); var s = t.mboxes; return !iu(s) || S(s) ? ct([]) : ut(U(dr, j(Iv, s))).then(jv) } function ur(e, t, s) { return e.index === t && e.name === s } function mr(e, t, s) { var a = e.prefetch, o = (void 0 === a ? {} : a).mboxes, n = void 0 === o ? [] : o; return S(n) ? null : C(j((function (e) { return ur(e, t, s) }), n)) } function br(e, t) { var s = t.index, a = t.name, o = t.state, n = t.analytics, r = t.options, i = t.metrics, c = mr(e, s, a), d = { name: a, state: o, analytics: n }; return m(c) || ar(d, c), ut([rr(r, sn), ir(i, an)]).then((function (e) { return or(d, e) })) } function pr(e) { var t = e.request, s = e.response.prefetch; if (!g(s)) return ct([]); var a = s.mboxes; return !iu(a) || S(a) ? ct([]) : ut(U((function (e) { return br(t, e) }), j(_v, a))).then(jv) } function gr(e) { var t = e.prefetch, s = (void 0 === t ? {} : t).views, a = void 0 === s ? [] : s; return S(a) ? null : a[0] } function fr(e, t) { var s = t.name, a = t.state, o = t.analytics, n = t.options, r = t.metrics, i = gr(e), c = { name: s.toLowerCase(), state: a, analytics: o }; return m(i) || ar(c, i), ut([rr(n, sn), ir(r, on)]).then((function (e) { return or(c, e) })) } function vr(e) { var t = e.request, s = e.response.prefetch; if (!g(s)) return ct([]); var a = s.views; return !iu(a) || S(a) ? ct([]) : ut(U((function (e) { return fr(t, e) }), j(Av, a))).then(jv) } function hr(e) { var t = e.response.prefetch; return g(t) ? ir(t.metrics, on) : ct([]) } function Pr(e) { var t = e.response, s = t.remoteMboxes, a = t.remoteViews, o = t.decisioningMethod, n = {}; return g(s) && (n.remoteMboxes = s), g(a) && (n.remoteViews = a), E(o) && (n.decisioningMethod = o), ct(n) } function jr(e) { return m(e) || N(e.id) ? ct(null) : ct({ id: e.id }) } function Cr(e) { var t = e.response.notifications; return iu(t) ? ut(U(jr, t)).then(jv) : ct([]) } function yr(e) { var t = e[0], s = e[1], a = e[2], o = e[3], n = e[4], r = e[5], i = e[6], c = {}, d = {}; g(t) && (d.pageLoad = t), S(s) || (d.mboxes = s); var l = {}; return S(a) || (l.mboxes = a), S(o) || (l.views = o), S(n) || (l.metrics = n), S(d) || (c.execute = d), S(l) || (c.prefetch = l), S(r) || (c.meta = r), S(i) || (c.notifications = i), c } function wr(e) { var t = w([ln, rn, cn])(e); return ut([cr(t), lr(t), pr(t), vr(t), hr(t), Pr(t), Cr(t)]).then(yr) } function Rr(e) { return !S(er(e)) } function xr(e) { var t = Xn(e), s = {}; return S(t) || (s.responseTokens = t), s } function Er(e) { var t = xr(e), s = sr(e); return S(s) || (t.analyticsDetails = s), Ze(db, e), Nt(t, Rr(e)), ct(e) } function Tr(e, t) { var s = xr(t); s.mbox = e; var a = sr(t); return S(a) || (s.analyticsDetails = a), Ze(db, t), Nt(s, Rr(t)), ct(t) } function Ir(e) { return Ye(cb, e), Dt({ error: e }), dt(e) } function _r(e, t) { return Ye(cb, t), Dt({ mbox: e, error: t }), dt(t) } function Ar(e) { var t = je()[tp], s = e.mbox, a = e.timeout, o = g(e.params) ? e.params : {}, n = function (e) { return Tr(s, e) }, r = function (e) { return _r(s, e) }, i = {}, c = {}; s === t ? c.pageLoad = {} : c.mboxes = [{ index: 0, name: s }], i.execute = c; var d = Ko(s, i); if (!S(d)) { var l = {}; l.analytics = d, i.experienceCloud = l } return Vt({ mbox: s }), Zo(i, o).then((function (e) { return $o(e, a) })).then(wr).then(n).catch(r) } function kr(e) { var t = je()[tp], s = e.consumerId, a = void 0 === s ? t : s, o = e.request, n = e.timeout, r = e.page, i = void 0 === r || r, c = Ko(a, o), d = function (e) { return Er(e) }, l = function (e) { return Ir(e) }; if (o.impressionId = o.impressionId || Qo(i), !S(c)) { var u = o.experienceCloud || {}; u.analytics = c, o.experienceCloud = u } return Vt({}), Zo(o, {}).then((function (e) { return $o(e, n) })).then(wr).then(d).catch(l) } function Lr(e, t) { return Wt(t).addClass(e) } function Or(e, t) { return Wt(t).css(e) } function Sr(e, t) { return Wt(t).attr(e) } function Vr(e, t, s) { return Wt(s).attr(e, t) } function Nr(e, t) { return Wt(t).removeAttr(e) } function Dr(e, t, s) { var a = Sr(e, s); yu(a) && (Nr(e, s), Vr(t, a, s)) } function Mr(e, t) { return yu(Sr(e, t)) } function Fr(e) { return new Error("Could not find: " + e) } function Br(e, t, s) { return it((function (a, o) { var n = at((function () { var t = s(e); S(t) || (n.disconnect(), a(t)) })); K((function () { n.disconnect(), o(Fr(e)) }), t), n.observe(Rg, { childList: !0, subtree: !0 }) })) } function Ur() { return Rg[Jv] === $v } function Gr(e, t, s) { return it((function (a, o) { function n() { var t = s(e); S(t) ? xg.requestAnimationFrame(n) : a(t) } n(), K((function () { o(Fr(e)) }), t) })) } function qr(e, t, s) { return it((function (a, o) { function n() { var t = s(e); S(t) ? K(n, Qv) : a(t) } n(), K((function () { o(Fr(e)) }), t) })) } function Hr(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : je()[dp], s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Wt, a = s(e); return S(a) ? st() ? Br(e, t, s) : Ur() ? Gr(e, t, s) : qr(e, t, s) : ct(a) } function zr(e) { return Sr(Om, e) } function Kr(e) { return Mr(Om, e) } function Wr(e) { return R((function (e) { return Dr(Mm, Om, e) }), O(ts(Km, e))), e } function Yr(e) { return R((function (e) { return Dr(Om, Mm, e) }), O(ts(Km, e))), e } function Zr(e) { return Ze(yb, e), Sr(Mm, Vr(Mm, e, Jt("<" + Km + "/>"))) } function Jr(e) { var t = j(Kr, O(ts(Km, e))); return S(t) || R(Zr, U(zr, t)), e } function $r(e) { return w([Wr, Jr, Yr])(e) } function Qr(e) { var t = Sr(Mm, e); return yu(t) ? t : null } function Xr(e) { return j(yu, U(Qr, O(ts(Dm, e)))) } function ei(e) { return q((function (e, t) { return e.then((function () { return Ze(Tb, t), tt({ remoteScript: t }), ru.default(t) })) }), ct(), e) } function ti(e) { return e } function si(e, t) { return Ye(ib, t), tt({ action: e, error: t }), e } function ai(e, t) { var s, a = Wt(t[sm]), o = $r(Zt(t[Yu])), n = Xr(o); try { s = ct(e(a, o)) } catch (e) { return dt(si(t, e)) } return S(n) ? s.then((function () { return ti(t) })).catch((function (e) { return si(t, e) })) : s.then((function () { return ei(n) })).then((function () { return ti(t) })).catch((function (e) { return si(t, e) })) } function oi(e) { var t = Zt(e); return B("", q((function (e, t) { return e.push(xs(Zt(t))), e }), [], O(ts(Xv, t)))) } function ni(e) { var t = su.default({}, e), s = t[Yu]; if (N(s)) return t; var a = Wt(t[sm]); return es(Gm, a) ? (t[Wu] = Cm, t[Yu] = oi(s), t) : t } function ri(e) { return e.indexOf("px") === e.length - 2 ? e : e + "px" } function ii(e, t) { return Rs(xs(t), e) } function ci(e) { return Ze(ub, e), ai(ii, e) } function di(e) { var t = Wt(e[sm]), s = e[Yu]; return Ze(ub, e), tt({ action: e }), Es(s, t), ct(e) } function li(e, t) { return ys(xs(t), e) } function ui(e) { return Ze(ub, e), ai(li, e) } function mi(e, t) { return ws(xs(t), e) } function bi(e) { return Ze(ub, e), ai(mi, e) } function pi(e, t) { var s = Xt(e); return Ps(Cs(xs(t), e)), s } function gi(e) { return Ze(ub, e), ai(pi, e) } function fi(e, t) { return $t(Cs(xs(t), e)) } function vi(e) { return Ze(ub, e), ai(fi, e) } function hi(e, t) { return Qt(js(xs(t), e)) } function Pi(e) { return Ze(ub, e), ai(hi, e) } function ji(e, t) { return Xt(Cs(xs(t), e)) } function Ci(e) { return Ze(ub, e), ai(ji, e) } function yi(e) { var t = e[Yu], s = Wt(e[sm]); return Ze(ub, e), tt({ action: e }), Nr(Mm, s), Vr(Mm, Zr(t), s), ct(e) } function wi(e) { var t = e[Yu], s = Wt(e[sm]); return Ze(ub, e), tt({ action: e }), R((function (e, t) { return Vr(t, e, s) }), t), ct(e) } function Ri(e, t, s) { R((function (e) { R((function (t, a) { return e.style.setProperty(a, t, s) }), t) }), O(e)) } function xi(e) { var t = Wt(e[sm]), s = e[Yu], a = s[tm]; return Ze(ub, e), tt({ action: e }), N(a) ? Or(s, t) : Ri(t, s, a), ct(e) } function Ei(e) { var t = Wt(e[sm]), s = e[Yu]; return s[Ju] = ri(s[Ju]), s[Zu] = ri(s[Zu]), Ze(ub, e), tt({ action: e }), Or(s, t), ct(e) } function Ti(e) { var t = Wt(e[sm]), s = e[Yu]; return s[$u] = ri(s[$u]), s[Qu] = ri(s[Qu]), Ze(ub, e), tt({ action: e }), Or(s, t), ct(e) } function Ii(e) { var t = Wt(e[sm]); return Ze(ub, e), tt({ action: e }), Ps(t), ct(e) } function _i(e) { var t = Wt(e[sm]), s = e[Yu], a = Number(s[Xu]), o = Number(s[em]); if (isNaN(a) && isNaN(o)) return Ze(Cb, e), dt(e); var n = O(ss(t)), r = n[a], i = n[o]; return Yt(r) && Yt(i) ? (Ze(ub, e), tt({ action: e }), a < o ? js(r, i) : Cs(r, i), ct(e)) : (Ze(jb, e), dt(e)) } function Ai(e) { var t = ni(e); switch (t[Wu]) { case om: return ci(t); case rm: return di(t); case Cm: return ui(t); case wm: return bi(t); case xm: return gi(t); case Pm: return vi(t); case jm: return Pi(t); case gm: return Ci(t); case cm: return wi(t); case dm: return yi(t); case lm: return xi(t); case mm: return Ei(t); case bm: return Ti(t); case pm: return Ii(t); case um: return _i(t); default: return ct(t) } } function ki(e) { return e[Wu] === vm || e[Wu] === hm } function Li(e) { var t = e[sm]; return yu(t) || qt(t) } function Oi(e) { var t = e.key; if (!N(t) && Li(e)) { var s = e[sm]; Vr(eh, t, s) } } function Si(e) { var t = e[am]; N(t) || Ms(t) } function Vi(e) { if (Li(e)) { var t = e[sm]; ki(e) ? Lr(Zb, t) : (Lr(Yb, t), Si(e)) } else Si(e) } function Ni(e) { R(Vi, e) } function Di(e) { var t = e.key; if (N(t)) return !0; if (e[Wu] === gm) return e[Bp]; var s = e[sm], a = Sr(eh, s); return a !== t || a === t && !e[Bp] } function Mi(e) { return Di(e) ? Ai(e).then((function () { return Ze(lb, e), tt({ action: e }), Oi(e), Vi(e), e })).catch((function (t) { Ye(ib, t), tt({ action: e, error: t }), Vi(e); var s = su.default({}, e); return s[Ib] = !0, s })) : (Vi(e), e) } function Fi(e) { var t = j((function (e) { return !0 === e[Ib] }), e); return S(t) ? ct() : (Ni(t), dt(e)) } function Bi(e) { return Hr(e[sm]).then((function () { return e })).catch((function () { var t = su.default({}, e); return t[Ib] = !0, t })) } function Ui(e) { return Bi(e).then(Mi) } function Gi(e) { return ut(U(Ui, e)).then(Fi) } function qi(e, t, s) { return Wt(s).on(e, t) } function Hi(e, t, s) { return Wt(s).off(e, t) } function zi(e) { return Hr(e[sm]).then((function () { return tt({ metric: e }), su.default({ found: !0 }, e) })).catch((function () { return Ye(th, e), tt({ metric: e, message: th }), e })) } function Ki(e) { var t = e.name, s = da(Gp) || {}; s[t] = e, ca(Gp, s) } function Wi(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, s = t.page, a = void 0 === s || s, o = (da(Gp) || {})[e]; if (m(o)) return o; var n = t.impressionId; return m(n) ? o : su.default({ page: a, impressionId: n }, o) } function Yi(e) { R(Ki, e) } function Zi(e, t, s) { return e[sh][ah](t, s) } function Ji(e, t, s) { var a = {}; a[Yp] = [Zp]; var o = {}; o[Bv] = Fv, o[Uv] = t, o[qv] = s, o[Hv] = !0, o[Kv] = !1, o[Gv] = a; try { e(o) } catch (e) { return !1 } return !0 } function $i(e) { return sh in e && ah in e[sh] } function Qi(e, t) { return $i(xg) ? Zi(xg, e, t) : Ji(xn, e, t) } function Xi(e) { var t = Ko(e, {}), s = { context: { beacon: !0 } }; if (!S(t)) { var a = {}; a.analytics = t, s.experienceCloud = a } return s } function ec(e, t, s) { var a = Jo(Xi(e), t); return a.notifications = s, a } function tc(e, t, s) { return Zo(Xi(e), t).then((function (e) { return e.notifications = s, e })) } function sc(e, t, s) { var a = { id: me(), type: t, timestamp: G(), parameters: e.parameters, profileParameters: e.profileParameters, order: e.order, product: e.product }; return S(s) || (a.tokens = s), a } function ac(e, t, s) { var a = e.name, o = e.state, n = sc(e, t, s); return n.mbox = { name: a, state: o }, n } function oc(e, t, s) { var a = e.name, o = e.state, n = sc(e, t, s); return n.view = { name: a, state: o }, n } function nc(e) { var t = ho(je()); return Qi(t, JSON.stringify(e)) ? (Ze(oh, t, e), !0) : (Ye(nh, t, e), !1) } function rc(e, t, s) { var a = Oa(je()[tp]), o = sc(Uo({}, a), t, [s]), n = ec(me(), a, [o]); Ze(dh, e, o), tt({ source: e, event: t, request: n }), nc(n) } function ic(e, t, s) { var a = Oa(e), o = sc(Uo({}, a), t, [s]); o.mbox = { name: e }; var n = ec(me(), a, [o]); Ze(lh, e, o), tt({ mbox: e, event: t, request: n }), nc(n) } function cc(e) { var t = je()[tp], s = [], a = Wp; if (R((function (e) { var t = e.mbox, o = e.data; if (!m(o)) { var n = o.eventTokens, r = void 0 === n ? [] : n; S(r) || s.push(ac(t, a, r)) } }), e), !S(s)) { var o = ec(t, {}, s); Ze(ch, s), tt({ source: mh, event: bh, request: o }), nc(o) } } function dc(e, t, s) { var a = Oa(je()[tp]), o = sc(Uo({}, a), t, [s]); o.view = { name: e }; var n = ec(me(), a, [o]); Ze(uh, e, o), tt({ view: e, event: t, request: n }), nc(n) } function lc(e) { var t = e.viewName, s = e.impressionId, a = Oa(je()[tp]), o = sc(Uo({}, a), Wp, []); o.view = { name: t }, Ze(rh, t), tc(t, a, [o]).then((function (e) { e.impressionId = s, tt({ view: t, event: ph, request: e }), nc(e) })) } function uc(e) { if (!m(e)) { var t = e.view, s = e.data, a = (void 0 === s ? {} : s).eventTokens, o = void 0 === a ? [] : a, n = t.name, r = t.impressionId, i = Wi(n); if (!m(i)) { var c = ec(n, {}, [oc(i, Wp, o)]); c.impressionId = r, Ze(ih, n, o), tt({ view: n, event: bh, request: c }), nc(c) } } } function mc(e, t) { e === Um && Lr(Zb, t) } function bc(e, t) { return !m(gh[e]) && !m(gh[e][t]) } function pc(e, t, s) { if (m(gh[e])) { var a = P(gh); S(a) || R((function (e) { R((function (a) { var o = gh[e][a]; Hi(t, o, s) }), P(gh[e])), delete gh[e] }), a) } } function gc(e, t, s) { gh[e] = gh[e] || {}, gh[e][t] = s } function fc(e, t, s, a) { var o = s.type, n = s.selector, r = s.eventToken, i = T(o + ":" + n + ":" + r), c = function () { return a(e, o, r) }; mc(o, n), t ? bc(e, i) || (pc(e, o, n), gc(e, i, c), qi(o, c, n)) : qi(o, c, n) } function vc(e, t, s, a) { return zi(s).then((function (s) { s.found && fc(e, t, s, a) })) } function hc(e, t, s, a) { return ut(U((function (s) { return vc(e, t, s, a) }), s)).then(Ph).catch(jh) } function Pc(e) { return hc(e.name, !1, hh(e), ic) } function jc(e) { return hc(e.name, !0, hh(e), dc) } function Cc(e) { return hc(fh, !1, hh(e), rc) } function yc(e) { return hc(vh, !1, hh(e), rc) } function wc(e) { var t = U(yh, e); Ns(Cv(t)) } function Rc(e) { var t = U(yh, e); Ds(jv(t)) } function xc(e) { var t = j(hv, yv(e)); return y(U(Ch, t)) } function Ec(e) { return g(e) && e.type !== im } function Tc(e, t, s) { return U((function (e) { return su.default({ key: t, page: s }, e) }), j(Ec, e)) } function Ic(e, t, s) { var a = e.eventToken, o = e.responseTokens; return Gi(Tc(e.content, t, s)).then((function () { return wh({ eventToken: a, responseTokens: o }) })).catch(Rh) } function _c(e) { return g(e) && e.type !== Sm } function Ac(e, t) { return U(e, j(_c, yv(t))) } function kc(e, t, s) { var a = n({ status: Lb }, e, t), o = U(Lv, j(vv, s)), r = {}; return S(o) || (a.status = Ib, r.errors = o), S(r) || (a.data = r), a } function Lc(e, t, s) { var a = n({ status: Lb }, e, t), o = U(Lv, j(vv, s)), r = U(Lv, j(xh, s)), i = jv(U(Rv, r)), c = jv(U(xv, r)), d = {}; return S(o) || (a.status = Ib, d.errors = o), S(i) || (d.eventTokens = i), S(c) || (d.responseTokens = c), S(d) || (a.data = d), a } function Oc(e, t, s) { return ut(Ac((function (e) { return Ic(e, !0) }), e)).then(t).then((function (t) { return s(e), t })) } function Sc(e, t, s, a) { var o = t.name; return ut(Ac((function (e) { return Ic(e, o, s) }), t)).then((function (s) { return Lc(e, t, s) })).then((function (e) { return a(t), e })) } function Vc(e) { return Oc(e, (function (t) { return kc(Vb, e, t) }), Pc) } function Nc(e) { return Sc(Vb, e, !0, Pc) } function Dc(e) { wc(xc(e)) } function Mc(e) { if (!(arguments.length > 1 && void 0 !== arguments[1] && arguments[1])) { var t = e.execute, s = (void 0 === t ? {} : t).pageLoad, a = void 0 === s ? {} : s; S(a) || Dc(a) } } function Fc(e) { var t = e.prefetch, s = (void 0 === t ? {} : t).views, a = void 0 === s ? [] : s; S(a) || Rc(y(U(xc, a))) } function Bc(e) { wc(xc(e)), Fs() } function Uc(e) { return Oc(e, (function (t) { return kc(Kb, e, t) }), Cc) } function Gc(e) { return ut(U(Vc, e)) } function qc(e) { return ut(U(Nc, e)) } function Hc(e) { return ut([yc(e)]).then(kc) } function zc(e) { var t = e.page; return Sc(Up, e, t, jc) } function Kc() { } function Wc() { return new Th } function Yc(e, t, s) { e.emit(t, s) } function Zc(e, t, s) { e.on(t, s) } function Jc(e, t) { Yc(Ih, e, t) } function $c(e, t) { Zc(Ih, e, t) } function Qc(e) { return { type: fm, content: e.url } } function Xc(e) { var t = {}; return t.type = om, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ed(e) { var t = {}; return t.type = rm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function td(e) { var t = {}; return t.type = Cm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function sd(e) { var t = {}; return t.type = wm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ad(e) { var t = {}; return t.type = xm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function od(e) { var t = {}; return t.type = Pm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function nd(e) { var t = {}; return t.type = jm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function rd(e) { var t = {}; return t.type = gm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function id(e) { var t = {}; if (t.selector = e.selector, t.cssSelector = e.cssSelector, e.attribute === Mm) return t.type = dm, t.content = e.value, t; t.type = cm; var s = {}; return s[e.attribute] = e.value, t.content = s, t } function cd(e) { var t = e.style, s = void 0 === t ? {} : t, a = {}; return a.selector = e.selector, a.cssSelector = e.cssSelector, m(s.left) || m(s.top) ? m(s.width) || m(s.height) ? (a.type = lm, a.content = s, a) : (a.type = mm, a.content = s, a) : (a.type = bm, a.content = s, a) } function dd(e) { var t = {}; return t.type = pm, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ld(e) { var t = {}; t.from = e.from, t.to = e.to; var s = {}; return s.type = um, s.selector = e.selector, s.cssSelector = e.cssSelector, s.content = t, s } function ud(e) { return yu(e.selector) && yu(e.cssSelector) } function md(e) { var t = {}; if (S(e)) return t; var s = [], a = [], o = []; R((function (e) { switch (e.action) { case nm: ud(e) ? o.push(Xc(e)) : s.push({ type: Vm, content: e.content }); break; case im: S(e.content) || R((function (e) { return s.push({ type: Sm, content: e }) }), e.content); break; case rm: o.push(ed(e)); break; case ym: o.push(td(e)); break; case Rm: o.push(sd(e)); break; case Em: o.push(ad(e)); break; case Pm: o.push(od(e)); break; case jm: o.push(nd(e)); break; case gm: o.push(rd(e)); break; case cm: o.push(id(e)); break; case lm: o.push(cd(e)); break; case pm: o.push(dd(e)); break; case um: o.push(ld(e)); break; case fm: s.push(Qc(e)); break; case vm: a.push({ type: Um, selector: e.selector, eventToken: e.clickTrackId }) } }), e); var n = {}; if (!S(o) && s.push({ type: Bb, content: o }), !S(s) && (n.options = s), !S(a) && (n.metrics = a), S(n)) return t; var r = {}; return r.pageLoad = n, t.execute = r, t } function bd(e, t) { var s = {}; if (S(t)) return s; var a = [], o = []; R((function (e) { switch (e.action) { case nm: a.push({ type: Vm, content: e.content }); break; case im: S(e.content) || R((function (e) { return a.push({ type: Sm, content: e }) }), e.content); break; case fm: a.push(Qc(e)); break; case hm: o.push({ type: Um, eventToken: e.clickTrackId }) } }), t); var n = { name: e }; if (!S(a) && (n.options = a), !S(o) && (n.metrics = o), S(n)) return s; var r = {}, i = [n]; return r.mboxes = i, s.execute = r, s } function pd(e, t, s) { return s ? md(t) : bd(e, t) } function gd(e) { var t = e.status, s = e.data, a = { status: t, pageLoad: !0 }; return m(s) || (a.data = s), a } function fd(e) { var t = e.status, s = e.mbox, a = e.data, o = { status: t, mbox: s.name }; return m(a) || (o.data = a), o } function vd(e) { var t = e.status, s = e.view, a = e.data, o = { status: t, view: s.name }; return m(a) || (o.data = a), o } function hd(e) { var t = e.status, s = e.data, a = { status: t, prefetchMetrics: !0 }; return m(s) || (a.data = s), a } function Pd(e) { if (m(e)) return [null]; var t = U(gd, [e]); return Oh(t) && Ye(_h, e), t } function jd(e) { if (m(e)) return [null]; var t = U(fd, e); return Oh(t) && Ye(Ah, e), t } function Cd(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : cc; if (m(e)) return [null]; var s = U(fd, e); return Oh(s) && Ye(Ah, e), t(e), s } function yd(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : uc; if (m(e)) return [null]; var s = U(vd, [e]); return Oh(s) && Ye(kh, e), e.view.page ? (t(e), s) : s } function wd(e) { if (m(e)) return [null]; var t = U(hd, [e]); return Oh(t) && Ye(Lh, e), t } function Rd(e) { var t = y([Pd(e[0]), jd(e[1]), Cd(e[2]), wd(e[3])]), s = j(pv, t), a = j(vv, s); return S(a) ? ct(s) : dt(a) } function xd(e) { return dt(e) } function Ed(e, t) { if (!S(t)) { var s = t.options; S(s) || R((function (t) { if (t.type === Vm) { var s = om, a = t.content; t.type = Bb, t.content = [{ type: s, selector: e, content: a }] } }), s) } } function Td(e, t) { var s = t.metrics; if (!S(s)) { var a = t.name; R((function (t) { t.name = a, t.selector = t.selector || e }), s) } } function Id(e, t) { var s = su.default({}, t), a = s.execute, o = void 0 === a ? {} : a, n = s.prefetch, r = void 0 === n ? {} : n, i = o.pageLoad, c = void 0 === i ? {} : i, d = o.mboxes, l = void 0 === d ? [] : d, u = r.mboxes, m = void 0 === u ? [] : u; return Ed(e, c), R((function (t) { return Ed(e, t) }), l), R((function (t) { return Td(e, t) }), l), R((function (t) { return Ed(e, t) }), m), R((function (t) { return Td(e, t) }), m), s } function _d(e) { var t = e.prefetch, s = (void 0 === t ? {} : t).views, a = void 0 === s ? [] : s; S(a) || Yi(a) } function Ad(e) { var t = [], s = e.execute, a = void 0 === s ? {} : s, o = a.pageLoad, n = void 0 === o ? {} : o, r = a.mboxes, i = void 0 === r ? [] : r; S(n) ? t.push(ct(null)) : t.push(Uc(n)), S(i) ? t.push(ct(null)) : t.push(Gc(i)); var c = e.prefetch, d = void 0 === c ? {} : c, l = d.mboxes, u = void 0 === l ? [] : l, m = d.metrics, b = void 0 === m ? [] : m; return S(u) ? t.push(ct(null)) : t.push(qc(u)), iu(b) && !S(b) ? t.push(Hc(d)) : t.push(ct(null)), Vs(), ut(t).then(Rd).catch(xd) } function kd(e, t) { K((function () { return e.location.replace(t) })) } function Ld(e) { return yu(e) || qt(e) ? e : Gm } function Od(e) { Lr(Yb, e) } function Sd(e) { var t = e.mbox, s = e.selector, a = e.offer, o = je(), n = t === o[tp]; if (S(a)) return Ze(xb), Od(s), Vs(), void Ut({ mbox: t }); var r = Id(s, pd(t, a, n)), i = er(r); if (!S(i)) { var c = i.url; return Ze(Eb, i), Gt({ url: c }), void kd(xg, c) } Mt({ mbox: t }), Mc(r), Ad(r).then((function (e) { S(e) || Ft({ mbox: t, execution: e }) })).catch((function (e) { return Bt({ error: e }) })) } function Vd() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.prefetch, s = void 0 === t ? {} : t, a = e.execute, o = void 0 === a ? {} : a, n = o.pageLoad, r = void 0 === n ? {} : n, i = o.mboxes, c = void 0 === i ? [] : i, d = s.pageLoad, l = void 0 === d ? {} : d, u = s.views, m = void 0 === u ? [] : u, b = s.mboxes, p = void 0 === b ? [] : b; return S(r) && S(c) && S(l) && S(m) && S(p) } function Nd(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], s = e.selector, a = e.response; if (Vd(a)) return Ze(xb), Od(s), Vs(), Ut({}), Jc(fg), ct(); var o = Id(s, a), n = er(o); if (!S(n)) { var r = n.url; return Ze(Eb, n), Gt({ url: r }), Jc(vg), kd(xg, r), ct() } return Mt({}), _d(o), Jc(gg), Mc(o, t), Ad(o).then((function (e) { S(e) || Ft({ execution: e }) })).catch((function (e) { return Bt({ error: e }) })) } function Dd(e) { var t = e[mg]; if (S(t)) return !1; var s = t.request, a = t.response; return !S(s) && !S(a) } function Md(e) { return e[mg] } function Fd(e) { window.__target_telemetry.addServerStateEntry(e) } function Bd(e) { Ye(Sh, $p, e), Jc(fg), tt({ source: Sh, error: e }), Vs() } function Ud(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], s = { selector: Gm, response: e }; Ze(Sh, qb, e), tt({ source: Sh, response: e }), Nd(s, t).catch(Bd) } function Gd(e, t) { var s = su.default({}, t), a = s.execute, o = s.prefetch, n = e[Vp], r = e[Sp]; return a && (s.execute.mboxes = void 0), a && !n && (s.execute.pageLoad = void 0), o && (s.prefetch.mboxes = void 0), o && !r && (s.prefetch.views = void 0), s } function qd(e) { var t = Md(e), s = t.request, a = t.response, o = !0; Ze(Sh, tg), tt({ source: Sh, serverState: t }); var n = Gd(e, a); Mc(n), Fc(n), Fd(s), wr({ request: s, response: n }).then((function (e) { return Ud(e, o) })).catch(Bd) } function Hd() { if (!Ge() && !He()) return Ye(Sh, Ym), void tt({ source: Sh, error: Ym }); var e = je(); if (Dd(e)) qd(e); else { var t = e[Vp], s = e[Sp]; if (!t && !s) return Ze(Sh, eg), void tt({ source: Sh, error: eg }); Ss(); var a = {}; if (t) { var o = { pageLoad: {} }; a.execute = o } if (s) { var n = { views: [{}] }; a.prefetch = n } var r = e[ep]; Ze(Sh, Hb, a), tt({ source: Sh, request: a }); var i = { request: a, timeout: r }; vt() && !ht() ? jt().then((function () { kr(i).then(Ud).catch(Bd) })).catch(Bd) : kr(i).then(Ud).catch(Bd) } } function zd() { var e = {}; return e[kb] = !0, e } function Kd(e) { var t = {}; return t[kb] = !1, t[Ib] = e, t } function Wd(e) { return N(e) ? Kd(sb) : e.length > Lm ? Kd(ab) : zd() } function Yd(e) { if (!g(e)) return Kd(Jm); var t = Wd(e[Vb]); return t[kb] ? f(e[Lb]) ? f(e[Ib]) ? zd() : Kd(nb) : Kd(ob) : t } function Zd(e) { if (!g(e)) return Kd(Jm); var t = e.request; if (!g(t)) return Kd($m); var s = t.execute, a = t.prefetch; return g(s) || g(a) ? zd() : Kd(Xm) } function Jd(e) { if (!g(e)) return Kd(Jm); var t = e.request; if (!g(t)) return Kd($m); var s = t.execute, a = t.prefetch, o = t.notifications; return g(s) || g(a) ? Kd(eb) : iu(o) ? zd() : Kd(tb) } function $d(e) { if (!g(e)) return Kd(Jm); var t = Wd(e[Vb]); if (!t[kb]) return t; var s = e[Nb]; return iu(s) ? zd() : Kd(rb) } function Qd(e) { return g(e) ? g(e.response) ? zd() : Kd(Qm) : Kd(Jm) } function Xd(e) { if (!g(e)) return Kd(Jm); var t = Wd(e[Vb]); return t[kb] ? zd() : t } function el(e) { return { action: fm, url: e.content } } function tl(e) { var t = {}; return t.action = nm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function sl(e) {
                            var t = {}; return t.action = rm, t.content = e.content, t.selector = e.selector,
                                t.cssSelector = e.cssSelector, t
                        } function al(e) { var t = {}; return t.action = ym, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ol(e) { var t = {}; return t.action = Rm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function nl(e) { var t = {}; return t.action = Em, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function rl(e) { var t = {}; return t.action = Pm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function il(e) { var t = {}; return t.action = jm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function cl(e) { var t = {}; return t.action = gm, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function dl(e) { var t = P(e.content)[0], s = {}; return s.action = cm, s.attribute = t, s.value = e.content[t], s.selector = e.selector, s.cssSelector = e.cssSelector, s } function ll(e) { var t = {}; return t.action = cm, t.attribute = Mm, t.value = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ul(e) { var t = {}; return t.action = lm, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function ml(e) { var t = {}; return t.action = lm, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function bl(e) { var t = {}; return t.action = lm, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function pl(e) { var t = {}; return t.action = pm, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function gl(e) { var t = {}; return t.action = um, t.from = e.content.from, t.to = e.content.to, t.selector = e.selector, t.cssSelector = e.cssSelector, t } function fl(e) { var t = []; return R((function (e) { switch (e.type) { case om: t.push(tl(e)); break; case rm: t.push(sl(e)); break; case Cm: t.push(al(e)); break; case wm: t.push(ol(e)); break; case xm: t.push(nl(e)); break; case Pm: t.push(rl(e)); break; case jm: t.push(il(e)); break; case gm: t.push(cl(e)); break; case cm: t.push(dl(e)); break; case dm: t.push(ll(e)); break; case lm: t.push(ul(e)); break; case mm: t.push(ml(e)); break; case bm: t.push(bl(e)); break; case pm: t.push(pl(e)); break; case um: t.push(gl(e)); break; case fm: t.push(el(e)) } }), e), t } function vl(e) { if (S(e)) return []; var t = []; return R((function (e) { e.type === Um && (kv(e) ? t.push({ action: vm, selector: e.selector, clickTrackId: e.eventToken }) : t.push({ action: hm, clickTrackId: e.eventToken })) }), e), t } function hl(e) { if (S(e)) return []; var t = [], s = [], a = [], o = e.options, n = void 0 === o ? [] : o, r = e.metrics, i = void 0 === r ? [] : r; R((function (e) { switch (e.type) { case Vm: t.push(e.content); break; case Sm: s.push(e.content); break; case fm: a.push(el(e)); break; case Bb: a.push.apply(a, fl(e.content)) } }), n), S(t) || a.push({ action: nm, content: t.join("") }), S(s) || a.push({ action: im, content: s }); var c = vl(i); return S(c) || a.push.apply(a, c), a } function Pl(e) { var t = e.execute, s = void 0 === t ? {} : t, a = s.pageLoad, o = void 0 === a ? {} : a, n = s.mboxes, r = void 0 === n ? [] : n, i = []; return i.push.apply(i, hl(o)), i.push.apply(i, y(U(hl, r))), i } function jl(e, t) { var s = Pl(t); e[Lb](s) } function Cl(e, t) { var s = t[Mb] || Ab; e[Ib](s, t) } function yl(e) { var t = Yd(e), s = t[Ib]; if (!t[kb]) return Ye(Vh, s), void tt({ source: Vh, options: e, error: s }); if (!Ge() && !He()) return K(e[Ib](_b, Ym)), Ye(Vh, Ym), void tt({ source: Vh, options: e, error: Ym }); var a = function (t) { return jl(e, t) }, o = function (t) { return Cl(e, t) }; Ze(Vh, e), tt({ source: Vh, options: e }), vt() && !ht() ? jt().then((function () { Ar(e).then(a).catch(o) })) : Ar(e).then(a).catch(o) } function wl(e) { var t = Zd(e), s = t[Ib]; return t[kb] ? Ge() || He() ? (Ze(Nh, e), tt({ source: Nh, options: e }), !vt() || ht() ? kr(e) : jt().then((function () { return kr(e) }))) : (Ye(Nh, Ym), tt({ source: Nh, options: e, error: Ym }), dt(new Error(Ym))) : (Ye(Nh, s), tt({ source: Nh, options: e, error: s }), dt(t)) } function Rl(e) { var t = Ld(e.selector), s = T(t); Gu.timeStart(s); var a = $d(e), o = a[Ib]; if (!a[kb]) return Ye(Dh, e, o), tt({ source: Dh, options: e, error: o }), void Od(t); if (!Ge() && !He()) return Ye(Dh, Ym), tt({ source: Dh, options: e, error: Ym }), void Od(t); e.selector = t, Ze(Dh, e), tt({ source: Dh, options: e }), Sd(e); var n = Gu.timeEnd(s); Gu.clearTiming(s), window.__target_telemetry.addRenderEntry(s, n) } function xl(e) { var t = Ld(e.selector), s = T(t); Gu.timeStart(s); var a = Qd(e), o = a[Ib]; return a[kb] ? Ge() || He() ? (e.selector = t, Ze(Mh, e), tt({ source: Mh, options: e }), Nd(e).then((function () { var e = Gu.timeEnd(s); Gu.clearTiming(s), window.__target_telemetry.addRenderEntry(s, e) }))) : (Ye(Mh, Ym), tt({ source: Mh, options: e, error: Ym }), Od(t), dt(new Error(Ym))) : (Ye(Mh, e, o), tt({ source: Mh, options: e, error: o }), Od(t), dt(a)) } function El(e) { var t = je()[tp], s = e.consumerId, a = void 0 === s ? t : s, o = e.request, n = Jd(e), r = n[Ib]; if (!n[kb]) return Ye(Fh, r), void tt({ source: Fh, options: e, error: r }); if (!Ge() && !He()) return Ye(Fh, Ym), void tt({ source: Fh, options: e, error: Ym }); Ze(Fh, e), tt({ source: Fh, options: e }); var i = ec(a, {}, o.notifications); !vt() || ht() ? nc(i) : Ye(Fh, lg) } function Tl(e, t) { var s = t[Vb], a = su.default({}, t), o = g(t.params) ? t.params : {}; return a[Fb] = su.default({}, Oa(s), o), a[ep] = fo(e, t[ep]), a[Lb] = f(t[Lb]) ? t[Lb] : Du, a[Ib] = f(t[Ib]) ? t[Ib] : Du, a } function Il(e) { var t = e[Wu], s = e[sm]; return yu(t) && (yu(s) || qt(s)) } function _l(e) { var t = e.mbox, s = e.type, a = void 0 === s ? Wp : s, o = g(e.params) ? e.params : {}, n = su.default({}, Oa(t), o), r = sc(Uo({}, n), a, []); if (r.mbox = { name: t }, nc(ec(t, n, [r]))) return Ze(wb, e), void e[Lb](); Ye(Rb, e), e[Ib](Ab, Rb) } function Al(e) { if (vt() && !ht()) return Ye(Rb, lg), void e[Ib](Ib, lg); _l(e) } function kl(e) { return Al(e), !e.preventDefault } function Ll(e) { var t = e[sm], s = e[Wu], a = O(Wt(t)), o = function () { return kl(e) }; R((function (e) { return qi(s, o, e) }), a) } function Ol(e) { var t = Xd(e), s = t[Ib]; if (!t[kb]) return Ye(Bh, s), void tt({ source: Bh, options: e, error: s }); var a = Tl(je(), e); if (!Ge() && !He()) return Ye(Bh, Ym), K(a[Ib](_b, Ym)), void tt({ source: Bh, options: e, error: Ym }); Ze(Bh, a), tt({ source: Bh, options: a }), Il(a) ? Ll(a) : Al(a) } function Sl(e) { return Bc(e), zc(e).then(yd).then((function (e) { S(e) || Ft({ execution: e }) })).catch((function (e) { Ye(Jp, e), Bt({ error: e }) })) } function Vl() { for (; Gh.length > 0;) { var e = Gh.pop(), t = e.viewName, s = e.page, a = Wi(t, e); m(a) ? s && lc(e) : Sl(a) } } function Nl() { zh = Hh, Vl() } function Dl() { $c(gg, Nl), $c(fg, Nl), $c(vg, Nl) } function Ml(e, t) { var s = {}; return s.viewName = e, s.impressionId = me(), s.page = !0, S(t) || (s.page = !!t.page), s } function Fl(e) { Gh.push(e), zh !== qh && Vl() } function Bl(e, t) { if (je()[Sp]) { if (!E(e) || N(e)) return Ye(Uh, Qp, e), void tt({ source: Uh, view: e, error: Qp }); var s = e.toLowerCase(), a = Ml(s, t); if (He()) return Ze(Uh, s, a), void os(a); Ze(Uh, s, a), tt({ source: Uh, view: s, options: a }), Fl(a) } else Ye(Uh, Xp) } function Ul() { Ye(Wh, arguments) } function Gl() { Ye(Yh, arguments) } function ql() { Ye(Zh, arguments) } function Hl() { Ye(Jh, arguments) } function zl() { try { var e = window.localStorage, t = "__storage_test__"; return e.setItem(t, t), e.removeItem(t), !0 } catch (e) { return !1 } } function Kl() { Object.keys(localStorage).filter(Qh).forEach((function (e) { return localStorage.removeItem(e) })) } function Wl(e, t) { try { localStorage.setItem(e, JSON.stringify(t)) } catch (e) { Kl() } } function Yl() { function e(e) { return tP + ":" + e } function t(e) { var t = localStorage.getItem(e), s = parseInt(t, eP); return Number.isNaN(s) && (s = Xh), s } function s(e, t) { localStorage.setItem(e, t) } function a() { var e = t(aP) + 1; return s(aP, e), e } function o(t, s) { Wl(e(t), s) } function n(t) { var s = e(t), a = localStorage.getItem(s); return localStorage.removeItem(s), a } function r() { for (var e = [], a = t(sP) || Xh, o = t(aP) || Xh, r = o; r > a; r -= 1) { var i = n(r); i && e.push(JSON.parse(i)) } return s(sP, o), e } function i(e) { o(a(), e) } function c() { return r() } function d() { var s = e(t(aP)); return !!localStorage.getItem(s) } return { addEntry: i, getAndClearEntries: c, hasEntries: d } } function Zl(e) { e.adobe = e.adobe || {}, e.adobe.target = { VERSION: "", event: {}, getOffer: Du, getOffers: Mu, applyOffer: Du, applyOffers: Mu, sendNotifications: Du, trackEvent: Du, triggerView: Du, registerExtension: Du, init: Du }, e.mboxCreate = Du, e.mboxDefine = Du, e.mboxUpdate = Du } function Jl(e, t, s) { if (e.adobe && e.adobe.target && void 0 !== e.adobe.target.getOffer) Ye(Zm); else { Pe(s); var a = je(), o = a[ap]; if (e.adobe = e.adobe || {}, e.adobe.target = e.adobe.target || {}, e.adobe.target.VERSION = o, e.adobe.target.event = { LIBRARY_LOADED: Wg, REQUEST_START: Yg, REQUEST_SUCCEEDED: Zg, REQUEST_FAILED: Jg, CONTENT_RENDERING_START: $g, CONTENT_RENDERING_SUCCEEDED: Qg, CONTENT_RENDERING_FAILED: Xg, CONTENT_RENDERING_NO_OFFERS: ef, CONTENT_RENDERING_REDIRECT: tf }, !a[Jb]) return Zl(e), void Ye(Ym); e.__target_telemetry = ae(a[jg] && zl(), a[Pg], Yl()), Xe(), rs(), ps(e), vs(e), e.adobe.target.getOffer = yl, e.adobe.target.getOffers = wl, e.adobe.target.applyOffer = Rl, e.adobe.target.applyOffers = xl, e.adobe.target.sendNotifications = El, e.adobe.target.trackEvent = Ol, e.adobe.target.triggerView = Bl, e.adobe.target.registerExtension = Ul, e.mboxCreate = Gl, e.mboxDefine = ql, e.mboxUpdate = Hl, St() } } var $l = s("@adobe/reactor-object-assign"), Ql = s("@adobe/reactor-cookie"), Xl = s("@adobe/reactor-query-string"), eu = s("@adobe/reactor-promise"), tu = s("@adobe/reactor-load-script"), su = a($l), au = a(Ql), ou = a(Xl), nu = a(eu), ru = a(tu), iu = Array.isArray, cu = Object.prototype, du = cu.toString, lu = "[object Function]", uu = function (e, t) { return t.forEach(e) }, mu = function (e, t) { uu((function (s) { return e(t[s], s) }), P(t)) }, bu = function (e, t) { return t.filter(e) }, pu = function (e, t) { var s = {}; return mu((function (t, a) { e(t, a) && (s[a] = t) }), t), s }, gu = "[object String]", fu = 9007199254740991, vu = function (e, t) { return t.map(e) }, hu = Object.prototype, Pu = hu.hasOwnProperty, ju = String.prototype, Cu = ju.trim, yu = function (e) { return !N(e) }, wu = "[object Number]", Ru = "[object Object]", xu = Function.prototype, Eu = Object.prototype, Tu = xu.toString, Iu = Eu.hasOwnProperty, _u = Tu.call(Object), Au = function (e, t) { var s = {}; return mu((function (t, a) { s[a] = e(t, a) }), t), s }, ku = function (e, t, s) { return s.reduce(e, t) }, Lu = function (e, t, s) { var a = t; return mu((function (t, s) { a = e(a, t, s) }), s), a }, Ou = Array.prototype, Su = Ou.reverse, Vu = { ON_DEVICE: "on-device", SERVER_SIDE: "server-side", HYBRID: "hybrid" }, Nu = { EDGE: "edge", LOCAL: "local" }, Du = function () { }, Mu = function (e) { return Promise.resolve(e) }, Fu = 200, Bu = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, Uu = oe((function (e) { (function () { var t, s, a, o, n, r; "undefined" != typeof performance && null !== performance && performance.now ? e.exports = function () { return performance.now() } : "undefined" != typeof process && null !== process && process.hrtime ? (e.exports = function () { return (t() - n) / 1e6 }, s = process.hrtime, o = (t = function () { var e; return 1e9 * (e = s())[0] + e[1] })(), r = 1e9 * process.uptime(), n = o - r) : Date.now ? (e.exports = function () { return Date.now() - a }, a = Date.now()) : (e.exports = function () { return (new Date).getTime() - a }, a = (new Date).getTime()) }).call(Bu) })), Gu = ne(), qu = re, Hu = new Uint8Array(256), zu = ie(), Ku = de(), Wu = "type", Yu = "content", Zu = "height", Ju = "width", $u = "left", Qu = "top", Xu = "from", em = "to", tm = "priority", sm = "selector", am = "cssSelector", om = "setHtml", nm = "setContent", rm = "setText", im = "setJson", cm = "setAttribute", dm = "setImageSource", lm = "setStyle", um = "rearrange", mm = "resize", bm = "move", pm = "remove", gm = "customCode", fm = "redirect", vm = "trackClick", hm = "signalClick", Pm = "insertBefore", jm = "insertAfter", Cm = "appendHtml", ym = "appendContent", wm = "prependHtml", Rm = "prependContent", xm = "replaceHtml", Em = "replaceContent", Tm = "mboxDebug", Im = "mboxDisable", _m = "mboxEdit", Am = "at_check", km = "true", Lm = 250, Om = "data-at-src", Sm = "json", Vm = "html", Nm = "dynamic", Dm = "script", Mm = "src", Fm = "id", Bm = "class", Um = "click", Gm = "head", qm = "script", Hm = "style", zm = "link", Km = "img", Wm = "div", Ym = 'Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.', Zm = "Adobe Target has already been initialized.", Jm = "options argument is required", $m = "request option is required", Qm = "response option is required", Xm = "execute or prefetch is required", eb = "execute or prefetch is not allowed", tb = "notifications are required", sb = "mbox option is required", ab = "mbox option is too long", ob = "success option is required", nb = "error option is required", rb = "offer option is required", ib = "Unexpected error", cb = "request failed", db = "request succeeded", lb = "Action rendered successfully", ub = "Rendering action", mb = "Action has no content", bb = "Action has no attributes", pb = "Action has no CSS properties", gb = "Action has no height or width", fb = "Action has no left, top or position", vb = "Action has no from or to", hb = "Action has no url", Pb = "Action has no image url", jb = "Rearrange elements are missing", Cb = 'Rearrange has incorrect "from" and "to" indexes', yb = "Loading image", wb = "Track event request succeeded", Rb = "Track event request failed", xb = "No actions to be rendered", Eb = "Redirect action", Tb = "Script load", Ib = "error", _b = "warning", Ab = "unknown", kb = "valid", Lb = "success", Ob = "render", Sb = "metric", Vb = "mbox", Nb = "offer", Db = "name", Mb = "status", Fb = "params", Bb = "actions", Ub = "responseTokens", Gb = "data", qb = "response", Hb = "request", zb = "provider", Kb = "pageLoad", Wb = "at-flicker-control", Yb = "at-element-marker", Zb = "at-element-click-tracking", Jb = "enabled", $b = "clientCode", Qb = "imsOrgId", Xb = "serverDomain", ep = "timeout", tp = "globalMboxName", sp = "globalMboxAutoCreate", ap = "version", op = "defaultContentHiddenStyle", np = "bodyHiddenStyle", rp = "bodyHidingEnabled", ip = "deviceIdLifetime", cp = "sessionIdLifetime", dp = "selectorsPollingTimeout", lp = "visitorApiTimeout", up = "overrideMboxEdgeServer", mp = "overrideMboxEdgeServerTimeout", bp = "optoutEnabled", pp = "secureOnly", gp = "supplementalDataIdParamTimeout", fp = "authoringScriptUrl", vp = "scheme", hp = "cookieDomain", Pp = "mboxParams", jp = "globalMboxParams", Cp = "mboxSession", yp = "PC", wp = "mboxEdgeCluster", Rp = "session", xp = "Traces", Ep = "settings", Tp = "client" + xp, Ip = "server" + xp, _p = "___target_traces", Ap = "targetGlobalSettings", kp = "dataProvider", Lp = kp + "s", Op = "endpoint", Sp = "viewsEnabled", Vp = "pageLoadEnabled", Np = "authState", Dp = "authenticatedState", Mp = "integrationCode", Fp = "primary", Bp = "page", Up = "view", Gp = "views", qp = "options", Hp = "metrics", zp = "eventToken", Kp = "viewName", Wp = "display", Yp = "Content-Type", Zp = "text/plain", Jp = "View rendering failed", $p = "View delivery error", Qp = "View name should be a non-empty string", Xp = "Views are not enabled", eg = "Page load disabled", tg = "Using server state", sg = "adobe", ag = "optIn", og = "isApproved", ng = "fetchPermissions", rg = "Categories", ig = "TARGET", cg = "ANALYTICS", dg = "optinEnabled", lg = "Adobe Target is not opted in", ug = "analyticsLogging", mg = "serverState", bg = "cspScriptNonce", pg = "cspStyleNonce", gg = "cache-updated-event", fg = "no-offers-event", vg = "redirect-offer-event", hg = "None", Pg = "decisioningMethod", jg = "telemetryEnabled", Cg = "web", yg = "clientHints", wg = "allowHighEntropyClientHints", Rg = document, xg = window, Eg = "file:", Tg = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/, Ig = /^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i, _g = {}, Ag = [Jb, $b, Qb, Xb, hp, ep, Pp, jp, op, "defaultContentVisibleStyle", ip, np, rp, dp, lp, up, mp, bp, dg, pp, gp, fp, "urlSizeLimit", Op, Vp, Sp, ug, mg, Pg, "pollingInterval", "artifactLocation", "artifactFormat", "artifactPayload", "environment", "cdnEnvironment", jg, "cdnBasePath", bg, pg, tp, wg], kg = ou.default.parse, Lg = ou.default.stringify, Og = Rg.createElement("a"), Sg = {}, Vg = au.default.get, Ng = au.default.set, Dg = au.default.remove, Mg = "mbox", Fg = "AT:", Bg = "1", Ug = function (e) {
                            var t = function () { function t(e) { return null == e ? String(e) : $[Q.call(e)] || "object" } function s(e) { return "function" == t(e) } function a(e) { return null != e && e == e.window } function n(e) { return null != e && e.nodeType == e.DOCUMENT_NODE } function r(e) { return "object" == t(e) } function i(e) { return r(e) && !a(e) && Object.getPrototypeOf(e) == Object.prototype } function c(e) { var t = !!e && "length" in e && e.length, s = T.type(e); return "function" != s && !a(e) && ("array" == s || 0 === t || "number" == typeof t && t > 0 && t - 1 in e) } function d(e) { return O.call(e, (function (e) { return null != e })) } function l(e) { return e.length > 0 ? T.fn.concat.apply([], e) : e } function u(e) { return e.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase() } function m(e) { return e in D ? D[e] : D[e] = new RegExp("(^|\\s)" + e + "(\\s|$)") } function b(e, t) { return "number" != typeof t || M[u(e)] ? t : t + "px" } function p(e) { var t, s; return N[e] || (t = V.createElement(e), V.body.appendChild(t), s = getComputedStyle(t, "").getPropertyValue("display"), t.parentNode.removeChild(t), "none" == s && (s = "block"), N[e] = s), N[e] } function g(e) { return "children" in e ? S.call(e.children) : T.map(e.childNodes, (function (e) { if (1 == e.nodeType) return e })) } function f(e, t) { var s, a = e ? e.length : 0; for (s = 0; s < a; s++)this[s] = e[s]; this.length = a, this.selector = t || "" } function v(e, t, s) { for (E in t) s && (i(t[E]) || se(t[E])) ? (i(t[E]) && !i(e[E]) && (e[E] = {}), se(t[E]) && !se(e[E]) && (e[E] = []), v(e[E], t[E], s)) : t[E] !== x && (e[E] = t[E]) } function h(e, t) { return null == t ? T(e) : T(e).filter(t) } function P(e, t, a, o) { return s(t) ? t.call(e, a, o) : t } function j(e, t, s) { null == s ? e.removeAttribute(t) : e.setAttribute(t, s) } function C(e, t) { var s = e.className || "", a = s && s.baseVal !== x; if (t === x) return a ? s.baseVal : s; a ? s.baseVal = t : e.className = t } function y(e) { try { return e ? "true" == e || "false" != e && ("null" == e ? null : +e + "" == e ? +e : /^[\[\{]/.test(e) ? T.parseJSON(e) : e) : e } catch (t) { return e } } function w(e, t) { t(e); for (var s = 0, a = e.childNodes.length; s < a; s++)w(e.childNodes[s], t) } function R(e, t, s) { var a = e.getElementsByTagName("script")[0]; if (a) { var o = a.parentNode; if (o) { var n = e.createElement("script"); n.innerHTML = t, yu(s) && n.setAttribute("nonce", s), o.appendChild(n), o.removeChild(n) } } } var x, E, T, I, _, A, k = [], L = k.concat, O = k.filter, S = k.slice, V = e.document, N = {}, D = {}, M = { "column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1 }, F = /^\s*<(\w+|!)[^>]*>/, B = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, U = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, G = /^(?:body|html)$/i, q = /([A-Z])/g, H = ["val", "css", "html", "text", "data", "width", "height", "offset"], z = ["after", "prepend", "before", "append"], K = V.createElement("table"), W = V.createElement("tr"), Y = { tr: V.createElement("tbody"), tbody: K, thead: K, tfoot: K, td: W, th: W, "*": V.createElement("div") }, Z = /complete|loaded|interactive/, J = /^[\w-]*$/, $ = {}, Q = $.toString, X = {}, ee = V.createElement("div"), te = { tabindex: "tabIndex", readonly: "readOnly", for: "htmlFor", class: "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, se = Array.isArray || function (e) { return e instanceof Array }; return X.matches = function (e, t) { if (!t || !e || 1 !== e.nodeType) return !1; var s = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.oMatchesSelector || e.matchesSelector; if (s) return s.call(e, t); var a, o = e.parentNode, n = !o; return n && (o = ee).appendChild(e), a = ~X.qsa(o, t).indexOf(e), n && ee.removeChild(e), a }, _ = function (e) { return e.replace(/-+(.)?/g, (function (e, t) { return t ? t.toUpperCase() : "" })) }, A = function (e) { return O.call(e, (function (t, s) { return e.indexOf(t) == s })) }, X.fragment = function (e, t, s) { var a, o, n; return B.test(e) && (a = T(V.createElement(RegExp.$1))), a || (e.replace && (e = e.replace(U, "<$1></$2>")), t === x && (t = F.test(e) && RegExp.$1), t in Y || (t = "*"), (n = Y[t]).innerHTML = "" + e, a = T.each(S.call(n.childNodes), (function () { n.removeChild(this) }))), i(s) && (o = T(a), T.each(s, (function (e, t) { H.indexOf(e) > -1 ? o[e](t) : o.attr(e, t) }))), a }, X.Z = function (e, t) { return new f(e, t) }, X.isZ = function (e) { return e instanceof X.Z }, X.init = function (e, t) { var a; if (!e) return X.Z(); if ("string" == typeof e) if ("<" == (e = e.trim())[0] && F.test(e)) a = X.fragment(e, RegExp.$1, t), e = null; else { if (t !== x) return T(t).find(e); a = X.qsa(V, e) } else { if (s(e)) return T(V).ready(e); if (X.isZ(e)) return e; if (se(e)) a = d(e); else if (r(e)) a = [e], e = null; else if (F.test(e)) a = X.fragment(e.trim(), RegExp.$1, t), e = null; else { if (t !== x) return T(t).find(e); a = X.qsa(V, e) } } return X.Z(a, e) }, (T = function (e, t) { return X.init(e, t) }).extend = function (e) { var t, s = S.call(arguments, 1); return "boolean" == typeof e && (t = e, e = s.shift()), s.forEach((function (s) { v(e, s, t) })), e }, X.qsa = function (e, t) { var s, a = "#" == t[0], o = !a && "." == t[0], n = a || o ? t.slice(1) : t, r = J.test(n); return e.getElementById && r && a ? (s = e.getElementById(n)) ? [s] : [] : 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType ? [] : S.call(r && !a && e.getElementsByClassName ? o ? e.getElementsByClassName(n) : e.getElementsByTagName(t) : e.querySelectorAll(t)) }, T.contains = V.documentElement.contains ? function (e, t) { return e !== t && e.contains(t) } : function (e, t) { for (; t && (t = t.parentNode);)if (t === e) return !0; return !1 }, T.type = t, T.isFunction = s, T.isWindow = a, T.isArray = se, T.isPlainObject = i, T.isEmptyObject = function (e) { var t; for (t in e) return !1; return !0 }, T.isNumeric = function (e) { var t = Number(e), s = o(e); return null != e && "boolean" != s && ("string" != s || e.length) && !isNaN(t) && isFinite(t) || !1 }, T.inArray = function (e, t, s) { return k.indexOf.call(t, e, s) }, T.camelCase = _, T.trim = function (e) { return null == e ? "" : String.prototype.trim.call(e) }, T.uuid = 0, T.support = {}, T.expr = {}, T.noop = function () { }, T.map = function (e, t) { var s, a, o, n = []; if (c(e)) for (a = 0; a < e.length; a++)null != (s = t(e[a], a)) && n.push(s); else for (o in e) null != (s = t(e[o], o)) && n.push(s); return l(n) }, T.each = function (e, t) { var s, a; if (c(e)) { for (s = 0; s < e.length; s++)if (!1 === t.call(e[s], s, e[s])) return e } else for (a in e) if (!1 === t.call(e[a], a, e[a])) return e; return e }, T.grep = function (e, t) { return O.call(e, t) }, e.JSON && (T.parseJSON = JSON.parse), T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), (function (e, t) { $["[object " + t + "]"] = t.toLowerCase() })), T.fn = { constructor: X.Z, length: 0, forEach: k.forEach, reduce: k.reduce, push: k.push, sort: k.sort, splice: k.splice, indexOf: k.indexOf, concat: function () { var e, t, s = []; for (e = 0; e < arguments.length; e++)t = arguments[e], s[e] = X.isZ(t) ? t.toArray() : t; return L.apply(X.isZ(this) ? this.toArray() : this, s) }, map: function (e) { return T(T.map(this, (function (t, s) { return e.call(t, s, t) }))) }, slice: function () { return T(S.apply(this, arguments)) }, ready: function (e) { return Z.test(V.readyState) && V.body ? e(T) : V.addEventListener("DOMContentLoaded", (function () { e(T) }), !1), this }, get: function (e) { return e === x ? S.call(this) : this[e >= 0 ? e : e + this.length] }, toArray: function () { return this.get() }, size: function () { return this.length }, remove: function () { return this.each((function () { null != this.parentNode && this.parentNode.removeChild(this) })) }, each: function (e) { for (var t, s = this.length, a = 0; a < s && (t = this[a], !1 !== e.call(t, a, t));)a++; return this }, filter: function (e) { return s(e) ? this.not(this.not(e)) : T(O.call(this, (function (t) { return X.matches(t, e) }))) }, add: function (e, t) { return T(A(this.concat(T(e, t)))) }, is: function (e) { return this.length > 0 && X.matches(this[0], e) }, not: function (e) { var t = []; if (s(e) && e.call !== x) this.each((function (s) { e.call(this, s) || t.push(this) })); else { var a = "string" == typeof e ? this.filter(e) : c(e) && s(e.item) ? S.call(e) : T(e); this.forEach((function (e) { a.indexOf(e) < 0 && t.push(e) })) } return T(t) }, has: function (e) { return this.filter((function () { return r(e) ? T.contains(this, e) : T(this).find(e).size() })) }, eq: function (e) { return -1 === e ? this.slice(e) : this.slice(e, +e + 1) }, first: function () { var e = this[0]; return e && !r(e) ? e : T(e) }, last: function () { var e = this[this.length - 1]; return e && !r(e) ? e : T(e) }, find: function (e) { var t, s = this; return t = e ? "object" == o(e) ? T(e).filter((function () { var e = this; return k.some.call(s, (function (t) { return T.contains(t, e) })) })) : 1 == this.length ? T(X.qsa(this[0], e)) : this.map((function () { return X.qsa(this, e) })) : T(), t }, closest: function (e, t) { var s = [], a = "object" == o(e) && T(e); return this.each((function (o, r) { for (; r && !(a ? a.indexOf(r) >= 0 : X.matches(r, e));)r = r !== t && !n(r) && r.parentNode; r && s.indexOf(r) < 0 && s.push(r) })), T(s) }, parents: function (e) { for (var t = [], s = this; s.length > 0;)s = T.map(s, (function (e) { if ((e = e.parentNode) && !n(e) && t.indexOf(e) < 0) return t.push(e), e })); return h(t, e) }, parent: function (e) { return h(A(this.pluck("parentNode")), e) }, children: function (e) { return h(this.map((function () { return g(this) })), e) }, contents: function () { return this.map((function () { return this.contentDocument || S.call(this.childNodes) })) }, siblings: function (e) { return h(this.map((function (e, t) { return O.call(g(t.parentNode), (function (e) { return e !== t })) })), e) }, empty: function () { return this.each((function () { this.innerHTML = "" })) }, pluck: function (e) { return T.map(this, (function (t) { return t[e] })) }, show: function () { return this.each((function () { "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = p(this.nodeName)) })) }, replaceWith: function (e) { return this.before(e).remove() }, wrap: function (e) { var t = s(e); if (this[0] && !t) var a = T(e).get(0), o = a.parentNode || this.length > 1; return this.each((function (s) { T(this).wrapAll(t ? e.call(this, s) : o ? a.cloneNode(!0) : a) })) }, wrapAll: function (e) { if (this[0]) { var t; for (T(this[0]).before(e = T(e)); (t = e.children()).length;)e = t.first(); T(e).append(this) } return this }, wrapInner: function (e) { var t = s(e); return this.each((function (s) { var a = T(this), o = a.contents(), n = t ? e.call(this, s) : e; o.length ? o.wrapAll(n) : a.append(n) })) }, unwrap: function () { return this.parent().each((function () { T(this).replaceWith(T(this).children()) })), this }, clone: function () { return this.map((function () { return this.cloneNode(!0) })) }, hide: function () { return this.css("display", "none") }, toggle: function (e) { return this.each((function () { var t = T(this); (e === x ? "none" == t.css("display") : e) ? t.show() : t.hide() })) }, prev: function (e) { return T(this.pluck("previousElementSibling")).filter(e || "*") }, next: function (e) { return T(this.pluck("nextElementSibling")).filter(e || "*") }, html: function (e) { return 0 in arguments ? this.each((function (t) { var s = this.innerHTML; T(this).empty().append(P(this, e, t, s)) })) : 0 in this ? this[0].innerHTML : null }, text: function (e) { return 0 in arguments ? this.each((function (t) { var s = P(this, e, t, this.textContent); this.textContent = null == s ? "" : "" + s })) : 0 in this ? this.pluck("textContent").join("") : null }, attr: function (e, t) { var s; return "string" != typeof e || 1 in arguments ? this.each((function (s) { if (1 === this.nodeType) if (r(e)) for (E in e) j(this, E, e[E]); else j(this, e, P(this, t, s, this.getAttribute(e))) })) : 0 in this && 1 == this[0].nodeType && null != (s = this[0].getAttribute(e)) ? s : x }, removeAttr: function (e) { return this.each((function () { 1 === this.nodeType && e.split(" ").forEach((function (e) { j(this, e) }), this) })) }, prop: function (e, t) { return e = te[e] || e, 1 in arguments ? this.each((function (s) { this[e] = P(this, t, s, this[e]) })) : this[0] && this[0][e] }, removeProp: function (e) { return e = te[e] || e, this.each((function () { delete this[e] })) }, data: function (e, t) { var s = "data-" + e.replace(q, "-$1").toLowerCase(), a = 1 in arguments ? this.attr(s, t) : this.attr(s); return null !== a ? y(a) : x }, val: function (e) { return 0 in arguments ? (null == e && (e = ""), this.each((function (t) { this.value = P(this, e, t, this.value) }))) : this[0] && (this[0].multiple ? T(this[0]).find("option").filter((function () { return this.selected })).pluck("value") : this[0].value) }, offset: function (t) { if (t) return this.each((function (e) { var s = T(this), a = P(this, t, e, s.offset()), o = s.offsetParent().offset(), n = { top: a.top - o.top, left: a.left - o.left }; "static" == s.css("position") && (n.position = "relative"), s.css(n) })); if (!this.length) return null; if (V.documentElement !== this[0] && !T.contains(V.documentElement, this[0])) return { top: 0, left: 0 }; var s = this[0].getBoundingClientRect(); return { left: s.left + e.pageXOffset, top: s.top + e.pageYOffset, width: Math.round(s.width), height: Math.round(s.height) } }, css: function (e, s) { if (arguments.length < 2) { var a = this[0]; if ("string" == typeof e) { if (!a) return; return a.style[_(e)] || getComputedStyle(a, "").getPropertyValue(e) } if (se(e)) { if (!a) return; var o = {}, n = getComputedStyle(a, ""); return T.each(e, (function (e, t) { o[t] = a.style[_(t)] || n.getPropertyValue(t) })), o } } var r = ""; if ("string" == t(e)) s || 0 === s ? r = u(e) + ":" + b(e, s) : this.each((function () { this.style.removeProperty(u(e)) })); else for (E in e) e[E] || 0 === e[E] ? r += u(E) + ":" + b(E, e[E]) + ";" : this.each((function () { this.style.removeProperty(u(E)) })); return this.each((function () { this.style.cssText += ";" + r })) }, index: function (e) { return e ? this.indexOf(T(e)[0]) : this.parent().children().indexOf(this[0]) }, hasClass: function (e) { return !!e && k.some.call(this, (function (e) { return this.test(C(e)) }), m(e)) }, addClass: function (e) { return e ? this.each((function (t) { if ("className" in this) { I = []; var s = C(this); P(this, e, t, s).split(/\s+/g).forEach((function (e) { T(this).hasClass(e) || I.push(e) }), this), I.length && C(this, s + (s ? " " : "") + I.join(" ")) } })) : this }, removeClass: function (e) { return this.each((function (t) { if ("className" in this) { if (e === x) return C(this, ""); I = C(this), P(this, e, t, I).split(/\s+/g).forEach((function (e) { I = I.replace(m(e), " ") })), C(this, I.trim()) } })) }, toggleClass: function (e, t) { return e ? this.each((function (s) { var a = T(this); P(this, e, s, C(this)).split(/\s+/g).forEach((function (e) { (t === x ? !a.hasClass(e) : t) ? a.addClass(e) : a.removeClass(e) })) })) : this }, scrollTop: function (e) { if (this.length) { var t = "scrollTop" in this[0]; return e === x ? t ? this[0].scrollTop : this[0].pageYOffset : this.each(t ? function () { this.scrollTop = e } : function () { this.scrollTo(this.scrollX, e) }) } }, scrollLeft: function (e) { if (this.length) { var t = "scrollLeft" in this[0]; return e === x ? t ? this[0].scrollLeft : this[0].pageXOffset : this.each(t ? function () { this.scrollLeft = e } : function () { this.scrollTo(e, this.scrollY) }) } }, position: function () { if (this.length) { var e = this[0], t = this.offsetParent(), s = this.offset(), a = G.test(t[0].nodeName) ? { top: 0, left: 0 } : t.offset(); return s.top -= parseFloat(T(e).css("margin-top")) || 0, s.left -= parseFloat(T(e).css("margin-left")) || 0, a.top += parseFloat(T(t[0]).css("border-top-width")) || 0, a.left += parseFloat(T(t[0]).css("border-left-width")) || 0, { top: s.top - a.top, left: s.left - a.left } } }, offsetParent: function () { return this.map((function () { for (var e = this.offsetParent || V.body; e && !G.test(e.nodeName) && "static" == T(e).css("position");)e = e.offsetParent; return e })) } }, T.fn.detach = T.fn.remove, ["width", "height"].forEach((function (e) { var t = e.replace(/./, (function (e) { return e[0].toUpperCase() })); T.fn[e] = function (s) { var o, r = this[0]; return s === x ? a(r) ? r["inner" + t] : n(r) ? r.documentElement["scroll" + t] : (o = this.offset()) && o[e] : this.each((function (t) { (r = T(this)).css(e, P(this, s, t, r[e]())) })) } })), z.forEach((function (e, s) { var a = s % 2; T.fn[e] = function () { var e, o, n = T.map(arguments, (function (s) { var a = []; return "array" == (e = t(s)) ? (s.forEach((function (e) { return e.nodeType !== x ? a.push(e) : T.zepto.isZ(e) ? a = a.concat(e.get()) : void (a = a.concat(X.fragment(e))) })), a) : "object" == e || null == s ? s : X.fragment(s) })), r = this.length > 1; return n.length < 1 ? this : this.each((function (e, t) { o = a ? t : t.parentNode, t = 0 == s ? t.nextSibling : 1 == s ? t.firstChild : 2 == s ? t : null; var i = T.contains(V.documentElement, o), c = /^(text|application)\/(javascript|ecmascript)$/, d = je(), l = d[bg], u = d[pg]; n.forEach((function (e) { if (r) e = e.cloneNode(!0); else if (!o) return T(e).remove(); yu(l) && "SCRIPT" === e.tagName && e.setAttribute("nonce", l), yu(u) && "STYLE" === e.tagName && e.setAttribute("nonce", u), o.insertBefore(e, t), i && w(e, (function (e) { null == e.nodeName || "SCRIPT" !== e.nodeName.toUpperCase() || e.type && !c.test(e.type.toLowerCase()) || e.src || R(V, e.innerHTML, e.nonce) })) })) })) }, T.fn[a ? e + "To" : "insert" + (s ? "Before" : "After")] = function (t) { return T(t)[e](this), this } })), X.Z.prototype = f.prototype = T.fn, X.uniq = A, X.deserializeValue = y, T.zepto = X, T }(); return function (t) {
                                function s(e) { return e._zid || (e._zid = b++) } function a(e, t, a, r) { if ((t = o(t)).ns) var i = n(t.ns); return (v[s(e)] || []).filter((function (e) { return e && (!t.e || e.e == t.e) && (!t.ns || i.test(e.ns)) && (!a || s(e.fn) === s(a)) && (!r || e.sel == r) })) } function o(e) { var t = ("" + e).split("."); return { e: t[0], ns: t.slice(1).sort().join(" ") } } function n(e) { return new RegExp("(?:^| )" + e.replace(" ", " .* ?") + "(?: |$)") } function r(e, t) { return e.del && !P && e.e in j || !!t } function i(e) { return C[e] || P && j[e] || e } function c(e, a, n, c, d, u, b) { var p = s(e), g = v[p] || (v[p] = []); a.split(/\s/).forEach((function (s) { if ("ready" == s) return t(document).ready(n); var a = o(s); a.fn = n, a.sel = d, a.e in C && (n = function (e) { var s = e.relatedTarget; if (!s || s !== this && !t.contains(this, s)) return a.fn.apply(this, arguments) }), a.del = u; var p = u || n; a.proxy = function (t) { if (!(t = l(t)).isImmediatePropagationStopped()) { t.data = c; var s = p.apply(e, t._args == m ? [t] : [t].concat(t._args)); return !1 === s && (t.preventDefault(), t.stopPropagation()), s } }, a.i = g.length, g.push(a), "addEventListener" in e && e.addEventListener(i(a.e), a.proxy, r(a, b)) })) } function d(e, t, o, n, c) { var d = s(e); (t || "").split(/\s/).forEach((function (t) { a(e, t, o, n).forEach((function (t) { delete v[d][t.i], "removeEventListener" in e && e.removeEventListener(i(t.e), t.proxy, r(t, c)) })) })) } function l(e, s) { if (s || !e.isDefaultPrevented) { s || (s = e), t.each(x, (function (t, a) { var o = s[t]; e[t] = function () { return this[a] = y, o && o.apply(s, arguments) }, e[a] = w })); try { e.timeStamp || (e.timeStamp = (new Date).getTime()) } catch (e) { } (s.defaultPrevented !== m ? s.defaultPrevented : "returnValue" in s ? !1 === s.returnValue : s.getPreventDefault && s.getPreventDefault()) && (e.isDefaultPrevented = y) } return e } function u(e) { var t, s = { originalEvent: e }; for (t in e) R.test(t) || e[t] === m || (s[t] = e[t]); return l(s, e) } var m, b = 1, p = Array.prototype.slice, g = t.isFunction, f = function (e) { return "string" == typeof e }, v = {}, h = {}, P = "onfocusin" in e, j = { focus: "focusin", blur: "focusout" }, C = { mouseenter: "mouseover", mouseleave: "mouseout" }; h.click = h.mousedown = h.mouseup = h.mousemove = "MouseEvents", t.event = { add: c, remove: d }, t.proxy = function (e, a) { var o = 2 in arguments && p.call(arguments, 2); if (g(e)) { var n = function () { return e.apply(a, o ? o.concat(p.call(arguments)) : arguments) }; return n._zid = s(e), n } if (f(a)) return o ? (o.unshift(e[a], e), t.proxy.apply(null, o)) : t.proxy(e[a], e); throw new TypeError("expected function") }, t.fn.bind = function (e, t, s) { return this.on(e, t, s) }, t.fn.unbind = function (e, t) { return this.off(e, t) },
                                    t.fn.one = function (e, t, s, a) { return this.on(e, t, s, a, 1) }; var y = function () { return !0 }, w = function () { return !1 }, R = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, x = { preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped" }; t.fn.delegate = function (e, t, s) { return this.on(t, e, s) }, t.fn.undelegate = function (e, t, s) { return this.off(t, e, s) }, t.fn.live = function (e, s) { return t(document.body).delegate(this.selector, e, s), this }, t.fn.die = function (e, s) { return t(document.body).undelegate(this.selector, e, s), this }, t.fn.on = function (e, s, a, o, n) { var r, i, l = this; return e && !f(e) ? (t.each(e, (function (e, t) { l.on(e, s, a, t, n) })), l) : (f(s) || g(o) || !1 === o || (o = a, a = s, s = m), o !== m && !1 !== a || (o = a, a = m), !1 === o && (o = w), l.each((function (l, m) { n && (r = function (e) { return d(m, e.type, o), o.apply(this, arguments) }), s && (i = function (e) { var a, n = t(e.target).closest(s, m).get(0); if (n && n !== m) return a = t.extend(u(e), { currentTarget: n, liveFired: m }), (r || o).apply(n, [a].concat(p.call(arguments, 1))) }), c(m, e, o, a, s, i || r) }))) }, t.fn.off = function (e, s, a) { var o = this; return e && !f(e) ? (t.each(e, (function (e, t) { o.off(e, s, t) })), o) : (f(s) || g(a) || !1 === a || (a = s, s = m), !1 === a && (a = w), o.each((function () { d(this, e, a, s) }))) }, t.fn.trigger = function (e, s) { return (e = f(e) || t.isPlainObject(e) ? t.Event(e) : l(e))._args = s, this.each((function () { e.type in j && "function" == typeof this[e.type] ? this[e.type]() : "dispatchEvent" in this ? this.dispatchEvent(e) : t(this).triggerHandler(e, s) })) }, t.fn.triggerHandler = function (e, s) { var o, n; return this.each((function (r, i) { (o = u(f(e) ? t.Event(e) : e))._args = s, o.target = i, t.each(a(i, e.type || e), (function (e, t) { if (n = t.proxy(o), o.isImmediatePropagationStopped()) return !1 })) })), n }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function (e) { t.fn[e] = function (t) { return 0 in arguments ? this.bind(e, t) : this.trigger(e) } })), t.Event = function (e, t) { f(e) || (e = (t = e).type); var s = document.createEvent(h[e] || "Events"), a = !0; if (t) for (var o in t) "bubbles" == o ? a = !!t[o] : s[o] = t[o]; return s.initEvent(e, a, !0), l(s) }
                            }(t), function () { try { getComputedStyle(void 0) } catch (s) { var t = getComputedStyle; e.getComputedStyle = function (e, s) { try { return t(e, s) } catch (e) { return null } } } }(), function (e) { var t = e.zepto, s = t.qsa, a = /^\s*>/, o = ":shadow", n = "Zepto" + +new Date, r = function (t, o) { var r, i, c = o; try { c ? a.test(c) && (i = e(t).addClass(n), c = "." + n + " " + c) : c = "*", r = s(t, c) } catch (e) { throw e } finally { i && i.removeClass(n) } return r }; t.qsa = function (e, t) { var s = t.split(o); if (s.length < 2) return r(e, t); for (var a = e, n = 0; n < s.length; n++) { var i = s[n].trim(); if (0 === i.indexOf(">")) { var c = ":host "; (a instanceof Element || a instanceof HTMLDocument) && (c = ":scope "), i = c + i } var d = r(a, i); if (0 === d.length || !d[0] || !d[0].shadowRoot) return d; a = d[0].shadowRoot } } }(t), t
                        }(window), Gg = xg.MutationObserver || xg.WebkitMutationObserver, qg = "Expected an array of promises"; nu.default._setImmediateFn && rt(); var Hg = me(), zg = /.*\.(\d+)_\d+/; At(xg, Rg); var Kg, Wg = "at-library-loaded", Yg = "at-request-start", Zg = "at-request-succeeded", Jg = "at-request-failed", $g = "at-content-rendering-start", Qg = "at-content-rendering-succeeded", Xg = "at-content-rendering-failed", ef = "at-content-rendering-no-offers", tf = "at-content-rendering-redirect", sf = ":eq(", af = ")", of = sf.length, nf = /((\.|#)(-)?\d{1})/g, rf = "Unable to load target-vec.js", cf = "Loading target-vec.js", df = "_AT", lf = "clickHandlerForExperienceEditor", uf = "currentView", mf = "at_qa_mode", bf = "at_preview_token", pf = "at_preview_index", gf = "at_preview_listed_activities_only", ff = "at_preview_evaluate_as_true_audience_ids", vf = "at_preview_evaluate_as_false_audience_ids", hf = "_", Pf = function (e) { return !m(e) }, jf = "at_preview_mode", Cf = "at_preview", yf = "at-", wf = "at-body-style", Rf = "#" + wf, xf = yf + "views", Ef = "Disabled due to optout", Tf = "MCAAMB", If = "MCAAMLH", _f = "MCMID", Af = "MCOPTOUT", kf = "getSupplementalDataID", Lf = "getCustomerIDs", Of = !0, Sf = "NS", Vf = "DS", Nf = "trackingServer", Df = Nf + "Secure", Mf = "Visitor", Ff = "getInstance", Bf = "isAllowed", Uf = "Visitor API requests timed out", Gf = "Visitor API requests error", qf = {}, Hf = "Data provider", zf = "timed out", Kf = 2e3, Wf = "authorization", Yf = "mboxDebugTools", Zf = ["architecture", "bitness", "model", "platformVersion", "fullVersionList"], Jf = Sa(), $f = "profile.", Qf = "mbox3rdPartyId", Xf = "at_property", ev = "orderId", tv = "orderTotal", sv = "productPurchasedId", av = "productId", ov = "categoryId", nv = "POST", rv = "Network request failed", iv = "Request timed out", cv = "Malformed response JSON", dv = "mboxedge", lv = ".tt.omtrdc.net", uv = function (e) { return !S(e) }, mv = function (e) { return function (t) { return t[e] } }, bv = function (e) { return function (t) { return !e(t) } }, pv = bv(m), gv = bv(N), fv = function (e) { return function (t) { return j(e, t) } }, vv = function (e) { return e.status === Ib }, hv = function (e) { return e.type === Bb }, Pv = function (e) { return e.type === fm }, jv = fv(pv), Cv = fv(gv), yv = mv(qp), wv = mv(Yu), Rv = mv(zp), xv = mv(Ub), Ev = function (e) { return yu(e.name) }, Tv = function (e) { return !m(e.index) }, Iv = function (e) { return g(e) && Ev(e) }, _v = function (e) { return g(e) && Ev(e) && Tv(e) }, Av = function (e) { return g(e) && Ev(e) }, kv = function (e) { return yu(e.selector) }, Lv = mv(Gb), Ov = w([Lv, pv]), Sv = "adobe_mc_sdid", Vv = "Network request failed", Nv = "Request timed out", Dv = "URL is required", Mv = "GET", Fv = "POST", Bv = "method", Uv = "url", Gv = "headers", qv = "data", Hv = "credentials", zv = "timeout", Kv = "async", Wv = /CLKTRK#(\S+)/, Yv = /CLKTRK#(\S+)\s/, Zv = function (e) { return !m(e) }, Jv = "visibilityState", $v = "visible", Qv = 100, Xv = qm + "," + zm + "," + Hm, eh = "at-action-key", th = "metric element not found", sh = "navigator", ah = "sendBeacon", oh = "Beacon data sent", nh = "Beacon data sent failed", rh = "View triggered notification", ih = "View rendered notification", ch = "Mboxes rendered notification", dh = "Event handler notification", lh = "Mbox event handler notification", uh = "View event handler notification", mh = "prefetchMboxes", bh = "rendered", ph = "triggered", gh = {}, fh = "pageLoadMetrics", vh = "prefetchMetrics", hh = mv(Hp), Ph = function () { return Xo(Sb) }, jh = function (e) { return en(Sb, e) }, Ch = mv(Yu), yh = mv(am), wh = function (e) { return Xo(Ob, e) }, Rh = function (e) { return en(Ob, e) }, xh = function (e) { return bv(vv)(e) && Ov(e) }, Eh = { exports: {} }; Kc.prototype = { on: function (e, t, s) { var a = this.e || (this.e = {}); return (a[e] || (a[e] = [])).push({ fn: t, ctx: s }), this }, once: function (e, t, s) { function a() { o.off(e, a), t.apply(s, arguments) } var o = this; return a._ = t, this.on(e, a, s) }, emit: function (e) { for (var t = [].slice.call(arguments, 1), s = ((this.e || (this.e = {}))[e] || []).slice(), a = 0, o = s.length; a < o; a++)s[a].fn.apply(s[a].ctx, t); return this }, off: function (e, t) { var s = this.e || (this.e = {}), a = s[e], o = []; if (a && t) for (var n = 0, r = a.length; n < r; n++)a[n].fn !== t && a[n].fn._ !== t && o.push(a[n]); return o.length ? s[e] = o : delete s[e], this } }, Eh.exports = Kc, Eh.exports.TinyEmitter = Kc; var Th = Eh.exports, Ih = Wc(), _h = "Page load rendering failed", Ah = "Mboxes rendering failed", kh = "View rendering failed", Lh = "Prefetch rendering failed", Oh = function (e) { return !S(j(vv, e)) }, Sh = "[page-init]", Vh = "[getOffer()]", Nh = "[getOffers()]", Dh = "[applyOffer()]", Mh = "[applyOffers()]", Fh = "[sendNotifications()]", Bh = "[trackEvent()]", Uh = "[triggerView()]", Gh = [], qh = 0, Hh = 1, zh = qh; Dl(); var Kh = "function has been deprecated. Please use getOffer() and applyOffer() functions instead.", Wh = "adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.", Yh = "mboxCreate() " + Kh, Zh = "mboxDefine() " + Kh, Jh = "mboxUpdate() " + Kh, $h = /^tgt:.+/i, Qh = function (e) { return $h.test(e) }, Xh = -1, eP = 10, tP = "tgt:tlm", sP = tP + ":lower", aP = tP + ":upper", oP = { init: Jl, initConfig: Pe, initDelivery: Hd }; e.exports = oP
                    }
                }, "adobe-target-v2/lib/messages.js": { script: function (e) { "use strict"; e.exports = { ALREADY_INITIALIZED: "AT: Adobe Target has already been initialized.", DELIVERY_DISABLED: "AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.", NO_REQUEST: "AT: Target library is either not loaded or disabled, no request will be executed" } } }, "adobe-target-v2/lib/modules/params-store.js": { script: function (e, t, s) { "use strict"; function a(e) { return void 0 !== e && null != e && Object.prototype.hasOwnProperty.call(e, "value") && null != e.checked } function o(e) { var t = {}; return Object.keys(e).forEach((function (s) { var o = e[s]; if (a(o)) { var n = o.checked, r = o.value; n && "" === r || (t[s] = r) } else t[s] = o })), t } function n(e) { var t = o(e); d(l, t) } function r(e) { var t = o(e); d(u, t) } function i() { return l } function c() { return u } var d = s("./object-override"), l = {}, u = {}; e.exports = { mergeParams: n, mergePageLoadParams: r, getParams: i, getPageLoadParams: c } } }, "adobe-target-v2/lib/targetSettings.js": { script: function (e, t, s, a) { "use strict"; var o = a.getExtensionSettings(), n = o.targetSettings || {}; e.exports = { extensionSettings: o, targetSettings: n } } }, "adobe-target-v2/lib/modules/object-override.js": { script: function (e) { "use strict"; function t(e, t, s, a) { t[s] !== a && (e[s] = t[s]) } function s(e) { return !Array.isArray(this.subset) || -1 !== this.subset.indexOf(e) } e.exports = function (e, a, o) { Object.keys(a).filter(s, { subset: o }).forEach((function (s) { t(e, a, s) })) } } }, "adobe-target-v2/lib/librarySettings.js": { script: function (e) { "use strict"; var t = { version: "2.9.0" }; e.exports = { TARGET_DEFAULT_SETTINGS: t } } }, "adobe-target-v2/lib/modules/event-util.js": { script: function (e) { "use strict"; function t(e, t, s) { e.addEventListener(t, s) } function s(e, t, s) { e.removeEventListener(t, s) } e.exports = { addEventListener: t, removeEventListener: s } } }, "adobe-target-v2/lib/modules/page-load.js": { script: function (e, t, s) { "use strict"; var a = s("../librarySettings"), o = s("@adobe/reactor-window"), n = s("./object-override"), r = s("./params-store"), i = r.getParams, c = r.getPageLoadParams, d = s("../targetSettings").targetSettings; e.exports = function (e) { return d.mboxParams = i(), d.globalMboxParams = c(), n(d, e, ["bodyHidingEnabled", "bodyHiddenStyle"]), n(d, o.targetGlobalSettings || {}, ["enabled", "bodyHidingEnabled", "bodyHiddenStyle"]), n(d, a.TARGET_DEFAULT_SETTINGS || {}, ["version"]), d } } }
            }
        }, "bmw-group-utility-kit": { displayName: "Utility Kit", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/", settings: { webDL: { dataElement: "%webDL%" }, privacyManager: { type: { code: function (e) { return "true" === _satellite.getVar("splitConsentEnabled") ? e.EPAAS_SPLIT : e.EPAAS_NON_SPLIT } }, methodSettings: { code: function () { } } } }, modules: { "bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js": { name: "snapshot-attribute", displayName: "Snapshot Attribute", script: function (e, t, s) { "use strict"; var a = s("../helpers/dataLayerManager"); e.exports = function (e) { var t = e.snapshotAttribute && e.snapshotAttribute.path; return a.getSnapshot().get(t) } } }, "bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js": { name: "helper-tools", displayName: "Helper Tools", script: function (e, t, s) { "use strict"; var a = s("../helpers/external_modules/deepFreeze.js")({ cache: s("../helpers/cache.js"), hooks: s("../helpers/hooks.js"), privacyManager: s("../helpers/privacyManager.js") }); e.exports = function () { return a } } }, "bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js": { name: "data-layer-snapshot", displayName: "Data Layer Snapshot", script: function (e, t, s) { "use strict"; var a = s("../helpers/dataLayerManager"); e.exports = function () { return a.getSnapshot() } } }, "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js": { name: "take-snapshot", displayName: "Take Snapshot", script: function (e, t, s, a) { "use strict"; var o = s("../helpers/dataLayerManager"), n = a.getSharedModule("adobe-analytics", "get-tracker"); e.exports = function (e, t) { t.detail = t.detail || {}, t.detail.snapshotDL = o.takeSnapshot(t.$rule.name, t.detail.webDL), n && n().then((function () { o.takeSnapshot(t.$rule.name, t.detail.snapshotDL.snapshot) })) } } }, "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js": { name: "discard-snapshot", displayName: "Discard Snapshot", script: function (e, t, s, a) { "use strict"; var o = s("../helpers/dataLayerManager"), n = a.getSharedModule("adobe-analytics", "get-tracker"); e.exports = function () { o.removeSnapshot(), n && n().then((function () { o.removeSnapshot() })) } } }, "bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js": { script: function (e, t, s, a) { "use strict"; function o(e, t, s) { if (!e) throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class"); this.debug = { takenAt: e }; var o = a.getExtensionSettings().webDL && a.getExtensionSettings().webDL.dataElement; t || o ? (this.snapshot = JSON.parse(JSON.stringify(t || o)), this.debug.type = s || (t ? i.PARAMETER : o ? i.WEBDL : i.EMPTY)) : (a.logger.warn("NOTE: Website datalayer not available while creating the snapshot"), this.snapshot = {}, this.debug.type = i.EMPTY) } var n, r = s("./external_modules/deepFreeze"), i = { FALLBACK: "CURRENT_DATALAYER_STATE", WEBDL: "WEBSITE_DATALAYER", PARAMETER: "CUSTOM_PARAMETER", EMPTY: "EMPTY" }; o.prototype.get = function (e, t) { try { for (var s = ["", "na", "not set", "n/a", "not available", "not yet available", "not selected", "unknown"], o = (e = e || "").split("."), n = this.snapshot, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && s.indexOf(n.toLowerCase()) > -1 ? t || "datalayer field empty" : n || t || "datalayer field missing" } catch (e) { a.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-", e) } }; var c = function () { this.takeSnapshot = function (e, t) { return n = new o(e, t), r(n) }, this.getSnapshot = function () { return n || (a.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"), r(new o("NO_SNAPSHOT_AVAILABLE", void 0, i.FALLBACK))) }, this.removeSnapshot = function () { n = void 0 } }; e.exports = new c } }, "bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js": { script: function (e) { e.exports = function e(t) { return Object.freeze(t), Object.getOwnPropertyNames(t).forEach((function (s) { !t.hasOwnProperty(s) || null === t[s] || "object" != typeof t[s] && "function" != typeof t[s] || Object.isFrozen(t[s]) || e(t[s]) })), t } } }, "bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js": { script: function (e, t, s, a) { "use strict"; function o(e) { return i[e] } function n(e, t) { void 0 !== o(e) && a.logger.log('Overwriting cache["' + e + '"]'), i[e] = t } function r(e) { return delete i[e] } var i = {}; e.exports = { get: o, set: n, remove: r } } }, "bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js": { script: function (e, t, s, a) { function o(e) { this.action = e.action, this.type = e.type && "string" == typeof e.type && e.type.toLowerCase() } function n(e) { this.newReference = void 0, this.reference = e.method, this.hooks = [new o(e)] } function r() { var e = []; this.find = function (t) { for (var s = e.length - 1; s >= 0; s--)if (e[s].reference === t || e[s].newReference === t) return e[s] }, this.findIndex = function (t) { for (var s = e.length - 1; s >= 0; s--)if (e[s].reference === t || e[s].newReference === t) return s }, this.add = function (t) { e.push(t) }, this.remove = function (t) { var s = this.findIndex(t); if (s) return e.splice(s, 1)[0] } } function i() { var e = new r; this.add = function (t) { if ("object" != typeof t || !t.method || !t.action || !t.type) throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys"); var s = e.find(t.method); return s ? s.addHook(t) : e.add(new n(t)), e.find(t.method).getNewDefinition() }, this.remove = function (t, s) { var a = e.find(t); a && a.removeHook(s) }, this.removeAll = function (t) { return e.remove(t).reference }, this.get = function (t) { var s = e.find(t); return s ? s.getHooks() : [] } } o.prototype.execute = function (e, t) { try { return this.action.apply(e, t) } catch (e) { a.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-", e) } }, n.prototype.removeHook = function (e) { for (var t = this.hooks.length - 1; t >= 0; t--)this.hooks[t].action === e && this.hooks.splice(t, 1) }, n.prototype.addHook = function (e) { e.type && "string" == typeof e.type && "overwrite" === e.type.toLowerCase() ? (this.hooks.length && a.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-", this.hooks), this.hooks = [new o(e)]) : "overwrite" === this.hooks[0].type ? a.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ", this.hooks[0]) : this.hooks = this.hooks.concat(new o(e)) }, n.prototype.getHooks = function () { return this.hooks }, n.prototype.executePreHooks = function (e, t) { for (var s = this.hooks.filter((function (e) { return "pre" === e.type })), a = 0; a < s.length; a++)t = s[a].execute(e, JSON.parse(JSON.stringify(t))) || t; return t }, n.prototype.executePostHooks = function (e, t) { for (var s = this.hooks.filter((function (e) { return "post" === e.type })), a = 0; a < s.length; a++)t = s[a].execute(e, [JSON.parse(JSON.stringify(t))]) || t; return t }, n.prototype.getNewDefinition = function () { var e = this; return e.newReference = e.newReference || function () { var t = "overwrite" === e.hooks[0].type ? e.hooks[0] : void 0; if (t) return t.execute(this, arguments); var s = Array.prototype.slice.call(arguments); s = e.executePreHooks(this, s); try { var o = e.reference.apply(this, s) } catch (e) { a.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-", e) } return o = e.executePostHooks(this, o) }, e.newReference }; var c = new i; e.exports = c } }, "bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js": { script: function (e, t, s, a) { function o(e) { a.logger.error("UTILITY-KIT:" + e), a.logger.debug("UTILITY-KIT:Privacy Manager State-" + this.state), a.logger.debug("UTILITY-KIT:Privacy Manager Type-" + this.type) } function n(e) { var t; Object.defineProperty(this, "type", { get: function () { return e } }), Object.defineProperty(this, "state", { get: function () { return t } }), Object.defineProperty(this, "ENUM_TYPE", { get: function () { return c(m) } }); var s = this; this.type == m.EPAAS_SPLIT || this.type == m.EPAAS_NON_SPLIT || this.type == m.CON_TRACKING_API ? (t = b.IDENTIFIED, this.onInit((function () { t = b.INITIALIZED, s.type == m.EPAAS_SPLIT && (i.get = d.add({ method: i.get, action: consentcontroller.api.getPersistence, type: "overwrite" }), i.set = d.add({ method: i.set, action: function () { return consentcontroller.api.setPersistence(arguments[0], arguments[1]) }, type: "overwrite" })) }))) : t = b.UNKNOWN } var r = s("@adobe/reactor-window"), i = s("@adobe/reactor-cookie"), c = s("./external_modules/deepFreeze.js"), d = s("./hooks"), l = a.getExtensionSettings(), u = l && l.privacyManager || {}, m = { EPAAS_SPLIT: "EPAAS_SPLIT", EPAAS_NON_SPLIT: "EPAAS_NON_SPLIT", CON_TRACKING_API: "CON_TRACKING_API", OTHERS: "OTHERS" }, b = { IDENTIFIED: "WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT", INITIALIZED: "WEBSITE_API_INITIALIZED", UNKNOWN: "WEBSITE_API_NOT_RECOGNIZED" }; n.prototype.onInit = function (e) { this.type == m.EPAAS_SPLIT || this.type == m.EPAAS_NON_SPLIT ? (r.consentcontroller && r.consentcontroller.api || r).addEventListener("consentcontroller.api.initialized", e) : this.type == m.CON_TRACKING_API ? r.digital && r.digital.tracking && null != r.digital.tracking.dtmReady ? e() : r.addEventListener("digital:tracking:trackingReady", e) : o.call(this, "Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method") }, n.prototype.isTrackingAllowed = function (e) { return this.state != b.INITIALIZED ? (a.logger.warn("UTILITY-KIT:" + this.type + " is not initialized, tracking status will be returned as false"), !1) : this.type == m.EPAAS_SPLIT || this.type == m.EPAAS_NON_SPLIT ? consentcontroller.api.isUsageAllowed(e) : this.type == m.CON_TRACKING_API ? !r.digital.tracking.isTrackingDisabled() : (o.call(this, "Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"), !1) }, n.prototype.registerOnConsentChange = function () { var e = arguments; this.type == m.EPAAS_SPLIT || this.type == m.EPAAS_NON_SPLIT ? this.onInit((function () { consentcontroller.api.registerOnUserConsentChange.apply(null, e) })) : this.type == m.CON_TRACKING_API ? this.onInit((function () { r.digital.tracking.registerOnConsentChange.apply(r.digital.tracking, e) })) : o.call(this, "Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method") }, n.prototype.isCookieDrawerShown = function () { return this.type == m.EPAAS_SPLIT || this.type == m.EPAAS_NON_SPLIT ? this.state == b.INITIALIZED && consentcontroller.api.showDisclaimer() : this.type == m.CON_TRACKING_API ? void 0 === i.get("cc_ConsentCookie") : void o.call(this, "Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method") }; try { var p; u.type && u.type.code && (p = u.type.code(m)) } catch (e) { a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-", e) } p !== m.EPAAS_SPLIT && p !== m.EPAAS_NON_SPLIT && p !== m.CON_TRACKING_API && p !== m.OTHERS && (a.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"), p = m.OTHERS); var g = new n(p); try { p === m.OTHERS && u.methodSettings && u.methodSettings.code && u.methodSettings.code(g) } catch (e) { a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-", e) } e.exports = g } } } }, "common-analytics-plugins": {
            displayName: "Common Analytics Plugins", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EP88bc9a95368c457498f7139d263446ba/", settings: { ns: { id: "ns", obj: "window", desc: "The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>", name: "Numbers Suite", display: !0, doclink: "//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html", version: "1.0", depricated: !0 }, pt: { id: "pt", obj: "tracker", desc: "Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');", name: "pt", display: !0, doclink: "//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html", version: "3.0", depricated: !1 }, apl: { id: "apl", obj: "tracker", desc: 'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.', name: "Append To List", display: !0, version: "4.0", depricated: !1 }, rfl: { id: "rfl", obj: "tracker", desc: "Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).", name: "Remove From List", display: !0, doclink: "//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html", version: "2.1", depricated: !1 }, p_fo: { id: "fpo", obj: "tracker", desc: "Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.", name: "First Page Only", display: !0, doclink: "//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html", version: "3.0", depricated: !1 }, inList: { id: "il", obj: "tracker", desc: "Check whether a value already exists within either a delimited list of values or a JavaScript array object.", name: "In List", display: !0, version: "3.0", depricated: !1 }, zeroPad: { display: !1, version: "1.0", depricated: !0 }, cleanStr: { id: "cs", obj: "window", desc: "Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ", name: "Clean String", display: !0, version: "2.0", depricated: !1 }, formatTime: { id: "ft", obj: "tracker", desc: 'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.', name: "Format Time", display: !0, version: "2.0", depricated: !1 }, getValOnce: { id: "gvo", obj: "tracker", desc: "Prevents a variable from being set equal to the same value on consecutive calls.", name: "Value Once", display: !0, version: "3.0", depricated: !1 }, manageVars: { id: "mv", obj: "tracker", desc: "Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.", name: "Manage Variables", display: !0, version: "3.0", depricated: !1 }, getPageName: { id: "gpn", obj: "window", desc: 'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.', name: "Page Name", display: !0, version: "4.2", depricated: !1, dataElement: !0 }, getVisitNum: { id: "gvn", obj: "tracker", desc: 'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).', name: "Visit Number", display: !0, version: "4.2", depricated: !1, dataElement: !0 }, twoDecimals: { display: !1, version: "1.0", depricated: !0 }, getNewRepeat: { id: "gnr", obj: "tracker", desc: "Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.", name: "New Repeat", display: !0, version: "3.0", depricated: !1, dataElement: !0 }, randomNumber: { display: !1, version: "1.0", depricated: !0 }, getQueryParam: { id: "gqp", obj: "tracker", desc: 'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.', name: "Query Parameter", display: !0, version: "4.0.1", depricated: !1 }, lowerCaseVars: { display: !1, version: "1.0", depricated: !1 }, addProductEvar: { id: "apv", obj: "tracker", desc: "Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.", name: "Add Product eVar", display: !0, version: "2.0", depricated: !1 }, getTimeParting: { id: "gtp", obj: "window", desc: "Capture the details of the time when any measurable activity takes place on its site.", name: "Time Parting", display: !0, version: "6.3", depricated: !1, dataElement: !0 }, addProductEvent: { id: "ape", obj: "tracker", desc: "Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.", name: "Add Product Event", display: !0, version: "2.0", depricated: !1 }, endOfDatePeriod: { id: "eodp", display: !1, version: "1.2", depricated: !1 }, getPageLoadTime: { id: "gplt", obj: "tracker", desc: 'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.', name: "Page Load Time", display: !0, version: "2.0", depricated: !1 }, handlePPVevents: { display: !1, version: "4.0", depricated: !1 }, getPreviousValue: { id: "gpv", obj: "tracker", desc: 'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.', name: "Previous Value", display: !0, version: "3.0", depricated: !1 }, getVisitDuration: { id: "gvd", obj: "tracker", desc: "Amount of time (in minutes) that the visitor has been on the site up to that point.", name: "Visit Duration", display: !0, version: "2.1", depricated: !1, dataElement: !0 }, performanceCheck: { display: !1, version: "1.0", depricated: !1 }, getGeoCoordinates: { id: "ggc", obj: "tracker", desc: "Returns the geographic location (latitude and longitude) of the visitors device.", name: "Geographic Coordinates", display: !0, version: "2.0", depricated: !1, dataElement: !0 }, getTimeToComplete: { id: "gttc", obj: "tracker", desc: 'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.', name: "Time To Complete", display: !0, version: "4.0", depricated: !1 }, getAndPersistValue: { id: "gapv", obj: "tracker", desc: "Stores a value in a cookie that can be retrieved later during a visit.", name: "Persist Value", display: !0, version: "3.0", depricated: !1 }, getResponsiveLayout: { id: "grl", obj: "window", desc: "Which version of your responsive design-based website a visitor is currently looking at.", name: "Responsive Layout", display: !0, version: "1.1", depricated: !1, dataElement: !0 }, getPercentPageViewed: { id: "gppv", obj: "tracker", desc: "Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.", name: "Percent Page Viewed", display: !0, version: "5.0", depricated: !1 }, getTimeBetweenEvents: { id: "gtbe", obj: "tracker", desc: 'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.', name: "Time Between Events", display: !0, version: "3.0", depricated: !1 }, performanceWriteFull: { display: !1, version: "1.0", depricated: !1 }, performanceWritePart: { display: !1, version: "1.0", depricated: !1 }, getDaysSinceLastVisit: { id: "gdslv", obj: "tracker", desc: "Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.", name: "Days Since Last Visit", display: !0, doclink: "//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html", version: "3.0", depricated: !0 }, getTimeSinceLastVisit: { id: "gtslv", obj: "tracker", desc: "Returns the time since the visitor's last (most recent) visit.", name: "Time Since Last Visit", display: !0, version: "2.0", depricated: !1 } }, modules: {
                "common-analytics-plugins/src/lib/actions/initializeApl.js": { name: "initialize-apl", displayName: "Initialize APL (Append To List)", script: function (e, t, s) { "use strict"; s("./common").init("apl", "analytics"), s("./common").init("inList", "analytics"), e.exports = function () { } } }, "common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js": { name: "initialize-gettimeparting", displayName: "Initialize getTimeParting", script: function (e, t, s) { "use strict"; s("./common").init("getTimeParting", "window"), e.exports = function () { } } }, "common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js": { name: "initialize-getpreviousvalue", displayName: "Initialize getPreviousValue", script: function (e, t, s) { "use strict"; s("./common").init("getPreviousValue", "analytics"), e.exports = function () { } } }, "common-analytics-plugins/src/lib/actions/initializeRfl.js": { name: "initialize-rfl", displayName: "Initialize RFL (Remove From List)", script: function (e, t, s) { "use strict"; s("./common").init("rfl", "analytics"), e.exports = function () { } } }, "common-analytics-plugins/src/lib/main-module.js": { script: function (e, t, s, a) { "use strict"; a.getSharedModule("adobe-analytics", "get-tracker") || a.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property (' + _satellite.property.name + ') in order to use the "Common Analytics Plugins" extension'), a.getSharedModule("adobe-analytics", "augment-tracker")((function (e) { if ("object" == typeof e.contextData && "object" == typeof window.aaPlugins) for (var t in window.aaPlugins) e.contextData[t] = window.aaPlugins[t] })) } }, "common-analytics-plugins/src/lib/actions/common.js": { script: function (e, t, s, a) { "use strict"; var o = function (e, t) { return "analytics" === e || void 0 === e ? t : "window" === e ? window : null }, n = function (e, t, a) { t[e] = s("../plugins/allPlugins")[e]; var o = a.contextData || {}, n = r(e, t); "n/a" === n.version && (n = i(e)), o[e] = n.version }, r = function (e, t) { var s, a = { plugin: e, version: "n/a" }; try { s = t[e]("-v") } catch (e) { s = {} } try { ("string" != typeof s.plugin || s.plugin.length < 1) && (s = a) } catch (e) { s = a } return s }, i = function (e) { var t = a.getExtensionSettings(), s = { plugin: e, version: "n/a" }; try { s.version = t[e].version } catch (e) { s.version = "n/a" } return s }; e.exports.init = function (e, t) { a.getSharedModule("adobe-analytics", "augment-tracker")((function (s) { s && (t = o(t, s), e && t && n(e, t, s)) })) }, e.exports.initMany = function (e) { var t; a.getSharedModule("adobe-analytics", "augment-tracker")((function (s) { if (s) for (var a = 0; a < e.length; a++)t = o(e[a].obj, s), e[a].pname && t && n(e[a].pname, t, s) })) } } }, "common-analytics-plugins/src/lib/plugins/allPlugins.js": {
                    script: function (e, t, s) {
                        e.exports.addProductEvar = s("./addProductEvar").addProductEvar, e.exports.addProductEvent = s("./addProductEvent").addProductEvent, e.exports.apl = s("./apl").apl, e.exports.cleanStr = s("./cleanStr").cleanStr, e.exports.endOfDatePeriod = s("./endOfDatePeriod").endOfDatePeriod, e.exports.formatTime = s("./formatTime").formatTime, e.exports.getAndPersistValue = s("./getAndPersistValue").getAndPersistValue, e.exports.getDaysSinceLastVisit = s("./getDaysSinceLastVisit").getDaysSinceLastVisit, e.exports.getGeoCoordinates = s("./getGeoCoordinates").getGeoCoordinates, e.exports.getNewRepeat = s("./getNewRepeat").getNewRepeat, e.exports.getPageLoadTime = s("./getPageLoadTime").getPageLoadTime, e.exports.getPageName = s("./getPageName").getPageName, e.exports.getPreviousValue = s("./getPreviousValue").getPreviousValue, e.exports.getQueryParam = s("./getQueryParam").getQueryParam,
                        e.exports.getResponsiveLayout = s("./getResponsiveLayout").getResponsiveLayout, e.exports.getTimeBetweenEvents = s("./getTimeBetweenEvents").getTimeBetweenEvents, e.exports.getTimeParting = s("./getTimeParting").getTimeParting, e.exports.getTimeSinceLastVisit = s("./getTimeSinceLastVisit").getTimeSinceLastVisit, e.exports.getTimeToComplete = s("./getTimeToComplete").getTimeToComplete, e.exports.getValOnce = s("./getValOnce").getValOnce, e.exports.getVisitDuration = s("./getVisitDuration").getVisitDuration, e.exports.getVisitNum = s("./getVisitNum").getVisitNum, e.exports.inList = s("./inList").inList, e.exports.lowerCaseVars = s("./lowerCaseVars").lowerCaseVars, e.exports.manageVars = s("./manageVars").manageVars, e.exports.p_fo = s("./p_fo").p_fo, e.exports.performanceCheck = s("./performanceCheck").performanceCheck, e.exports.performanceWriteFull = s("./performanceWriteFull").performanceWriteFull, e.exports.performanceWritePart = s("./performanceWritePart").performanceWritePart, e.exports.handlePPVevents = s("./handlePPVevents").handlePPVevents, e.exports.getPercentPageViewed = s("./getPercentPageViewed").getPercentPageViewed, e.exports.pt = s("./pt").pt, e.exports.rfl = s("./rfl").rfl, e.exports.twoDecimals = s("./twoDecimals").twoDecimals, e.exports.zeroPad = s("./zeroPad").zeroPad, e.exports.randomNumber = s("./randomNumber").randomNumber
                    }
                }, "common-analytics-plugins/src/lib/plugins/addProductEvar.js": { script: function (e) { function t(e, t, s) { var a = e, o = t, n = s; if ("-v" === a) return { plugin: "addProductEvar", version: "2.0" }; e: { if (void 0 !== window.s_c_il) for (var r, i = 0; i < window.s_c_il.length; i++)if ((r = window.s_c_il[i])._c && "s_c" === r._c) { i = r; break e } i = void 0 } if (void 0 !== i && (i.contextData.addProductEvar = "2.0", "string" == typeof a && "string" == typeof o && "" !== o)) if (n = n || !1, i.products) { var c, d = (r = i.products.split(",")).length; for (n = n ? 0 : d - 1; n < d; n++)(c = r[n].split(";"))[5] && -1 < c[5].toLowerCase().indexOf("evar") ? c[5] = c[5] + "|" + a + "=" + o : c[5] ? c[5] = a + "=" + o : c[5] || (c[4] || (c[4] = ""), c[3] || (c[3] = ""), c[2] || (c[2] = ""), c[1] || (c[1] = ""), c[5] = a + "=" + o), r[n] = c.join(";"); i.products = r.join(",") } else i.products = ";;;;;" + a + "=" + o } e.exports.addProductEvar = t } }, "common-analytics-plugins/src/lib/plugins/addProductEvent.js": { script: function (e) { function t(e, t, s) { var o = e, n = t, r = s; if ("-v" === o) return { plugin: "addProductEvent", version: "2.0" }; var i = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== i && (i.contextData.addProductEvent = "2.0", window.apl = window.apl || function (e, t, s, o, n) { function r(e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 } if (!e || "string" == typeof e) { if ("string" != typeof t || "" === t) return e; s = s || ",", 1 == (o = o || s) && (o = s, n || (n = 1)), 2 == o && 1 != n && (o = s), t = t.split(","), k = t.length; for (var i = 0; i < k; i++)r(e, t[i], s, n) || (e = e ? e + o + t[i] : t[i]) } return e }, "string" == typeof o)) if (n = isNaN(n) ? "1" : String(n), r = r || !1, i.events = window.apl(i.events, o), i.products) { var c, d = i.products.split(","), l = d.length; for (r = r ? 0 : l - 1; r < l; r++)(c = d[r].split(";"))[4] && -1 < c[4].indexOf("event") ? c[4] = c[4] + "|" + o + "=" + n : c[5] ? c[4] = o + "=" + n : c[4] || (c[3] || (c[3] = ""), c[2] || (c[2] = ""), c[1] || (c[1] = ""), c[4] = o + "=" + n), d[r] = c.join(";"); i.products = d.join(",") } else i.products = ";;;;" + o + "=" + n } e.exports.addProductEvent = t } }, "common-analytics-plugins/src/lib/plugins/apl.js": { script: function (e) { function t(e, t, s, o, n) { var r = e, i = t, c = s, d = o, l = n; if ("-v" === r) return { plugin: "apl", version: "4.0" }; var u = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== u && (u.contextData.apl = "4.0"), window.inList = window.inList || function (e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 }, !r || "string" == typeof r) { if ("string" != typeof i || "" === i) return r; c = c || ",", 1 == (d = d || c) && (d = c, l || (l = 1)), 2 == d && 1 != l && (d = c), u = (i = i.split(",")).length; for (var m = 0; m < u; m++)window.inList(r, i[m], c, l) || (r = r ? r + d + i[m] : i[m]) } return r } e.exports.apl = t } }, "common-analytics-plugins/src/lib/plugins/cleanStr.js": { script: function (e) { function t(e) { var t = e; if ("-v" === t) return { plugin: "cleanStr", version: "2.0" }; e: { if (void 0 !== window.s_c_il) for (var s, a = 0; a < window.s_c_il.length; a++)if ((s = window.s_c_il[a])._c && "s_c" === s._c) { a = s; break e } a = void 0 } if (void 0 !== a && (a.contextData.cleanStr = "2.0"), "string" == typeof t) { for (t = (t = (t = (t = (t = t.replace(/<\/?[^>]+(>|$)/g, "")).trim()).replace(/[\u2018\u2019\u201A]/g, "'")).replace(/\t+/g, "")).replace(/[\n\r]/g, " "); -1 < t.indexOf("  ");)t = t.replace(/\s\s/g, " "); return t } return "" } e.exports.cleanStr = t } }, "common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js": { script: function (e) { function t(e) { var t = e; if ("-v" === t) return { plugin: "endOfDatePeriod", version: "1.2" }; var s = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== s && (s.contextData.endOfDatePeriod = "1.2"), s = new Date; var a = isNaN(t) ? 0 : Math.floor(t), o = function (e, t) { return new Date(t || 1970, e || 1, 0).getDate() }; return s.setHours(23), s.setMinutes(59), s.setSeconds(59), "w" === t && (a = 6 - s.getDay()), "m" === t && (a = o(s.getMonth() + 1, s.getFullYear()) - s.getDate()), s.setDate(s.getDate() + a), "y" === t && (s.setMonth(11), s.setDate(31)), s } e.exports.endOfDatePeriod = t } }, "common-analytics-plugins/src/lib/plugins/formatTime.js": { script: function (e) { function t(e, t, s) { function o(e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 } var n = e, r = t, i = s; if (arguments && "-v" === arguments[0]) return { plugin: "formatTime", version: "2.0" }; var c = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== c && (c.contextData.formatTime = "2.0"), !(void 0 === n || isNaN(n) || 0 > Number(n))) { if (c = "", "string" == typeof r && "d" === r || ("string" != typeof r || !o("h,m,s", r)) && 86400 <= n) { var d = 86400, l = "days"; c = isNaN(i) ? 1 : d / (i * d) } else "string" == typeof r && "h" === r || ("string" != typeof r || !o("m,s", r)) && 3600 <= n ? (d = 3600, l = "hours", c = isNaN(i) ? 4 : d / (i * d)) : "string" == typeof r && "m" === r || ("string" != typeof r || !o("s", r)) && 60 <= n ? (d = 60, l = "minutes", c = isNaN(i) ? 2 : d / (i * d)) : (d = 1, l = "seconds", c = isNaN(i) ? .2 : d / i); return 0 === (c = Math.round(n * c / d) / c + " " + l).indexOf("1 ") && (c = c.substring(0, c.length - 1)), c } } e.exports.formatTime = t } }, "common-analytics-plugins/src/lib/plugins/getAndPersistValue.js": { script: function (e) { function t(e, t, s) { var a = e, o = t, n = s; if (void 0 !== a && "-v" === a) return { plugin: "getAndPersistValue", version: "3.0.1" }; var r = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); return void 0 !== r && (r.contextData.getAndPersistValue = "3.0.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, r = new Date, o = o || "s_gapv", (n = n || 0) ? r.setTime(r.getTime() + 864e5 * n) : r.setTime(r.getTime() + 18e5), void 0 !== a && a || (a = cookieRead(o)), cookieWrite(o, a, r), a } e.exports.getAndPersistValue = t } }, "common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js": { script: function (e) { function t() { var e = new Date, t = e.getTime(), s = this.c_r("s_dslv"); if (e.setTime(t + 94608e6), this.c_w("s_dslv", t, e), s) { if (18e5 < (e = t - s)) { if (31536e6 < e) return "More than a year"; if (2592e6 < e) return "More than 30 days"; if (e < 2592000001 && 6048e5 < e) return "More than 7 days"; if (e < 604800001 && 864e5 < e) return "Less than 7 days"; if (e < 86400001) return "Less than 1 day" } return "" } return "New Visitor" } e.exports.getDaysSinceLastVisit = t } }, "common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js": { script: function (e) { function t() { if (arguments && "-v" === arguments[0]) return { plugin: "getGeoCoordinates", version: "2.0.1" }; var e = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== e && (e.contextData.getGeoCoordinates = "2.0.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }; var t = "", s = { timeout: 5e3, maximumAge: 0 }, a = function (e) { e = e.coords, cookieWrite("s_ggc", parseFloat(e.latitude.toFixed(4)) + "|" + parseFloat(e.longitude.toFixed(4)), 30), t = "latitude=" + parseFloat(e.latitude.toFixed(4)) + " | longitude=" + parseFloat(e.longitude.toFixed(4)) }, o = function () { t = "error retrieving geo coordinates" }; return 1 < (e = cookieRead("s_ggc").split("|")).length && (t = "latitude=" + e[0] + " | longitude=" + e[1]), navigator.geolocation && navigator.geolocation.getCurrentPosition(a, o, s), "" === t && (t = "geo coordinates not available"), t } e.exports.getGeoCoordinates = t } }, "common-analytics-plugins/src/lib/plugins/getNewRepeat.js": { script: function (e) { function t(e) { var t = e; if ("-v" === t) return { plugin: "getNewRepeat", version: "3.0.1" }; void 0 !== (e = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }()) && (e.contextData.getNewRepeat = "3.0.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, e = "s_nr" + (t = t || 30); var s = new Date, a = cookieRead(e), o = a.split("-"), n = s.getTime(); return s.setTime(n + 864e5 * t), "" === a || 18e5 > n - o[0] && "New" === o[1] ? (cookieWrite(e, n + "-New", s), "New") : (cookieWrite(e, n + "-Repeat", s), "Repeat") } e.exports.getNewRepeat = t } }, "common-analytics-plugins/src/lib/plugins/getPageLoadTime.js": { script: function (e) { function t() { function e() { var e = performance.timing; if (0 < e.loadEventEnd && (clearInterval(window.pi), "" === window.cookieRead("s_plt"))) { var t = window, s = t.cookieWrite, a = e.loadEventEnd, o = e.navigationStart; a = 0 <= a && 0 <= o ? 6e4 > a - o && 0 <= a - o ? parseFloat((a - o) / 1e3).toFixed(2) : 60 : void 0, s.call(t, "s_plt", a), window.cookieWrite("s_pltp", window.pageName) } window.ptc = e.loadEventEnd } if (arguments && "-v" === arguments[0]) return { plugin: "getPageLoadTime", version: "2.0.2" }; var t = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== t && (t.contextData.getPageLoadTime = "2.0.2"), window.pageName = void 0 !== t && t.pageName || "", window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, window.p_fo = window.p_fo || function (e) { return window.__fo || (window.__fo = {}), !window.__fo[e] && (window.__fo[e] = {}, !0) }, "undefined" != typeof performance && p_fo("performance") && ((t = performance).clearResourceTimings(), "" !== window.cookieRead("s_plt") && (0 < t.timing.loadEventEnd && clearInterval(window.pi), this._pltLoadTime = window.cookieRead("s_plt"), this._pltPreviousPage = window.cookieRead("s_pltp"), window.cookieWrite("s_plt", ""), window.cookieWrite("s_pltp", "")), 0 === t.timing.loadEventEnd ? window.pi = setInterval((function () { e() }), 250) : 0 < t.timing.loadEventEnd && (window.ptc ? window.ptc === t.timing.loadEventEnd && 1 === t.getEntries().length && (window.pwp = setInterval((function () { var e = performance; 0 < e.getEntries().length && (window.ppfe === e.getEntries().length ? clearInterval(window.pwp) : window.ppfe = e.getEntries().length), "" === window.cookieRead("s_plt") && (window.cookieWrite("s_plt", ((e.getEntries()[e.getEntries().length - 1].responseEnd - e.getEntries()[0].startTime) / 1e3).toFixed(2)), window.cookieWrite("s_pltp", window.pageName)) }), 500)) : e())) } e.exports.getPageLoadTime = t } }, "common-analytics-plugins/src/lib/plugins/getPageName.js": { script: function (e) { var t = function (e, t, s, a) { var o = e, n = t, r = s, i = a; if ("-v" === o) return { plugin: "getPageName", version: "4.2" }; e: { if (void 0 !== window.s_c_il) for (var c, d = 0; d < window.s_c_il.length; d++)if ((c = window.s_c_il[d])._c && "s_c" === c._c) { d = c; break e } d = void 0 } void 0 !== d && (d.contextData.getPageName = "4.2"); var l = location.hostname, u = location.pathname.substring(1).split("/"), m = u.length, b = location.search.substring(1).split("&"), p = b.length; if (c = (d = location.hash.substring(1).split("&")).length, i = i || "|", o = o || l, n = n || "", r = r || "", 1 === m && "" === u[0]) o = o + i + "home"; else for (l = 0; l < m; l++)o = o + i + decodeURIComponent(u[l]); if (n && (1 !== p || "" !== b[0])) for (m = (u = n.split(",")).length, l = 0; l < m; l++)for (n = 0; n < p; n++)if (u[l] === b[n].split("=")[0]) { o = o + i + decodeURIComponent(b[n]); break } if (r && (1 !== c || "" !== d[0])) for (b = (r = r.split(",")).length, l = 0; l < b; l++)for (n = 0; n < c; n++)if (r[l] === d[n].split("=")[0]) { o = o + i + decodeURIComponent(d[n]); break } return o.substring(o.length - i.length) === i ? o.substring(0, o.length - i.length) : o }; e.exports.getPageName = t } }, "common-analytics-plugins/src/lib/plugins/getPreviousValue.js": { script: function (e) { function t(e, t) { var s = e, a = t; if ("-v" === s) return { plugin: "getPreviousValue", version: "3.0.1" }; var o, n = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); return void 0 !== n && (n.contextData.getPreviousValue = "3.0.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, a = a || "s_gpv", (n = new Date).setTime(n.getTime() + 18e5), window.cookieRead(a) && (o = window.cookieRead(a)), s ? window.cookieWrite(a, s, n) : window.cookieWrite(a, o, n), o } e.exports.getPreviousValue = t } }, "common-analytics-plugins/src/lib/plugins/getQueryParam.js": { script: function (e) { function t(e, t, s) { function a(e, t) { var s = (t = (t = t.split("?").join("&")).split("#").join("&")).indexOf("&"); if (e && (-1 < s || t.indexOf("=") > s)) for (var a = 0, o = (s = (s = t.substring(s + 1)).split("&")).length; a < o; a++) { var n = s[a].split("="), r = n[1]; if (n[0].toLowerCase() === e.toLowerCase()) return decodeURIComponent(r || !0) } return "" } if ("-v" === e) return { plugin: "getQueryParam", version: "4.0.1" }; var o = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== o && (o.contextData.getQueryParam = "4.0"), e) { t = t || "", s = (s || void 0 !== o && o.pageURL || location.href) + "", (4 < t.length || -1 < t.indexOf("=")) && s && 4 > s.length && (o = t, t = s, s = o), o = ""; for (var n = e.split(","), r = n.length, i = 0; i < r; i++)"string" == typeof (e = a(n[i], s)) ? (e = -1 < e.indexOf("#") ? e.substring(0, e.indexOf("#")) : e, o += o ? t + e : e) : o = "" === o ? e : o + (t + e); return o } } e.exports.getQueryParam = t } }, "common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js": { script: function (e) { var t = function (e, t, s) { var a = e, o = t, n = s; if ("-v" === a) return { plugin: "getResponsiveLayout", version: "1.1" }; e: { if (void 0 !== window.s_c_il) for (var r, i = 0; i < window.s_c_il.length; i++)if ((r = window.s_c_il[i])._c && "s_c" === r._c) { i = r; break e } i = void 0 } return void 0 !== i && (i.contextData.getResponsiveLayout = "1.1"), isNaN(a) || isNaN(o) || isNaN(n) || o < a || n < o ? void 0 : (i = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, (a < o && i <= o ? i <= a ? "phone portrait layout" : "phone landscape layout" : i <= o ? "phone layout" : i <= n ? "tablet layout" : "desktop layout") + ":" + i + "x" + (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight)) }; e.exports.getResponsiveLayout = t } }, "common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js": { script: function (e) { function t(e, t, s, o, n, r, i, c, d) { var l = e, u = t, m = s, b = o, p = n, f = r, v = i, h = c, P = d; if ("-v" === l) return { plugin: "getTimeBetweenEvents", version: "3.0.1" }; var j = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== j && (j.contextData.getTimeBetweenEvents = "3.0.1", window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), void 0 === window.cookieRead)) && window.cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, window.formatTime = window.formatTime || function (e, t, s) { function o(e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 } if (!(void 0 === e || isNaN(e) || 0 > Number(e))) { var n = ""; return "string" == typeof t && "d" === t || ("string" != typeof t || !o("h,m,s", t)) && 86400 <= e ? (t = 86400, n = "days", s = isNaN(s) ? 1 : t / (s * t)) : "string" == typeof t && "h" === t || ("string" != typeof t || !o("m,s", t)) && 3600 <= e ? (t = 3600, n = "hours", s = isNaN(s) ? 4 : t / (s * t)) : "string" == typeof t && "m" === t || ("string" != typeof t || !o("s", t)) && 60 <= e ? (t = 60, n = "minutes", s = isNaN(s) ? 2 : t / (s * t)) : (t = 1, n = "seconds", s = isNaN(s) ? .2 : t / s), 0 === (n = Math.round(e * s / t) / s + " " + n).indexOf("1 ") && (n = n.substring(0, n.length - 1)), n } }, window.inList = window.inList || function (e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 }, "string" == typeof l && void 0 !== u && "string" == typeof m && void 0 !== b)) { p = p || "s_tbe", f = isNaN(f) ? 1 : Number(f); var C = !1, y = !1, w = l.split(","), R = m.split(","); P = P ? P.split(",") : []; for (var x, E = window.cookieRead(p), T = new Date, I = T.getTime(), _ = new Date, A = 0; A < P.length; ++A)if (window.inList(j.events, P[A])) return _.setDate(_.getDate() - 1), void window.cookieWrite(p, "", _); for (_.setTime(_.getTime() + 864e5 * f), A = 0; A < w.length && !C && !0 !== (C = window.inList(j.events, w[A])); ++A); for (A = 0; A < R.length && !y && !0 !== (y = window.inList(j.events, R[A])); ++A); return 1 === w.length && 1 === R.length && l === m && C && y ? (E && (x = (I - E) / 1e3), window.cookieWrite(p, I, f ? _ : 0)) : (!C || 1 != u && E || window.cookieWrite(p, I, f ? _ : 0), y && E && (x = (T.getTime() - E) / 1e3, !0 === b && (_.setDate(_.getDate() - 1), window.cookieWrite(p, "", _)))), x ? window.formatTime(x, v, h) : "" } } e.exports.getTimeBetweenEvents = t } }, "common-analytics-plugins/src/lib/plugins/getTimeParting.js": { script: function (e) { function t(e) { var t = e; if ("-v" === e) return { plugin: "getTimeParting", version: "6.3" }; e: { if (void 0 !== window.s_c_il) for (var s, a = 0; a < window.s_c_il.length; a++)if ((s = window.s_c_il[a])._c && "s_c" === s._c) { a = s; break e } a = void 0 } return void 0 !== a && (a.contextData.getTimeParting = "6.3"), t = document.documentMode ? void 0 : t || "Etc/GMT", a = (new Date).toLocaleDateString("en-US", { timeZone: t, minute: "numeric", hour: "numeric", weekday: "long", day: "numeric", year: "numeric", month: "long" }), "year=" + (a = /([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4] + " | month=" + a[2] + " | date=" + a[3] + " | day=" + a[1] + " | time=" + (a[6] + a[7]) } e.exports.getTimeParting = t } }, "common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js": { script: function (e) { function t() { if (arguments && "-v" === arguments[0]) return { plugin: "getTimeSinceLastVisit", version: "2.0.1" }; var e = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== e && (e.contextData.getTimeSinceLastVisit = "2.0.1"), window.formatTime = window.formatTime || function (e, t, s) { function o(e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 } if (!(void 0 === e || isNaN(e) || 0 > Number(e))) { var n = ""; return "string" == typeof t && "d" === t || ("string" != typeof t || !o("h,m,s", t)) && 86400 <= e ? (t = 86400, n = "days", s = isNaN(s) ? 1 : t / (s * t)) : "string" == typeof t && "h" === t || ("string" != typeof t || !o("m,s", t)) && 3600 <= e ? (t = 3600, n = "hours", s = isNaN(s) ? 4 : t / (s * t)) : "string" == typeof t && "m" === t || ("string" != typeof t || !o("s", t)) && 60 <= e ? (t = 60, n = "minutes", s = isNaN(s) ? 2 : t / (s * t)) : (t = 1, n = "seconds", s = isNaN(s) ? .2 : t / s), 0 === (n = Math.round(e * s / t) / s + " " + n).indexOf("1 ") && (n = n.substring(0, n.length - 1)), n } }, window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }; var t = (e = new Date).getTime(), s = cookieRead("s_tslv") || 0, o = Math.round((t - s) / 1e3); return e.setTime(t + 63072e6), cookieWrite("s_tslv", t, e), s ? 1800 < o || cookieRead("s_inv") ? (cookieRead("s_inv") && (o = cookieRead("s_inv")), cookieWrite("s_inv", o, 30), "0" !== o ? formatTime(o) : "New Visitor") : "" : (cookieWrite("s_inv", "0", 30), "New Visitor") } e.exports.getTimeSinceLastVisit = t } }, "common-analytics-plugins/src/lib/plugins/getTimeToComplete.js": { script: function (e) { function t(e, t, s, o) { var n = e, r = t, i = s, c = o; if ("-v" === n) return { plugin: "getTimeToComplete", version: "4.0.1" }; var d = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== d && (d.contextData.getTimeToComplete = "4.0.1"), window.formatTime = window.formatTime || function (e, t, s) { function o(e, t, s, o) { if ("string" != typeof t) return !1; if ("string" == typeof e) e = e.split(s || ","); else if ("object" != typeof e) return !1; for (s = 0, a = e.length; s < a; s++)if (1 == o && t === e[s] || t.toLowerCase() === e[s].toLowerCase()) return !0; return !1 } if (!(void 0 === e || isNaN(e) || 0 > Number(e))) { var n = ""; return "string" == typeof t && "d" === t || ("string" != typeof t || !o("h,m,s", t)) && 86400 <= e ? (t = 86400, n = "days", s = isNaN(s) ? 1 : t / (s * t)) : "string" == typeof t && "h" === t || ("string" != typeof t || !o("m,s", t)) && 3600 <= e ? (t = 3600, n = "hours", s = isNaN(s) ? 4 : t / (s * t)) : "string" == typeof t && "m" === t || ("string" != typeof t || !o("s", t)) && 60 <= e ? (t = 60, n = "minutes", s = isNaN(s) ? 2 : t / (s * t)) : (t = 1, n = "seconds", s = isNaN(s) ? .2 : t / s), 0 === (n = Math.round(e * s / t) / s + " " + n).indexOf("1 ") && (n = n.substring(0, n.length - 1)), n } }, window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, "stop" === (n = n ? n.toLowerCase() : "start") || "start" === n) { if (r = r || "s_gttc", c ? c = "d" === c ? 864e5 : "h" === c ? 36e5 : "s" === c ? 1e3 : 6e4 : (i = 30, c = 6e4), i = isNaN(i) ? 30 : i, i *= c, d = cookieRead(r), c = new Date, "stop" === n && d) return i = Math.round((c.getTime() - d) / 1e3), cookieWrite(r, "", 0), formatTime(i); "start" !== n || d ? d && Number(d) < c.getTime() + 18e5 && cookieWrite(r, d, 30) : (n = String(c.getTime()), c.setTime(c.getTime() + i), cookieWrite(r, n, c)) } } e.exports.getTimeToComplete = t } }, "common-analytics-plugins/src/lib/plugins/getValOnce.js": { script: function (e) { function t(e, t, s, a) { var o = e, n = t, r = s, i = a; if (arguments && "-v" === arguments[0]) return { plugin: "getValOnce", version: "3.0.1" }; var c = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); return void 0 !== c && (c.contextData.getValOnce = "3.0.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, o && (n = n || "s_gvo", r = r || 0, i = "m" === i ? 6e4 : 864e5, o !== this.c_r(n)) ? ((c = new Date).setTime(c.getTime() + r * i), cookieWrite(n, o, 0 === r ? 0 : i), o) : "" } e.exports.getValOnce = t } }, "common-analytics-plugins/src/lib/plugins/getVisitDuration.js": { script: function (e) { function t() { if (arguments && "-v" === arguments[0]) return { plugin: "getVisitDuration", version: "2.1.1" }; var e = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== e && (e.contextData.getVisitDuration = "2.1.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), "undefined" == typeof cookieRead)) && cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, e = (new Date).getTime(); var t = cookieRead("s_dur"), s = 0; return (isNaN(t) || 18e5 < e - t) && (t = e), s = e - t, cookieWrite("s_dur", t + "", 30), 0 === s ? "first hit of visit" : 0 === (s = Math.floor(s / 6e4)) ? "less than a minute" : 1 === s ? "1 minute" : s + " minutes" } e.exports.getVisitDuration = t } }, "common-analytics-plugins/src/lib/plugins/getVisitNum.js": {
                    script: function (e) {
                        function t(e, t) {
                            function s(e) { return !isNaN(e) && (0 | parseFloat(e)) === parseFloat(e) } function a(e) { var t = new Date, s = isNaN(e) ? 0 : Math.floor(e); if (t.setHours(23), t.setMinutes(59), t.setSeconds(59), "w" === e && (s = 6 - t.getDay()), "m" === e) { s = t.getMonth() + 1; var a = t.getFullYear(); s = new Date(a || 1970, s || 1, 0).getDate() - t.getDate() } return t.setDate(t.getDate() + s), "y" === e && (t.setMonth(11), t.setDate(31)), t } var o = e, n = t; if ("-v" === o) return { plugin: "getVisitNum", version: "4.2.1" }; var r = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== r && (r.contextData.getVisitNum = "4.2.1"), window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), void 0 === window.cookieRead)) && window.cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, o = o || 365, n = void 0 !== n ? !!n : !!s(o); var i = (new Date).getTime(); if (r = a(o), window.cookieRead("s_vnc" + o)) var c = window.cookieRead("s_vnc" + o).split("&vn="), d = c[1]; return window.cookieRead("s_ivc") ? d ? (window.cookieWrite("s_ivc", !0, 30), d) : "unknown visit number" : void 0 !== d ? (d++, c = n && s(o) ? i + 864e5 * o : c[0], r.setTime(c), window.cookieWrite("s_vnc" + o, c + "&vn=" + d, r), window.cookieWrite("s_ivc", !0, 30), d) : (c = s(o) ? i + 864e5 * o : a(o).getTime(), window.cookieWrite("s_vnc" + o, c + "&vn=1", r),
                                window.cookieWrite("s_ivc", !0, 30), "1")
                        } e.exports.getVisitNum = t
                    }
                }, "common-analytics-plugins/src/lib/plugins/inList.js": { script: function (e) { function t(e, t, s, a) { var o = e, n = t, r = s, i = a; if ("-v" === o) return { plugin: "inList", version: "3.0" }; e: { if (void 0 !== window.s_c_il) for (var c = 0; c < window.s_c_il.length; c++)if ((s = window.s_c_il[c])._c && "s_c" === s._c) { c = s; break e } c = void 0 } if (void 0 !== c && (c.contextData.inList = "3.0"), "string" != typeof n) return !1; if ("string" == typeof o) o = o.split(r || ","); else if ("object" != typeof o) return !1; for (r = 0, c = o.length; r < c; r++)if (1 == i && n === o[r] || n.toLowerCase() === o[r].toLowerCase()) return !0; return !1 } e.exports.inList = t } }, "common-analytics-plugins/src/lib/plugins/lowerCaseVars.js": { script: function (e) { function t(e) { var t = this; t[e] && ("events" !== e && -1 === e.indexOf("contextData") ? (t[e] = t[e].toString(), 0 !== t[e].indexOf("D=") && (t[e] = t[e].toLowerCase())) : -1 < e.indexOf("contextData") && (e = e.substring(e.indexOf(".") + 1), t.contextData[e] && (t.contextData[e] = t.contextData[e].toString().toLowerCase()))) } e.exports.lowerCaseVars = t } }, "common-analytics-plugins/src/lib/plugins/manageVars.js": { script: function (e) { function t(e, t, s) { var a = e, o = t, n = s; if ("-v" === a) return { plugin: "manageVars", version: "3.0" }; var r = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); if (void 0 !== r) { if (r.contextData.manageVars = "3.0", r.blankVars = function (e) { this[e] && (0 > e.indexOf("contextData") ? this[e] = "" : (e = e.substring(e.indexOf(".") + 1), this.contextData[e] && (this.contextData[e] = ""))) }, r.lowerCaseVars = function (e) { this[e] && ("events" !== e && -1 === e.indexOf("contextData") ? (this[e] = this[e].toString(), 0 !== this[e].indexOf("D=") && (this[e] = this[e].toLowerCase())) : -1 < e.indexOf("contextData") && (e = e.substring(e.indexOf(".") + 1), this.contextData[e] && (this.contextData[e] = this.contextData[e].toString().toLowerCase()))) }, r.cleanStr = function (e) { function t(e) { if ("string" == typeof e) { for (e = e.replace(/<\/?[^>]+(>|$)/g, "").trim().replace(/[\u2018\u2019\u201A]/g, "'").replace(/\t+/g, "").replace(/[\n\r]/g, " "); -1 < e.indexOf("  ");)e = e.replace(/\s\s/g, " "); return e } return "" } this[e] && "function" == typeof t && (0 > e.indexOf("contextData") ? this[e] = t(this[e]) : (e = e.substring(e.indexOf(".") + 1), this.contextData[e] && (this.contextData[e] = t(this.contextData[e].toString())))) }, r.pt = function (e, t, s, a) { if (e && this[s]) { t = (e = e.split(t || ",")).length; for (var o, n = 0; n < t; n++)if (o = this[s](e[n], a)) return o } }, !r[a]) return !1; o = o || "", n = n || !0; var i, c = "pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID"; for (i = 1; 76 > i; i++)c += ",prop" + i; for (i = 1; 251 > i; i++)c += ",eVar" + i; for (i = 1; 6 > i; i++)c += ",hier" + i; for (i = 1; 4 > i; i++)c += ",list" + i; for (i in r.contextData) c += ",contextData." + i; if (o) { if (1 == n) c = o.replace("['", ".").replace("']", ""); else if (0 == n) { for (x in o = o.split(","), n = c.split(","), c = "", o) for (y in -1 < o[x].indexOf("contextData") && (o[x] = "contextData." + o[x].split("'")[1]), n) o[x] === n[y] && (n[y] = ""); for (y in n) c += n[y] ? "," + n[y] : "" } return r.pt(c, ",", a, 0), !0 } return !("" !== o || !n || (r.pt(c, ",", a, 0), 0)) } } e.exports.manageVars = t } }, "common-analytics-plugins/src/lib/plugins/p_fo.js": { script: function (e) { function t(e) { if ("-v" === e) return { plugin: "p_fo", version: "3.0" }; e: { if (void 0 !== window.s_c_il) for (var t, s = 0; s < window.s_c_il.length; s++)if ((t = window.s_c_il[s])._c && "s_c" === t._c) { s = t; break e } s = void 0 } return void 0 !== s && (s.contextData.p_fo = "3.0"), window.__fo || (window.__fo = {}), !window.__fo[e] && (window.__fo[e] = {}, !0) } e.exports.p_fo = t } }, "common-analytics-plugins/src/lib/plugins/performanceCheck.js": { script: function (e) { function t(e, t) { if (0 <= e && 0 <= t) return 6e4 > e - t && 0 <= e - t ? parseFloat((e - t) / 1e3).toFixed(2) : 60 } e.exports.performanceCheck = t } }, "common-analytics-plugins/src/lib/plugins/performanceWriteFull.js": { script: function (e) { function t() { var e = this, t = performance.timing; 0 < t.loadEventEnd && (clearInterval(e.pi), "" === e.c_r("s_plt") && (e.c_w("s_plt", e.performanceCheck(t.loadEventEnd, t.navigationStart)), e.c_w("s_pltp", e.pageName))), e.ptc = t.loadEventEnd } e.exports.performanceWriteFull = t } }, "common-analytics-plugins/src/lib/plugins/performanceWritePart.js": { script: function (e) { function t() { var e = this, t = performance; 0 < t.getEntries().length && (e.ppfe === t.getEntries().length ? clearInterval(e.pwp) : e.ppfe = t.getEntries().length), "" === e.c_r("s_plt") && (e.c_w("s_plt", ((t.getEntries()[t.getEntries().length - 1].responseEnd - t.getEntries()[0].startTime) / 1e3).toFixed(2)), e.c_w("s_pltp", e.pageName)) } e.exports.performanceWritePart = t } }, "common-analytics-plugins/src/lib/plugins/handlePPVevents.js": { script: function (e) { function t() { if ("undefined" != typeof s_c_il) { for (var e = 0, t = s_c_il.length; e < t; e++)if (s_c_il[e] && (s_c_il[e].getPercentPageViewed || s_c_il[e].getPreviousPageActivity)) { var s = s_c_il[e]; break } if (s && s.ppvID) { var a = Math.max(Math.max(document.body.scrollHeight, document.documentElement.scrollHeight), Math.max(document.body.offsetHeight, document.documentElement.offsetHeight), Math.max(document.body.clientHeight, document.documentElement.clientHeight)), o = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; e = (window.pageYOffset || window.document.documentElement.scrollTop || window.document.body.scrollTop) + o, t = Math.min(Math.round(e / a * 100), 100); var n = Math.floor(e / o); o = Math.floor(a / o); var r = ""; if (!s.c_r("s_tp") || s.unescape(s.c_r("s_ppv").split(",")[0]) !== s.ppvID || s.p_fo(s.ppvID) || 1 == s.ppvChange && s.c_r("s_tp") && a != s.c_r("s_tp")) { if ((s.unescape(s.c_r("s_ppv").split(",")[0]) !== s.ppvID || s.p_fo(s.ppvID + "1")) && s.c_w("s_ips", e), s.c_r("s_tp") && s.unescape(s.c_r("s_ppv").split(",")[0]) === s.ppvID) { s.c_r("s_tp"); var i = -1 < (r = s.c_r("s_ppv")).indexOf(",") ? r.split(",") : []; r = i[0] ? i[0] : "", i = i[3] ? i[3] : ""; var c = s.c_r("s_ips"); r = r + "," + Math.round(i / a * 100) + "," + Math.round(c / a * 100) + "," + i + "," + n } s.c_w("s_tp", a) } else r = s.c_r("s_ppv"); var d = r && -1 < r.indexOf(",") ? r.split(",", 6) : []; a = 0 < d.length ? d[0] : escape(s.ppvID), i = 1 < d.length ? parseInt(d[1]) : t, c = 2 < d.length ? parseInt(d[2]) : t; var l = 3 < d.length ? parseInt(d[3]) : e, u = 4 < d.length ? parseInt(d[4]) : n; d = 5 < d.length ? parseInt(d[5]) : o, 0 < t && (r = a + "," + (t > i ? t : i) + "," + c + "," + (e > l ? e : l) + "," + (n > u ? n : u) + "," + (o > d ? o : d)), s.c_w("s_ppv", r) } } } e.exports.handlePPVevents = t } }, "common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js": { script: function (e) { function t(e, t) { function s() { if (window.ppvID) { var e = Math.max(Math.max(document.body.scrollHeight, document.documentElement.scrollHeight), Math.max(document.body.offsetHeight, document.documentElement.offsetHeight), Math.max(document.body.clientHeight, document.documentElement.clientHeight)), t = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight, s = (window.pageYOffset || window.document.documentElement.scrollTop || window.document.body.scrollTop) + t, a = Math.min(Math.round(s / e * 100), 100), o = Math.floor(s / t); t = Math.floor(e / t); var n = ""; if (!window.cookieRead("s_tp") || decodeURIComponent(window.cookieRead("s_ppv").split(",")[0]) !== window.ppvID || window.p_fo(window.ppvID) || 1 == window.ppvChange && window.cookieRead("s_tp") && e != window.cookieRead("s_tp")) { if ((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0]) !== window.ppvID || window.p_fo(window.ppvID + "1")) && window.cookieWrite("s_ips", s), window.cookieRead("s_tp") && decodeURIComponent(window.cookieRead("s_ppv").split(",")[0]) === window.ppvID) { window.cookieRead("s_tp"); var r = -1 < (n = window.cookieRead("s_ppv")).indexOf(",") ? n.split(",") : []; n = r[0] ? r[0] : "", r = r[3] ? r[3] : ""; var i = window.cookieRead("s_ips"); n = n + "," + Math.round(r / e * 100) + "," + Math.round(i / e * 100) + "," + r + "," + o } window.cookieWrite("s_tp", e) } else n = window.cookieRead("s_ppv"); var c = n && -1 < n.indexOf(",") ? n.split(",", 6) : []; e = 0 < c.length ? c[0] : encodeURIComponent(window.ppvID), r = 1 < c.length ? parseInt(c[1]) : a, i = 2 < c.length ? parseInt(c[2]) : a; var d = 3 < c.length ? parseInt(c[3]) : s, l = 4 < c.length ? parseInt(c[4]) : o; c = 5 < c.length ? parseInt(c[5]) : t, 0 < a && (n = e + "," + (a > r ? a : r) + "," + i + "," + (s > d ? s : d) + "," + (o > l ? o : l) + "," + (t > c ? t : c)), window.cookieWrite("s_ppv", n) } } var a = e, o = t; if ("-v" === a) return { plugin: "getPercentPageViewed", version: "5.0.2" }; var n = function () { if (void 0 !== window.s_c_il) for (var e, t = 0; t < window.s_c_il.length; t++)if ((e = window.s_c_il[t])._c && "s_c" === e._c) return e }(); void 0 !== n && (n.contextData.getPercentPageViewed = "5.0.2"), window.pageName = void 0 !== n && n.pageName || "", window.cookieWrite = window.cookieWrite || function (e, t, s) { if ("string" == typeof e) { var a = window.location.hostname, o = window.location.hostname.split(".").length - 1; if (a && !/^[0-9.]+$/.test(a)) { o = 2 < o ? o : 2; var n = a.lastIndexOf("."); if (0 <= n) { for (; 0 <= n && 1 < o;)n = a.lastIndexOf(".", n - 1), o--; n = 0 < n ? a.substring(n) : a } } if (g = n, t = void 0 !== t ? "" + t : "", s || "" === t) if ("" === t && (s = -60), "number" == typeof s) { var r = new Date; r.setTime(r.getTime() + 6e4 * s) } else r = s; return !(!e || (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; secure; path=/;" + (s ? " expires=" + r.toUTCString() + ";" : "") + (g ? " domain=" + g + ";" : ""), void 0 === window.cookieRead)) && window.cookieRead(e) === t } }, window.cookieRead = window.cookieRead || function (e) { if ("string" != typeof e) return ""; e = encodeURIComponent(e); var t = " " + document.cookie, s = t.indexOf(" " + e + "="), a = 0 > s ? s : t.indexOf(";", s); return (e = 0 > s ? "" : decodeURIComponent(t.substring(s + 2 + e.length, 0 > a ? t.length : a))) ? e : "" }, window.p_fo = window.p_fo || function (e) { return window.__fo || (window.__fo = {}), !window.__fo[e] && (window.__fo[e] = {}, !0) }; var r = window.cookieRead("s_ppv"); r = -1 < r.indexOf(",") ? r.split(",") : [], a = a || (window.pageName ? window.pageName : document.location.href), r[0] = decodeURIComponent(r[0]), window.ppvChange = void 0 === o || 1 == o, void 0 !== n && n.linkType && "o" === n.linkType || (window.ppvID && window.ppvID === a || (window.ppvID = a, window.cookieWrite("s_ppv", ""), s()), window.p_fo("s_gppvLoad") && window.addEventListener && (window.addEventListener("load", s, !1), window.addEventListener("click", s, !1), window.addEventListener("scroll", s, !1)), this._ppvPreviousPage = r[0] ? r[0] : "", this._ppvHighestPercentViewed = r[1] ? r[1] : "", this._ppvInitialPercentViewed = r[2] ? r[2] : "", this._ppvHighestPixelsSeen = r[3] ? r[3] : "", this._ppvFoldsSeen = r[4] ? r[4] : "", this._ppvFoldsAvailable = r[5] ? r[5] : "") } e.exports.getPercentPageViewed = t } }, "common-analytics-plugins/src/lib/plugins/pt.js": { script: function (e) { function t(e, t, s, a) { var o = e, n = t, r = s, i = a; if ("-v" === o) return { plugin: "pt", version: "3.0" }; e: { if (void 0 !== window.s_c_il) for (var c, d = 0; d < window.s_c_il.length; d++)if ((c = window.s_c_il[d])._c && "s_c" === c._c) { d = c; break e } d = void 0 } if (void 0 !== d && (d.contextData.pt = "3.0", o && d[r])) { n = (o = o.split(n || ",")).length; for (var l = 0; l < n; l++)if (c = d[r](o[l], i)) return c } } e.exports.pt = t } }, "common-analytics-plugins/src/lib/plugins/rfl.js": { script: function (e) { function t(e, t, s, a, o) { var n = e, r = t, i = s, c = a, d = o; if ("-v" === n) return { plugin: "rfl", version: "2.1" }; e: { if (void 0 !== window.s_c_il) for (var l, u = 0; u < window.s_c_il.length; u++)if ((l = window.s_c_il[u])._c && "s_c" === l._c) { u = l; break e } u = void 0 } if (void 0 !== u && (u.contextData.rfl = "2.1"), !n || !r) return ""; u = [], l = "", i = i || ",", c = c || i, d = d || !1, i = (n = n.split(i)).length; for (var m = 0; m < i; m++)-1 < n[m].indexOf(":") && ((l = n[m].split(":"))[1] = l[0] + ":" + l[1], n[m] = l[0]), -1 < n[m].indexOf("=") && ((l = n[m].split("="))[1] = l[0] + "=" + l[1], n[m] = l[0]), n[m] !== r && l ? u.push(l[1]) : n[m] !== r ? u.push(n[m]) : n[m] === r && d && (l ? u.push(l[1]) : u.push(n[m]), d = !1), l = ""; return u.join(c) } e.exports.rfl = t } }, "common-analytics-plugins/src/lib/plugins/twoDecimals.js": { script: function (e) { function t(e) { return void 0 === e || void 0 === e || isNaN(e) ? 0 : Number(Number(e).toFixed(2)) } e.exports.twoDecimals = t } }, "common-analytics-plugins/src/lib/plugins/zeroPad.js": { script: function (e) { function t(e, t) { if (e = parseInt(e), t = parseInt(t), isNaN(e) || isNaN(t)) return ""; var s = t - e.toString().length + 1; return Array(+(0 < s && s)).join("0") + e } e.exports.zeroPad = t } }, "common-analytics-plugins/src/lib/plugins/randomNumber.js": { script: function (e) { function t(e) { e = "number" == typeof e ? 17 > Math.abs(e) ? Math.round(Math.abs(e)) : 17 : 10; for (var t = "1", s = 0; s < e; s++)t += "0"; return t = Number(t), (t = Math.floor(Math.random().toFixed(e) * t) + "").length !== e && "undefined" != typeof zeroPad && (t = zeroPad(t, e)), t } e.exports.randomNumber = t } }
            }
        }, "gcoe-adobe-client-data-layer": {
            displayName: "Adobe Client Data Layer", hostedLibFilesBaseUrl: "https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/", settings: { dataLayerName: "adobeDataLayer", injectLibrary: !0 }, modules: {
                "gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js": { name: "datalayer-computed-state", displayName: "Data Layer Computed State", script: function (e, t, s) { "use strict"; e.exports = function (e) { if (null != e) { var t = a(); if (void 0 !== t) return "" !== e.path ? t.getState(e.path) : t.getState() } }; var a = s("../util/getDataLayer") } }, "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js": { name: "datalayer-push", displayName: "Data Pushed", script: function (e, t, s) { "use strict"; e.exports = function (e, t) { if (null != e) { var s = e.method, o = e.eventKey, n = e.scope, r = a(), i = function (e) { var s = { message: e, beforeState: {}, afterState: {}, fullState: r.getState() }; t(s) }, c = {}; void 0 !== n && (c.scope = n), "allData" === s ? r.push((function (e) { e.addEventListener("adobeDataLayer:change", i, c) })) : "allEvents" === s ? r.push((function (e) { e.addEventListener("adobeDataLayer:event", i, c) })) : "specificEvent" === s && "" !== o && r.push((function (e) { e.addEventListener(o, i, c) })) } }; var a = s("../util/getDataLayer") } }, "gcoe-adobe-client-data-layer/src/lib/main.js": {
                    script: function (e, t, s, a) {
                        var o = a.getExtensionSettings(), n = o.dataLayerName, r = o.injectLibrary; if (window.adobeDataLayer = window.adobeDataLayer || [], "object" != typeof window.adobeDataLayer && (a.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."), window.adobeDataLayer = []), "adobeDataLayer" !== n && ("object" == typeof window[n] ? (a.logger.log('Using "' + n + '" instead of "adobeDataLayer" as data layer name.'), window.adobeDataLayer.push((function (e) { for (var t = 0; t < window[n].length; t++)e.push(window[n][t]); window[n] = e }))) : a.logger.warn('Could not use "' + n + '" instead of "adobeDataLayer", because the object does not exist!')), r && void 0 === window.adobeDataLayer.getState) {
                            function i(e, t) { return l(e) || d(e, t) || m(e, t) || c() } function c() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function d(e, t) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) { var s = [], a = !0, o = !1, n = void 0; try { for (var r, i = e[Symbol.iterator](); !(a = (r = i.next()).done) && (s.push(r.value), !t || s.length !== t); a = !0); } catch (e) { o = !0, n = e } finally { try { a || null == i.return || i.return() } finally { if (o) throw n } } return s } } function l(e) { if (Array.isArray(e)) return e } function u(e) { if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) { if (Array.isArray(e) || (e = m(e))) { var t = 0, s = function () { }; return { s: s, n: function () { return t >= e.length ? { done: !0 } : { done: !1, value: e[t++] } }, e: function (e) { throw e }, f: s } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var a, o, n = !0, r = !1; return { s: function () { a = e[Symbol.iterator]() }, n: function () { var e = a.next(); return n = e.done, e }, e: function (e) { r = !0, o = e }, f: function () { try { n || null == a.return || a.return() } finally { if (r) throw o } } } } function m(e, t) { if (e) { if ("string" == typeof e) return b(e, t); var s = Object.prototype.toString.call(e).slice(8, -1); return "Object" === s && e.constructor && (s = e.constructor.name), "Map" === s || "Set" === s ? Array.from(s) : "Arguments" === s || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s) ? b(e, t) : void 0 } } function b(e, t) { (null == t || t > e.length) && (t = e.length); for (var s = 0, a = new Array(t); s < t; s++)a[s] = e[s]; return a } function p(e) { return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } a.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."), function e(t, a, o) { function n(i, c) { if (!a[i]) { if (!t[i]) { var d = "function" == typeof s && s; if (!c && d) return d(i, !0); if (r) return r(i, !0); var l = new Error("Cannot find module '" + i + "'"); throw l.code = "MODULE_NOT_FOUND", l } var u = a[i] = { exports: {} }; t[i][0].call(u.exports, (function (e) { return n(t[i][1][e] || e) }), u, u.exports, e, t, a, o) } return a[i].exports } for (var r = "function" == typeof s && s, i = 0; i < o.length; i++)n(o[i]); return n }({
                                1: [function (e, t, s) {
                                    (function (e) {
                                        (function () {
                                            function a(e, t) { for (var s = -1, a = null == e ? 0 : e.length, o = 0, n = []; ++s < a;) { var r = e[s]; t(r, s, e) && (n[o++] = r) } return n } function o(e, t) { for (var s = -1, a = null == e ? 0 : e.length, o = Array(a); ++s < a;)o[s] = t(e[s], s, e); return o } function n(e, t) { for (var s = -1, a = t.length, o = e.length; ++s < a;)e[o + s] = t[s]; return e } function r(e, t) { for (var s = -1, a = null == e ? 0 : e.length; ++s < a;)if (t(e[s], s, e)) return !0; return !1 } function i(e, t, s) { var a = e.length; for (s += -1; ++s < a;)if (t(e[s], s, e)) return s; return -1 } function c(e) { return e != e } function d(e) { return function (t) { return e(t) } } function l(e) { var t = -1, s = Array(e.size); return e.forEach((function (e, a) { s[++t] = [a, e] })), s } function u(e) { var t = Object; return function (s) { return e(t(s)) } } function m(e) { var t = -1, s = Array(e.size); return e.forEach((function (e) { s[++t] = e })), s } function b() { } function g(e) { var t = -1, s = null == e ? 0 : e.length; for (this.clear(); ++t < s;) { var a = e[t]; this.set(a[0], a[1]) } } function f(e) { var t = -1, s = null == e ? 0 : e.length; for (this.clear(); ++t < s;) { var a = e[t]; this.set(a[0], a[1]) } } function v(e) { var t = -1, s = null == e ? 0 : e.length; for (this.clear(); ++t < s;) { var a = e[t]; this.set(a[0], a[1]) } } function h(e) { var t = -1, s = null == e ? 0 : e.length; for (this.__data__ = new v; ++t < s;)this.add(e[t]) } function P(e) { this.size = (this.__data__ = new f(e)).size } function j(e, t) { var s, a = hs(e), o = !a && vs(e), n = !a && !o && Ps(e), r = !a && !o && !n && ys(e); if (a = a || o || n || r) { o = e.length; for (var i = String, c = -1, d = Array(o); ++c < o;)d[c] = i(c); o = d } else o = []; for (s in i = o.length, e) !t && !Pt.call(e, s) || a && ("length" == s || n && ("offset" == s || "parent" == s) || r && ("buffer" == s || "byteLength" == s || "byteOffset" == s) || te(s, i)) || o.push(s); return o } function C(e, t, s) { (s === Be || be(e[t], s)) && (s !== Be || t in e) || R(e, t, s) } function y(e, t, s) { var a = e[t]; Pt.call(e, t) && be(a, s) && (s !== Be || t in e) || R(e, t, s) } function w(e, t) { for (var s = e.length; s--;)if (be(e[s][0], t)) return s; return -1 } function R(e, t, s) { "__proto__" == t && St ? St(e, t, { configurable: !0, enumerable: !0, value: s, writable: !0 }) : e[t] = s } function x(e, t, s, a, o, n) { var r, i = 1 & t, c = 2 & t, d = 4 & t; if (s && (r = o ? s(e, a, o, n) : s(e)), r !== Be) return r; if (!he(e)) return e; if (a = hs(e)) { if (r = function (e) { var t = e.length, s = new e.constructor(t); return t && "string" == typeof e[0] && Pt.call(e, "index") && (s.index = e.index, s.input = e.input), s }(e), !i) return G(e, r) } else { var l = rs(e), u = "[object Function]" == l || "[object GeneratorFunction]" == l; if (Ps(e)) return F(e, i); if ("[object Object]" == l || "[object Arguments]" == l || u && !o) { if (r = c || u ? {} : X(e), !i) return c ? function (e, t) { return q(e, ns(e), t) }(e, function (e, t) { return e && q(t, ke(t), e) }(r, e)) : function (e, t) { return q(e, os(e), t) }(e, function (e, t) { return e && q(t, Ae(t), e) }(r, e)) } else { if (!tt[l]) return o ? e : {}; r = function (e, t, s) { var a = e.constructor; switch (t) { case "[object ArrayBuffer]": return B(e); case "[object Boolean]": case "[object Date]": return new a(+e); case "[object DataView]": return t = s ? B(e.buffer) : e.buffer, new e.constructor(t, e.byteOffset, e.byteLength); case "[object Float32Array]": case "[object Float64Array]": case "[object Int8Array]": case "[object Int16Array]": case "[object Int32Array]": case "[object Uint8Array]": case "[object Uint8ClampedArray]": case "[object Uint16Array]": case "[object Uint32Array]": return U(e, s); case "[object Map]": case "[object Set]": return new a; case "[object Number]": case "[object String]": return new a(e); case "[object RegExp]": return (t = new e.constructor(e.source, Ye.exec(e))).lastIndex = e.lastIndex, t; case "[object Symbol]": return Qt ? Object(Qt.call(e)) : {} } }(e, l, i) } } if (o = (n = n || new P).get(e)) return o; if (n.set(e, r), Cs(e)) return e.forEach((function (a) { r.add(x(a, t, s, a, e, n)) })), r; if (js(e)) return e.forEach((function (a, o) { r.set(o, x(a, t, s, o, e, n)) })), r; c = d ? c ? Y : W : c ? ke : Ae; var m = a ? Be : c(e); return function (e, t) { for (var s = -1, a = null == e ? 0 : e.length; ++s < a && !1 !== t(e[s], s, e);); }(m || e, (function (a, o) { m && (a = e[o = a]), y(r, o, x(a, t, s, o, e, n)) })), r } function E(e, t) { for (var s = 0, a = (t = M(t, e)).length; null != e && s < a;)e = e[re(t[s++])]; return s && s == a ? e : Be } function T(e, t, s) { return t = t(e), hs(e) ? t : n(t, s(e)) } function I(e) { if (null == e) e = e === Be ? "[object Undefined]" : "[object Null]"; else if (Ot && Ot in Object(e)) { var t = Pt.call(e, Ot), s = e[Ot]; try { e[Ot] = Be; var a = !0 } catch (e) { } var o = Ct.call(e); a && (t ? e[Ot] = s : delete e[Ot]), e = o } else e = Ct.call(e); return e } function _(e, t) { return null != e && Pt.call(e, t) } function A(e, t) { return null != e && t in Object(e) } function k(e) { return Pe(e) && "[object Arguments]" == I(e) } function L(e, t, s, a, o) { if (e === t) t = !0; else if (null == e || null == t || !Pe(e) && !Pe(t)) t = e != e && t != t; else e: { var n, r, i = hs(e), c = hs(t), d = "[object Object]" == (n = "[object Arguments]" == (n = i ? "[object Array]" : rs(e)) ? "[object Object]" : n); if (c = "[object Object]" == (r = "[object Arguments]" == (r = c ? "[object Array]" : rs(t)) ? "[object Object]" : r), (r = n == r) && Ps(e)) { if (!Ps(t)) { t = !1; break e } d = !(i = !0) } if (r && !d) o = o || new P, t = i || ys(e) ? K(e, t, s, a, L, o) : function (e, t, s, a, o, n, r) { switch (s) { case "[object DataView]": if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) break; e = e.buffer, t = t.buffer; case "[object ArrayBuffer]": if (e.byteLength != t.byteLength || !n(new Et(e), new Et(t))) break; return !0; case "[object Boolean]": case "[object Date]": case "[object Number]": return be(+e, +t); case "[object Error]": return e.name == t.name && e.message == t.message; case "[object RegExp]": case "[object String]": return e == t + ""; case "[object Map]": var i = l; case "[object Set]": if (i = i || m, e.size != t.size && !(1 & a)) break; return (s = r.get(e)) ? s == t : (a |= 2, r.set(e, t), t = K(i(e), i(t), a, o, n, r), r.delete(e), t); case "[object Symbol]": if (Qt) return Qt.call(e) == Qt.call(t) }return !1 }(e, t, n, s, a, L, o); else { if (!(1 & s) && (i = d && Pt.call(e, "__wrapped__"), n = c && Pt.call(t, "__wrapped__"), i || n)) { t = L(e = i ? e.value() : e, t = n ? t.value() : t, s, a, o = o || new P); break e } if (r) t: if (o = o || new P, i = 1 & s, n = W(e), c = n.length, r = W(t).length, c == r || i) { for (d = c; d--;) { var u = n[d]; if (!(i ? u in t : Pt.call(t, u))) { t = !1; break t } } if ((r = o.get(e)) && o.get(t)) t = r == t; else { r = !0, o.set(e, t), o.set(t, e); for (var b = i; ++d < c;) { var p = e[u = n[d]], g = t[u]; if (a) var f = i ? a(g, p, u, t, e, o) : a(p, g, u, e, t, o); if (f === Be ? p !== g && !L(p, g, s, a, o) : !f) { r = !1; break } b = b || "constructor" == u } r && !b && (s = e.constructor) != (a = t.constructor) && "constructor" in e && "constructor" in t && !("function" == typeof s && s instanceof s && "function" == typeof a && a instanceof a) && (r = !1), o.delete(e), o.delete(t), t = r } } else t = !1; else t = !1 } } return t } function O(e) { return "function" == typeof e ? e : null == e ? Se : "object" == p(e) ? hs(e) ? function (e, t) { return se(e) && t == t && !he(t) ? oe(re(e), t) : function (s) { var a = Ie(s, e); return a === Be && a === t ? _e(s, e) : L(t, a, 3) } }(e[0], e[1]) : function (e) { var t = function (e) { for (var t = Ae(e), s = t.length; s--;) { var a = t[s], o = e[a]; t[s] = [a, o, o == o && !he(o)] } return t }(e); return 1 == t.length && t[0][2] ? oe(t[0][0], t[0][1]) : function (s) { return s === e || function (e, t) { var s = t.length, a = s; if (null == e) return !a; for (e = Object(e); s--;)if ((o = t[s])[2] ? o[1] !== e[o[0]] : !(o[0] in e)) return !1; for (; ++s < a;) { var o, n = (o = t[s])[0], r = e[n], i = o[1]; if (o[2]) { if (r === Be && !(n in e)) return !1 } else if (o = new P, void 0 !== Be || !L(i, r, 3, void 0, o)) return !1 } return !0 }(s, t) } }(e) : Ne(e) } function S(e) { if (!ae(e)) return Dt(e); var t, s = []; for (t in Object(e)) Pt.call(e, t) && "constructor" != t && s.push(t); return s } function V(e, t, s, a, o) { e !== t && ss(t, (function (n, r) { if (he(n)) { var i = o = o || new P, c = "__proto__" == r ? Be : e[r], d = "__proto__" == r ? Be : t[r]; if (p = i.get(d)) C(e, r, p); else { var l = (p = a ? a(c, d, r + "", e, t, i) : Be) === Be; if (l) { var u = hs(d), m = !u && Ps(d), b = !u && !m && ys(d), p = d; u || m || b ? p = hs(c) ? c : ge(c) ? G(c) : m ? F(d, !(l = !1)) : b ? U(d, !(l = !1)) : [] : je(d) || vs(d) ? vs(p = c) ? p = Ee(c) : (!he(c) || s && fe(c)) && (p = X(d)) : l = !1 } l && (i.set(d, p), V(p, d, s, a, i), i.delete(d)), C(e, r, p) } } else (i = a ? a("__proto__" == r ? Be : e[r], n, r + "", e, t, o) : Be) === Be && (i = n), C(e, r, i) }), ke) } function N(e) { if ("string" == typeof e) return e; if (hs(e)) return o(e, N) + ""; if (ye(e)) return Xt ? Xt.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -Ue ? "-0" : t } function D(e, t) { var s; if ((t = M(t, e)).length < 2) s = e; else { var a = 0, o = -1, n = -1, r = (s = t).length; for (a < 0 && (a = r < -a ? 0 : r + a), (o = r < o ? r : o) < 0 && (o += r), r = o < a ? 0 : o - a >>> 0, a >>>= 0, o = Array(r); ++n < r;)o[n] = s[n + a]; s = E(e, o) } null == (e = s) || delete e[re(le(t))] } function M(e, t) { return hs(e) ? e : se(e, t) ? [e] : ps(Te(e)) } function F(e, t) { if (t) return e.slice(); var s = e.length; return s = Tt ? Tt(s) : new e.constructor(s), e.copy(s), s } function B(e) { var t = new e.constructor(e.byteLength); return new Et(t).set(new Et(e)), t } function U(e, t) { return new e.constructor(t ? B(e.buffer) : e.buffer, e.byteOffset, e.length) } function G(e, t) { var s = -1, a = e.length; for (t = t || Array(a); ++s < a;)t[s] = e[s]; return t } function q(e, t, s) { var a = !s; s = s || {}; for (var o = -1, n = t.length; ++o < n;) { var r = t[o], i = Be; i === Be && (i = e[r]), a ? R(s, r, i) : y(s, r, i) } return s } function H(e) { return function (e) { return bs(ne(e, void 0, Se), e + "") }((function (t, s) { var a, o = -1, n = s.length, r = 1 < n ? s[n - 1] : Be, i = 2 < n ? s[2] : Be; if (r = 3 < e.length && "function" == typeof r ? (n--, r) : Be, a = i) { a = s[0]; var c = s[1]; if (he(i)) { var d = p(c); a = !!("number" == d ? pe(i) && te(c, i.length) : "string" == d && c in i) && be(i[c], a) } else a = !1 } for (a && (r = n < 3 ? Be : r, n = 1), t = Object(t); ++o < n;)(i = s[o]) && e(t, i, o, r); return t })) } function z(e) { return je(e) ? Be : e } function K(e, t, s, a, o, n) { var i = 1 & s, c = e.length; if (c != (d = t.length) && !(i && c < d)) return !1; if ((d = n.get(e)) && n.get(t)) return d == t; var d = -1, l = !0, u = 2 & s ? new h : Be; for (n.set(e, t), n.set(t, e); ++d < c;) { var m = e[d], b = t[d]; if (a) var p = i ? a(b, m, d, t, e, n) : a(m, b, d, e, t, n); if (p !== Be) { if (p) continue; l = !1; break } if (u) { if (!r(t, (function (e, t) { if (!u.has(t) && (m === e || o(m, e, s, a, n))) return u.push(t) }))) { l = !1; break } } else if (m !== b && !o(m, b, s, a, n)) { l = !1; break } } return n.delete(e), n.delete(t), l } function W(e) { return T(e, Ae, os) } function Y(e) { return T(e, ke, ns) } function Z(e, t) { var s = (s = b.iteratee || Ve) === Ve ? O : s; return arguments.length ? s(e, t) : s } function J(e, t) { var s = e.__data__, a = p(t); return ("string" == a || "number" == a || "symbol" == a || "boolean" == a ? "__proto__" !== t : null === t) ? s["string" == typeof t ? "string" : "hash"] : s.map } function $(e, t) { var s = null == e ? Be : e[t]; return !he(s) || jt && jt in s || !(fe(s) ? wt : $e).test(ie(s)) ? Be : s } function Q(e, t, s) { for (var a = -1, o = (t = M(t, e)).length, n = !1; ++a < o;) { var r = re(t[a]); if (!(n = null != e && s(e, r))) break; e = e[r] } return n || ++a != o ? n : !!(o = null == e ? 0 : e.length) && ve(o) && te(r, o) && (hs(e) || vs(e)) } function X(e) { return "function" != typeof e.constructor || ae(e) ? {} : es(It(e)) } function ee(e) { return hs(e) || vs(e) || !!(Lt && e && e[Lt]) } function te(e, t) { var s = p(e); return !!(t = null == t ? 9007199254740991 : t) && ("number" == s || "symbol" != s && Xe.test(e)) && -1 < e && 0 == e % 1 && e < t } function se(e, t) { if (hs(e)) return !1; var s = p(e); return !("number" != s && "symbol" != s && "boolean" != s && null != e && !ye(e)) || He.test(e) || !qe.test(e) || null != t && e in Object(t) } function ae(e) { var t = e && e.constructor; return e === ("function" == typeof t && t.prototype || ft) } function oe(e, t) { return function (s) { return null != s && s[e] === t && (t !== Be || e in Object(s)) } } function ne(e, t, s) { return t = Mt(t === Be ? e.length - 1 : t, 0), function () { for (var a = arguments, o = -1, n = Mt(a.length - t, 0), r = Array(n); ++o < n;)r[o] = a[t + o]; for (o = -1, n = Array(t + 1); ++o < t;)n[o] = a[o]; return n[t] = s(r), function (e, t, s) { switch (s.length) { case 0: return e.call(t); case 1: return e.call(t, s[0]); case 2: return e.call(t, s[0], s[1]); case 3: return e.call(t, s[0], s[1], s[2]) }return e.apply(t, s) }(e, this, n) } } function re(e) { if ("string" == typeof e || ye(e)) return e; var t = e + ""; return "0" == t && 1 / e == -Ue ? "-0" : t } function ie(e) { if (null == e) return ""; try { return ht.call(e) } catch (e) { } return e + "" } function ce(e, t, s) { var a = null == e ? 0 : e.length; return a ? ((s = null == s ? 0 : Re(s)) < 0 && (s = Mt(a + s, 0)), i(e, Z(t, 3), s)) : -1 } function de(e) { return null != e && e.length ? function e(t, s, a, o, r) { var i = -1, c = t.length; for (a = a || ee, r = r || []; ++i < c;) { var d = t[i]; 0 < s && a(d) ? 1 < s ? e(d, s - 1, a, o, r) : n(r, d) : o || (r[r.length] = d) } return r }(e, 1) : [] } function le(e) { var t = null == e ? 0 : e.length; return t ? e[t - 1] : Be } function ue(e, t) { function s() { var a = arguments, o = t ? t.apply(this, a) : a[0], n = s.cache; return n.has(o) ? n.get(o) : (a = e.apply(this, a), s.cache = n.set(o, a) || n, a) } if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError("Expected a function"); return s.cache = new (ue.Cache || v), s } function me(e) { if ("function" != typeof e) throw new TypeError("Expected a function"); return function () { var t = arguments; switch (t.length) { case 0: return !e.call(this); case 1: return !e.call(this, t[0]); case 2: return !e.call(this, t[0], t[1]); case 3: return !e.call(this, t[0], t[1], t[2]) }return !e.apply(this, t) } } function be(e, t) { return e === t || e != e && t != t } function pe(e) { return null != e && ve(e.length) && !fe(e) } function ge(e) { return Pe(e) && pe(e) } function fe(e) { return !!he(e) && ("[object Function]" == (e = I(e)) || "[object GeneratorFunction]" == e || "[object AsyncFunction]" == e || "[object Proxy]" == e) } function ve(e) { return "number" == typeof e && -1 < e && 0 == e % 1 && e <= 9007199254740991 } function he(e) { var t = p(e); return null != e && ("object" == t || "function" == t) } function Pe(e) { return null != e && "object" == p(e) } function je(e) { return !(!Pe(e) || "[object Object]" != I(e)) && (null === (e = It(e)) || "function" == typeof (e = Pt.call(e, "constructor") && e.constructor) && e instanceof e && ht.call(e) == yt) } function Ce(e) { return "string" == typeof e || !hs(e) && Pe(e) && "[object String]" == I(e) } function ye(e) { return "symbol" == p(e) || Pe(e) && "[object Symbol]" == I(e) } function we(e) { return e ? (e = xe(e)) === Ue || e === -Ue ? 17976931348623157e292 * (e < 0 ? -1 : 1) : e == e ? e : 0 : 0 === e ? e : 0 } function Re(e) { var t = (e = we(e)) % 1; return e == e ? t ? e - t : e : 0 } function xe(e) { if ("number" == typeof e) return e; if (ye(e)) return Ge; if (he(e) && (e = he(e = "function" == typeof e.valueOf ? e.valueOf() : e) ? e + "" : e), "string" != typeof e) return 0 === e ? e : +e; e = e.replace(Ke, ""); var t = Je.test(e); return t || Qe.test(e) ? at(e.slice(2), t ? 2 : 8) : Ze.test(e) ? Ge : +e } function Ee(e) { return q(e, ke(e)) } function Te(e) { return null == e ? "" : N(e) } function Ie(e, t, s) { return (e = null == e ? Be : E(e, t)) === Be ? s : e } function _e(e, t) { return null != e && Q(e, t, A) } function Ae(e) { return pe(e) ? j(e) : S(e) } function ke(e) { if (pe(e)) e = j(e, !0); else if (he(e)) { var t, s = ae(e), a = []; for (t in e) ("constructor" != t || !s && Pt.call(e, t)) && a.push(t); e = a } else { if (t = [], null != e) for (s in Object(e)) t.push(s); e = t } return e } function Le(e) { return null == e ? [] : function (e, t) { return o(t, (function (t) { return e[t] })) }(e, Ae(e)) } function Oe(e) { return function () { return e } } function Se(e) { return e } function Ve(e) { return O("function" == typeof e ? e : x(e, 1)) } function Ne(e) { return se(e) ? function (e) { return function (t) { return null == t ? Be : t[e] } }(re(e)) : function (e) { return function (t) { return E(t, e) } }(e) } function De() { return [] } function Me() { return !1 } function Fe() { } var Be, Ue = 1 / 0, Ge = NaN, qe = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, He = /^\w*$/, ze = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Ke = /^\s+|\s+$/g, We = /\\(\\)?/g, Ye = /\w*$/, Ze = /^[-+]0x[0-9a-f]+$/i, Je = /^0b[01]+$/i, $e = /^\[object .+?Constructor\]$/, Qe = /^0o[0-7]+$/i, Xe = /^(?:0|[1-9]\d*)$/, et = {}; et["[object Float32Array]"] = et["[object Float64Array]"] = et["[object Int8Array]"] = et["[object Int16Array]"] = et["[object Int32Array]"] = et["[object Uint8Array]"] = et["[object Uint8ClampedArray]"] = et["[object Uint16Array]"] = et["[object Uint32Array]"] = !0, et["[object Arguments]"] = et["[object Array]"] = et["[object ArrayBuffer]"] = et["[object Boolean]"] = et["[object DataView]"] = et["[object Date]"] = et["[object Error]"] = et["[object Function]"] = et["[object Map]"] = et["[object Number]"] = et["[object Object]"] = et["[object RegExp]"] = et["[object Set]"] = et["[object String]"] = et["[object WeakMap]"] = !1; var tt = {}; tt["[object Arguments]"] = tt["[object Array]"] = tt["[object ArrayBuffer]"] = tt["[object DataView]"] = tt["[object Boolean]"] = tt["[object Date]"] = tt["[object Float32Array]"] = tt["[object Float64Array]"] = tt["[object Int8Array]"] = tt["[object Int16Array]"] = tt["[object Int32Array]"] = tt["[object Map]"] = tt["[object Number]"] = tt["[object Object]"] = tt["[object RegExp]"] = tt["[object Set]"] = tt["[object String]"] = tt["[object Symbol]"] = tt["[object Uint8Array]"] = tt["[object Uint8ClampedArray]"] = tt["[object Uint16Array]"] = tt["[object Uint32Array]"] = !0, tt["[object Error]"] = tt["[object Function]"] = tt["[object WeakMap]"] = !1; var st, at = parseInt, ot = "object" == p(e) && e && e.Object === Object && e, nt = "object" == ("undefined" == typeof self ? "undefined" : p(self)) && self && self.Object === Object && self, rt = ot || nt || Function("return this")(), it = "object" == p(s) && s && !s.nodeType && s, ct = it && "object" == p(t) && t && !t.nodeType && t, dt = ct && ct.exports === it, lt = dt && ot.process; e: { try { st = lt && lt.binding && lt.binding("util"); break e } catch (d) { } st = void 0 } var ut, mt = st && st.isMap, bt = st && st.isSet, pt = st && st.isTypedArray, gt = Array.prototype, ft = Object.prototype, vt = rt["__core-js_shared__"], ht = Function.prototype.toString, Pt = ft.hasOwnProperty, jt = (ut = /[^.]+$/.exec(vt && vt.keys && vt.keys.IE_PROTO || "")) ? "Symbol(src)_1." + ut : "", Ct = ft.toString, yt = ht.call(Object), wt = RegExp("^" + ht.call(Pt).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Rt = dt ? rt.Buffer : Be, xt = rt.Symbol, Et = rt.Uint8Array, Tt = Rt ? Rt.a : Be, It = u(Object.getPrototypeOf), _t = Object.create, At = ft.propertyIsEnumerable, kt = gt.splice, Lt = xt ? xt.isConcatSpreadable : Be, Ot = xt ? xt.toStringTag : Be, St = function () {
                                                try { var e = $(Object, "defineProperty"); return e({}, "", {}), e } catch (e) { }
                                            }(), Vt = Object.getOwnPropertySymbols, Nt = Rt ? Rt.isBuffer : Be, Dt = u(Object.keys), Mt = Math.max, Ft = Date.now, Bt = $(rt, "DataView"), Ut = $(rt, "Map"), Gt = $(rt, "Promise"), qt = $(rt, "Set"), Ht = $(rt, "WeakMap"), zt = $(Object, "create"), Kt = ie(Bt), Wt = ie(Ut), Yt = ie(Gt), Zt = ie(qt), Jt = ie(Ht), $t = xt ? xt.prototype : Be, Qt = $t ? $t.valueOf : Be, Xt = $t ? $t.toString : Be, es = function (e) { return he(e) ? _t ? _t(e) : (Fe.prototype = e, e = new Fe, Fe.prototype = Be, e) : {} }; g.prototype.clear = function () { this.__data__ = zt ? zt(null) : {}, this.size = 0 }, g.prototype.delete = function (e) { return e = this.has(e) && delete this.__data__[e], this.size -= e ? 1 : 0, e }, g.prototype.get = function (e) { var t = this.__data__; return zt ? "__lodash_hash_undefined__" === (e = t[e]) ? Be : e : Pt.call(t, e) ? t[e] : Be }, g.prototype.has = function (e) { var t = this.__data__; return zt ? t[e] !== Be : Pt.call(t, e) }, g.prototype.set = function (e, t) { var s = this.__data__; return this.size += this.has(e) ? 0 : 1, s[e] = zt && t === Be ? "__lodash_hash_undefined__" : t, this }, f.prototype.clear = function () { this.__data__ = [], this.size = 0 }, f.prototype.delete = function (e) { var t = this.__data__; return !((e = w(t, e)) < 0 || (e == t.length - 1 ? t.pop() : kt.call(t, e, 1), --this.size, 0)) }, f.prototype.get = function (e) { var t = this.__data__; return (e = w(t, e)) < 0 ? Be : t[e][1] }, f.prototype.has = function (e) { return -1 < w(this.__data__, e) }, f.prototype.set = function (e, t) { var s = this.__data__, a = w(s, e); return a < 0 ? (++this.size, s.push([e, t])) : s[a][1] = t, this }, v.prototype.clear = function () { this.size = 0, this.__data__ = { hash: new g, map: new (Ut || f), string: new g } }, v.prototype.delete = function (e) { return e = J(this, e).delete(e), this.size -= e ? 1 : 0, e }, v.prototype.get = function (e) { return J(this, e).get(e) }, v.prototype.has = function (e) { return J(this, e).has(e) }, v.prototype.set = function (e, t) { var s = J(this, e), a = s.size; return s.set(e, t), this.size += s.size == a ? 0 : 1, this }, h.prototype.add = h.prototype.push = function (e) { return this.__data__.set(e, "__lodash_hash_undefined__"), this }, h.prototype.has = function (e) { return this.__data__.has(e) }, P.prototype.clear = function () { this.__data__ = new f, this.size = 0 }, P.prototype.delete = function (e) { var t = this.__data__; return e = t.delete(e), this.size = t.size, e }, P.prototype.get = function (e) { return this.__data__.get(e) }, P.prototype.has = function (e) { return this.__data__.has(e) }, P.prototype.set = function (e, t) { var s = this.__data__; if (s instanceof f) { var a = s.__data__; if (!Ut || a.length < 199) return a.push([e, t]), this.size = ++s.size, this; s = this.__data__ = new v(a) } return s.set(e, t), this.size = s.size, this }; var ts = function (e, t) { if (null == e) return e; if (!pe(e)) return function (e, t) { return e && ss(e, t, Ae) }(e, t); for (var s = e.length, a = -1, o = Object(e); ++a < s && !1 !== t(o[a], a, o);); return e }, ss = function (e, t, s) { for (var a = -1, o = Object(e), n = (s = s(e)).length; n--;) { var r = s[++a]; if (!1 === t(o[r], r, o)) break } return e }, as = St ? function (e, t) { return St(e, "toString", { configurable: !0, enumerable: !1, value: Oe(t), writable: !0 }) } : Se, os = Vt ? function (e) { return null == e ? [] : (e = Object(e), a(Vt(e), (function (t) { return At.call(e, t) }))) } : De, ns = Vt ? function (e) { for (var t = []; e;)n(t, os(e)), e = It(e); return t } : De, rs = I; (Bt && "[object DataView]" != rs(new Bt(new ArrayBuffer(1))) || Ut && "[object Map]" != rs(new Ut) || Gt && "[object Promise]" != rs(Gt.resolve()) || qt && "[object Set]" != rs(new qt) || Ht && "[object WeakMap]" != rs(new Ht)) && (rs = function (e) { var t = I(e); if (e = (e = "[object Object]" == t ? e.constructor : Be) ? ie(e) : "") switch (e) { case Kt: return "[object DataView]"; case Wt: return "[object Map]"; case Yt: return "[object Promise]"; case Zt: return "[object Set]"; case Jt: return "[object WeakMap]" }return t }); var is, cs, ds, ls, us, ms, bs = (ls = as, ms = us = 0, function () { var e = Ft(), t = 16 - (e - ms); if (ms = e, 0 < t) { if (800 <= ++us) return arguments[0] } else us = 0; return ls.apply(Be, arguments) }), ps = (ds = (cs = ue(cs = function (e) { var t = []; return 46 === e.charCodeAt(0) && t.push(""), e.replace(ze, (function (e, s, a, o) { t.push(a ? o.replace(We, "$1") : s || e) })), t }, (function (e) { return 500 === ds.size && ds.clear(), e }))).cache, cs), gs = (is = ce, function (e, t, s) { var a = Object(e); if (!pe(e)) { var o = Z(t, 3); e = Ae(e), t = function (e) { return o(a[e], e, a) } } return -1 < (t = is(e, t, s)) ? a[o ? e[t] : t] : Be }); ue.Cache = v; var fs, vs = k(function () { return arguments }()) ? k : function (e) { return Pe(e) && Pt.call(e, "callee") && !At.call(e, "callee") }, hs = Array.isArray, Ps = Nt || Me, js = mt ? d(mt) : function (e) { return Pe(e) && "[object Map]" == rs(e) }, Cs = bt ? d(bt) : function (e) { return Pe(e) && "[object Set]" == rs(e) }, ys = pt ? d(pt) : function (e) { return Pe(e) && ve(e.length) && !!et[I(e)] }, ws = H((function (e, t, s) { V(e, t, s) })), Rs = H((function (e, t, s, a) { V(e, t, s, a) })), xs = bs(ne(fs = function (e, t) { var s = {}; if (null == e) return s; var a = !1; t = o(t, (function (t) { return t = M(t, e), a = a || 1 < t.length, t })), q(e, Y(e), s), a && (s = x(s, 7, z)); for (var n = t.length; n--;)D(s, t[n]); return s }, Be, de), fs + ""); b.constant = Oe, b.flatten = de, b.iteratee = Ve, b.keys = Ae, b.keysIn = ke, b.memoize = ue, b.merge = ws, b.mergeWith = Rs, b.negate = me, b.omit = xs, b.property = Ne, b.reject = function (e, t) { return (hs(e) ? a : function (e, t) { var s = []; return ts(e, (function (e, a, o) { t(e, a, o) && s.push(e) })), s })(e, me(Z(t, 3))) }, b.toPlainObject = Ee, b.values = Le, b.cloneDeep = function (e) { return x(e, 5) }, b.cloneDeepWith = function (e, t) { return x(e, 5, t = "function" == typeof t ? t : Be) }, b.eq = be, b.find = gs, b.findIndex = ce, b.get = Ie, b.has = function (e, t) { return null != e && Q(e, t, _) }, b.hasIn = _e, b.identity = Se, b.includes = function (e, t, s, a) { if (e = pe(e) ? e : Le(e), s = s && !a ? Re(s) : 0, a = e.length, s < 0 && (s = Mt(a + s, 0)), Ce(e)) e = s <= a && -1 < e.indexOf(t, s); else { if (a = !!a) { if (t == t) e: { for (s -= 1, a = e.length; ++s < a;)if (e[s] === t) { e = s; break e } e = -1 } else e = i(e, c, s); a = -1 < e } e = a } return e }, b.isArguments = vs, b.isArray = hs, b.isArrayLike = pe, b.isArrayLikeObject = ge, b.isBuffer = Ps, b.isEmpty = function (e) { if (null == e) return !0; if (pe(e) && (hs(e) || "string" == typeof e || "function" == typeof e.splice || Ps(e) || ys(e) || vs(e))) return !e.length; var t = rs(e); if ("[object Map]" == t || "[object Set]" == t) return !e.size; if (ae(e)) return !S(e).length; for (var s in e) if (Pt.call(e, s)) return !1; return !0 }, b.isEqual = function (e, t) { return L(e, t) }, b.isFunction = fe, b.isLength = ve, b.isMap = js, b.isNull = function (e) { return null === e }, b.isObject = he, b.isObjectLike = Pe, b.isPlainObject = je, b.isSet = Cs, b.isString = Ce, b.isSymbol = ye, b.isTypedArray = ys, b.last = le, b.stubArray = De, b.stubFalse = Me, b.toFinite = we, b.toInteger = Re, b.toNumber = xe, b.toString = Te, b.VERSION = "4.17.5", ct && ((ct.exports = b)._ = b, it._ = b)
                                        }).call(this)
                                    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                                }, {}], 2: [function (e, t) { t.exports = { itemType: { DATA: "data", FCTN: "fctn", EVENT: "event", LISTENER_ON: "listenerOn", LISTENER_OFF: "listenerOff" }, dataLayerEvent: { CHANGE: "adobeDataLayer:change", EVENT: "adobeDataLayer:event" }, listenerScope: { PAST: "past", FUTURE: "future", ALL: "all" } } }, {}], 3: [function (e, t) { var s = e("../custom-lodash"), a = e("../version.json").version, o = s.cloneDeep, n = s.get, r = e("./item"), i = e("./listener"), c = e("./listenerManager"), d = e("./constants"), l = e("./utils/customMerge"); t.exports = function (e) { function t(e) { v = l(v, e.data) } function s(e) { function s(e) { return 0 === g.length || e.index > g.length - 1 ? [] : g.slice(0, e.index).map((function (e) { return r(e) })) } e.valid ? { data: function (e) { t(e), b.triggerListeners(e) }, fctn: function (e) { e.config.call(g, g) }, event: function (e) { e.data && t(e), b.triggerListeners(e) }, listenerOn: function (e) { var t = i(e); switch (t.scope) { case d.listenerScope.PAST: var a, o = u(s(e)); try { for (o.s(); !(a = o.n()).done;) { var n = a.value; b.triggerListener(t, n) } } catch (e) { o.e(e) } finally { o.f() } break; case d.listenerScope.FUTURE: b.register(t); break; case d.listenerScope.ALL: if (b.register(t)) { var r, c = u(s(e)); try { for (c.s(); !(r = c.n()).done;) { var l = r.value; b.triggerListener(t, l) } } catch (e) { c.e(e) } finally { c.f() } } } }, listenerOff: function (e) { b.unregister(i(e)) } }[e.type](e) : m(e) } function m(e) { var t = "The following item cannot be handled by the data layer because it does not have a valid format: " + JSON.stringify(e.config); console.error(t) } var b, p = e || {}, g = [], f = [], v = {}, h = { getState: function () { return v }, getDataLayer: function () { return g } }; return Array.isArray(p.dataLayer) || (p.dataLayer = []), f = p.dataLayer.splice(0, p.dataLayer.length), (g = p.dataLayer).version = a, v = {}, b = c(h), g.push = function (e) { var t = arguments, a = arguments; if (Object.keys(t).forEach((function (e) { var o = r(t[e]); switch (o.valid || (m(o), delete a[e]), o.type) { case d.itemType.DATA: case d.itemType.EVENT: s(o); break; case d.itemType.FCTN: delete a[e], s(o); break; case d.itemType.LISTENER_ON: case d.itemType.LISTENER_OFF: delete a[e] } })), a[0]) return Array.prototype.push.apply(this, a) }, g.getState = function (e) { return e ? n(o(v), e) : o(v) }, g.addEventListener = function (e, t, a) { s(r({ on: e, handler: t, scope: a && a.scope, path: a && a.path })) }, g.removeEventListener = function (e, t) { s(r({ off: e, handler: t })) }, function () { for (var e = 0; e < f.length; e++)g.push(f[e]) }(), h } }, { "../custom-lodash": 1, "../version.json": 14, "./constants": 2, "./item": 5, "./listener": 7, "./listenerManager": 8, "./utils/customMerge": 10 }], 4: [function (e, t) { var s = { Manager: e("./dataLayerManager") }; window.adobeDataLayer = window.adobeDataLayer || [], window.adobeDataLayer.version ? console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version, " has already been imported/initialized on this page. You may be erroneously loading it a second time.")) : s.Manager({ dataLayer: window.adobeDataLayer }), t.exports = s }, { "./dataLayerManager": 3 }], 5: [function (e, t) { var s = e("../custom-lodash"), a = s.isPlainObject, o = s.isEmpty, n = s.omit, r = s.find, i = e("./utils/dataMatchesContraints"), c = e("./itemConstraints"), d = e("./constants"); t.exports = function (e, t) { var s = e, l = t, u = r(Object.keys(c), (function (e) { return i(s, c[e]) })) || "function" == typeof s && d.itemType.FCTN || a(s) && d.itemType.DATA, m = function () { var e = n(s, Object.keys(c.event)); if (!o(e)) return e }(); return { config: s, type: u, data: m, valid: !!u, index: l } } }, { "../custom-lodash": 1, "./constants": 2, "./itemConstraints": 6, "./utils/dataMatchesContraints": 11 }], 6: [function (e, t) { t.exports = { event: { event: { type: "string" }, eventInfo: { optional: !0 } }, listenerOn: { on: { type: "string" }, handler: { type: "function" }, scope: { type: "string", values: ["past", "future", "all"], optional: !0 }, path: { type: "string", optional: !0 } }, listenerOff: { off: { type: "string" }, handler: { type: "function", optional: !0 }, scope: { type: "string", values: ["past", "future", "all"], optional: !0 }, path: { type: "string", optional: !0 } } } }, {}], 7: [function (e, t) { var s = e("./constants"); t.exports = function (e) { return { event: e.config.on || e.config.off, handler: e.config.handler || null, scope: e.config.scope || e.config.on && s.listenerScope.ALL || null, path: e.config.path || null } } }, { "./constants": 2 }], 8: [function (e, t) { var s = e("../custom-lodash").cloneDeep, a = e("./constants"), o = e("./utils/listenerMatch"), n = e("./utils/indexOfListener"); t.exports = function (e) { function t(e, t) { if (o(e, t)) { var a = [s(t.config)]; e.handler.apply(i.getDataLayer(), a) } } var r = {}, i = e, c = n.bind(null, r); return { register: function (e) { var t = e.event; return Object.prototype.hasOwnProperty.call(r, t) ? -1 === c(e) && (r[e.event].push(e), !0) : (r[e.event] = [e], !0) }, unregister: function (e) { var t = e.event; if (Object.prototype.hasOwnProperty.call(r, t)) if (e.handler || e.scope || e.path) { var s = c(e); -1 < s && r[t].splice(s, 1) } else r[t] = [] }, triggerListeners: function (e) { (function (e) { var t = []; switch (e.type) { case a.itemType.DATA: t.push(a.dataLayerEvent.CHANGE); break; case a.itemType.EVENT: t.push(a.dataLayerEvent.EVENT), e.data && t.push(a.dataLayerEvent.CHANGE), e.config.event !== a.dataLayerEvent.CHANGE && t.push(e.config.event) }return t })(e).forEach((function (s) { if (Object.prototype.hasOwnProperty.call(r, s)) { var a, o = u(r[s]); try { for (o.s(); !(a = o.n()).done;)t(a.value, e) } catch (s) { o.e(s) } finally { o.f() } } })) }, triggerListener: function (e, s) { t(e, s) } } } }, { "../custom-lodash": 1, "./constants": 2, "./utils/indexOfListener": 12, "./utils/listenerMatch": 13 }], 9: [function (e, t) { var s = e("../../custom-lodash"), a = s.has, o = s.get; t.exports = function (e, t) { for (var s = t.substring(0, t.lastIndexOf(".")); s;) { if (a(e, s) && null == o(e, s)) return !0; s = s.substring(0, s.lastIndexOf(".")) } return !1 } }, { "../../custom-lodash": 1 }], 10: [function (e, t) { var s = e("../../custom-lodash"), a = s.cloneDeepWith, o = s.isObject, n = s.isArray, r = s.reject, i = s.mergeWith, c = s.isNull; t.exports = function (e, t) { return i(e, t, (function (e, t) { if (null == t) return null })), function (e, t) { return a(e, (s = 1 < arguments.length && void 0 !== t ? t : function (e) { return !e }, function e(t) { if (o(t)) { if (n(t)) return r(t, s).map((function (t) { return a(t, e) })); for (var i = {}, c = 0, d = Object.keys(t); c < d.length; c++) { var l = d[c]; s(t[l]) || (i[l] = a(t[l], e)) } return i } })); var s }(e, c) } }, { "../../custom-lodash": 1 }], 11: [function (e, t) { var s = e("../../custom-lodash"), a = s.find, o = s.includes; t.exports = function (e, t) { return void 0 === a(Object.keys(t), (function (s) { var a = t[s].type, n = s && t[s].values, r = !t[s].optional, i = e[s], c = p(i), d = a && c !== a, l = n && !o(n, i); return r ? !i || d || l : i && (d || l) })) } }, { "../../custom-lodash": 1 }], 12: [function (e, t) { var s = e("../../custom-lodash").isEqual; t.exports = function (e, t) { var a = t.event; if (Object.prototype.hasOwnProperty.call(e, a)) { var o, n = u(e[a].entries()); try { for (n.s(); !(o = n.n()).done;) { var r = i(o.value, 2), c = r[0], d = r[1]; if (s(d.handler, t.handler)) return c } } catch (e) { n.e(e) } finally { n.f() } } return -1 } }, { "../../custom-lodash": 1 }], 13: [function (e, t) { function s(e, t) { return !t.data || !e.path || a(t.data, e.path) || n(t.data, e.path) } var a = e("../../custom-lodash").has, o = e("../constants"), n = e("./ancestorRemoved"); t.exports = function (e, t) { var a = e.event, n = t.config, r = !1; return t.type === o.itemType.DATA ? a === o.dataLayerEvent.CHANGE && (r = s(e, t)) : t.type === o.itemType.EVENT && (a !== o.dataLayerEvent.EVENT && a !== n.event || (r = s(e, t)), t.data && a === o.dataLayerEvent.CHANGE && (r = s(e, t))), r } }, { "../../custom-lodash": 1, "../constants": 2, "./ancestorRemoved": 9 }], 14: [function (e, t) { t.exports = { version: "2.0.2" } }, {}]
                            }, {}, [4])
                        }
                    }
                }, "gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js": { script: function (e, t, s, a) { "use strict"; e.exports = function () { var e = a.getExtensionSettings(); return window[e.dataLayerName] } } }
            }
        }
    }, company: { orgId: "B52D1CFE5330949C0A490D45@AdobeOrg", dynamicCdnEnabled: !1 }, property: { name: ".Next BMW NSC Async DE", settings: { domains: ["bmw.de"], undefinedVarsReturnEmpty: !1, ruleComponentSequencingEnabled: !0 }, id: "PR5b78ee18668d4e07ae49fef1f53a09ed" }, rules: [{ id: "RLc779501f13e44ff0a3105787804fa717", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - AEM Workaround WL 1", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1e82f91cd55449038fc9dc44e759000b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb8dc070af206424f91903fd50dd77741", name: "TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2fad9a67a98e47b9a11c4d5e0f4929b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9609f9c475748698a86e47707b24b88", name: "TPT - GR - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC17362cd36f6e40f28cdd5e89af5613d9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL21df7ad0ea724d0eb2d6effea344a1e6", name: "TPT - ES - AEM - Adform - Local Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc7d90cca29f74ad092b54c8f4c4ea365-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcfcd34e313454e4da48da9abfa8b177c", name: "TPT - MX - AEM - GoogleSearch - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4933b730dee8411eb75d66e5f683717a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6a11c393b77941a6a5864a3a5ab66a9e", name: "TPT - SK - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC62da8d62e751451d8c7f335453d43d84-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3099f93118f24bff857e433f4510538e", name: "TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC67857425670e4c2db0ae5b3ea4b69bcb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL548d60c1d70a41ada5d8ee60d47e6d69", name: "TPT - BE - AEM - Facebook - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fr/configurateur", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC62a557a92e484ba995135f942a52bf82-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL221f1dc5cd6e46439791a201cfcfe0f9", name: "TPT - BE - AEM - Adwords - Adobe form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaca495952a9d41478a69c14a5bc26672-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL12904aa0a99e4d3198ec108b2ce7d28e", name: "TPT - PT - AEM - Facebook - SignIn - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "div.ds2-mybmw-content.ds2-mybmw-loggedout > div:nth-child(5)", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCee80b0a928024e2985ad2c77ad82ccc9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe3aca7ea4e7c4fe89b2d4decfbc65c09", name: "TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "m.bmw.de", valueIsRegex: !0 }, { value: "m156.bmw-int3.com", valueIsRegex: !0 }, { value: "m156.bmw-int9.com", valueIsRegex: !0 }, { value: "m14.bmw-int1.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/faszination-bmw/connecteddrive/bmw-connected" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC35659bd70fa8421c948828ece724115e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCebf07bc74bbd4651ae15596da7d72bbf-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL184732ec4e71412d95460dc53b4e7f85", name: "TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9e9ccd8d164e4b88b35ba5c28aaa630f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb3bfc3d24be1422a8fbd64053e6430bd", name: "TPT - UK - AEM - GTagDC - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC98b13d68dd8948f285f33e78e0b0d5ef-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2ff8194c5c147cfb893fdb7b2e0a54f", name: "TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6ab551b855744b1ba854f8f9ee7cca21-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL39c5f36ac70c400b97a635db3f82c6e3", name: "TPT - PL - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbc895871bb744ce0b554a4daa17bf9e6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL667318d9f5e546418f0db10ee61bad71", name: "TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCafca1101e49441128750e35831108175-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL061374bb4eeb401abba674904e84eb6d", name: "TPT - HU - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf764ed26a95e4826bcfa13f13d36b4db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc50551a34bc74a2bb1ef0cb831757e2d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcd0957f37fd54af993f8027a9048ff0a", name: "TPT - BG - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc1390367b88a4a0aa7266a7b98708a04-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL042f071226ef47f385849fc5e05cb28e", name: "TPT - SK - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f82bf4f672c4e8493db5da5f282e15b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe7035098c59349d69bfcbbb4860ed2e6", name: "TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "configurator" }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0 } catch (e) { _satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb706c2b590804ef8a00fd080c12c7099-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLacdcdda952374cd1aaa7851dc4f1a955", name: "TPT - RU - AEM - Calltouch - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdb4f7c359b59417c8c29cfe127a2c8bc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL963e8ed2bc864a069eeb415fcf03d85a", name: "TPT - DE - AEM - Outbrain - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd8f77b3185a745a1b5eddb5fc39728ff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1875129ec40345dda87208492b335128", name: "TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1ba391cc157e425d9dbff4208d78b359-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcee8e539f84c4521b4841114d7935c85", name: "TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC573d2eacf509462d9beaeae01bfd53e7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL16940a4762d64087b258f09dfb0078b4", name: "TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf872cc6b116542228a823f8479f15d55-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL20aa38a5f9964b4a907aa9d6b331d67c", name: "TPT - IE - AEM - Adwords - RFO - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3addc9fe09f24c6492fb49b087c7e107-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL12569e0184264a4ca418f491a1ec0de0", name: "TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8103ce3cc3c24b9089291b1c8501fc04-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLf8183cfbf4b74ddea8ae448a6e1ca231", name: "TPT - CH - AEM - GtagDC - Multiple Pages - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0fd62feda5f545328325bebeb3a4f4b8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLa73da87a581d49488346d3e67a4c5e1c", name: "TPT - SI - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2f7cea405538435083a700d0683fe572-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc0dd716ac1494126aeac58ace5566a9c", name: "TPT - NL - AEM - Facebook - Site Search - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/publicPools/search-results/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeed1d73051f548af9ba051854c2b89fd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcc60f47daa7649248eecbaa7b0259aa4", name: "TPT - IE - AEM - GTagDC - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4a8de15112d54b53b8bb990ea1617bd0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0f6361b4270d49a28a7c696e51c8c80f", name: "TPT - PL - AEM - Facebook - User Car Search -EBR-p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".btn.btn-primary.btn-block", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9cf56c60db8e4f54915b1a5cc951542b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc7ec80432eff42e1ab7129e6f00ac999", name: "TPT - GR - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcfaecced3595477ba610573a1403ba28-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbb15d462a9064075b1d20bda729f7cf5", name: "TPT - PT - AEM - GTagDC - Shop - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7657eb2131844e4ba55389b1dbfa10ba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL950f3ec5bc204c4a980aebfcd98b689c", name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { var t = _satellite.getVar("KIT-helpers").privacyManager, s = (_satellite.getVar("consentMap"), { GIVEN: "GIVEN", REVOKED: "REVOKED", UNKNOWN: "UNKNOWN" }), a = function () { var a = _satellite.getVar("consentMap"); t.registerOnConsentChange(a.AdobeAnalytics, (function (t) { t === s.GIVEN && e() })) }, o = function () { var a = { ANALYTICS: "analytics", ADVERTISING: "advertising" }; t.registerOnConsentChange((function (t, o) { o === a.ANALYTICS && t === s.GIVEN && e() })) }; t.type === t.ENUM_TYPE.EPAAS_SPLIT ? a() : t.type === t.ENUM_TYPE.EPAAS_NON_SPLIT && o() } catch (e) { } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAAAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "shop.bmw.co.kr", valueIsRegex: !1 }] }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { try { return null == adobeDataLayer.getState("page") } catch (t) { _satellite.logger.log(e.$rule.name + " condition to check if ACDL is present fails", t) } } }, timeout: 2e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")), o = s.get("event.-1.eventInfo.eventName"), n = _satellite.getVar("smartPreviousValueManager"), r = (window.location.href, t.Util.cookieRead("gcdmToken")); t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = "", _satellite.getVar("setDefaultVariables", e)(t); try { "datalayer field missing" == a && (a = dataLayer.pages[0].page.pageInfo.pageName || "datalayer field missing") } catch (t) { var i = { from: "AA", type: "PLR", name: e.$rule.name }; _satellite.logger.error(t, i) } if (t.prop1 = t.pageName = -1 == a.indexOf("nsc >") ? "nsc > " + a : a, window.location.href.indexOf("/dcs/") > -1 || "nsc > stocklocator" == t.prop1) return void (t.abort = !0); if (t.eVar34 = -1 == o.indexOf("nsc >") ? "nsc > " + o : o, t.prop42 = "nsc website", t.prop5 = s.get("page.category.subCategory02"), s.get("pageInstanceId").indexOf("error-pool/") > -1 && (t.pageName = t.pageURL, t.pageType = "errorPage", t.prop1 = t.pageName), "nsc > stocklocator" == t.pageName && (t.prop19 = "central new car stock locator"), 0 != s.get("product").length) { for (var c in s.get("product")) if (!isNaN(+c)) { var d = s.get("product." + c + ".attributes.mmdr", s.get("product." + c + ".attributes.internalCode")), l = s.get("product." + c + ".attributes.mmdrVG", s.get("product." + c + ".attributes.internalCode")), u = s.get("product." + c + ".attributes.modelCode"); P = "G26E" == d || "G26E" == l || "71AW" == u || "31AW" == u ? "G26E" : "G70E" == d || "G70E" == l ? "G70E" : s.get("product." + c + ".attributes.mmdr", s.get("product." + c + ".attributes.internalCode")) } var m = _satellite.getVar("setDefaultProductVariables"); m.id = P, m.category = "new vehicle", m.merchEvars.eVar52 = s.get("product.-1.attributes.modelName"), m.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), m.merchEvars.eVar10 = P, m.merchEvars.eVar51 = s.get("product.-1.attributes.bodyType"), t.products = m.toString() } if (void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var b = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(b), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event971=" + json_data.timeServer, ",", 1), t.events = t.apl(t.events, "event972=" + json_data.timeServerReact, ",", 1), void 0 !== json_data.lcp && (t.events = t.apl(t.events, "event973=" + json_data.lcp, ",", 1)), t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.events = t.apl(t.events, "event975=" + json_data.timePageReady, ",", 1), void 0 !== json_data.fid && (t.events = t.apl(t.events, "event968=" + json_data.fid, ",", 1)), void 0 !== json_data.cls && (t.events = t.apl(t.events, "event969=" + json_data.cls, ",", 1), t.events = t.apl(t.events, "event967=" + json_data.clsTotal, ",", 1)), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash"), void 0 !== json_data.fidHTML && (t.eVar67 = json_data.fidHTML), void 0 !== json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML)), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } if (t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timeStamp"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop54 = s.get("event.-1.category.primaryCategory"), t.prop55 = s.get("event.-1.category.subCategory01"), t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), "user_centric_navigation" == t.prop19 && (t.events = t.apl(t.events, "event919,event920", ",", 1)), "delayed" == s.get("event.-1.category.eventType")) if (t.prop56 = "interaction", t.prop54 = s.get("event.-1.category.primaryCategory", s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")), "Navigation" == s.get("event.-1.category.primaryCategory") && "user_centric_navigation" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) { var p = s.get("event.-1.attributes.relatedComponent.category.primaryCategory", s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")), g = (o = s.get("event.-1.eventInfo.eventName")).split("L").length; t.events = 2 == g && "Navigation" == p ? t.apl(t.events, "event917,event918,event919,event920", ",", 1) : t.apl(t.events, "event917,event918", ",", 1), t.prop42 = "nsc website", t.prop2 = s.get("page.category.pageType"), t.prop3 = s.get("page.category.primaryCategory"), t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop4 = s.get("page.category.subCategory01"), t.prop5 = s.get("page.category.subCategory02"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop1.indexOf("nsc >") < 0 && (t.prop1 = "nsc > " + t.prop1), t.prop28 = s.get("page.attributes.virtualPage"), t.prop29 = s.get("page.pageInfo.version"), t.prop14 = (new Date).toISOString().substr(11, 8), t.prop15 = (new Date).toString().substr(16, 8); try { r && (t.prop40 = "logged-in"), "" == r && (t.prop40 = "not logged-in") } catch (e) { } t.eVar136 = "2020 - 06- 15 user_centric_navigation", t.eVar137 = "AEM6", t.prop53 = "delayed" == s.get("event.-1.category.eventType") ? "success" : "ux", t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.linkTrackVars += "prop42,prop43,prop44,prop19,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71" } else if ("Outbound click" != s.get("event.-1.eventInfo.eventAction") && "Internal click" != s.get("event.-1.eventInfo.eventAction") || "salesbar" != s.get("event.-1.attributes.relatedComponentName") && "sticky_sales_bar" != s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) if ("Open navigation" != s.get("event.-1.eventInfo.eventAction") && "Internal click" != s.get("event.-1.eventInfo.eventAction") || "model_navigation_hp" != s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) if ("accessory click" != s.get("event.-1.eventInfo.eventAction") && "cta click" != s.get("event.-1.eventInfo.eventAction") || "ZSO_accessories" != s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) t.prop53 = "success", t.prop3 = s.get("page.category.primaryCategory"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.events = t.apl(t.events, "event917,event918", ",", 1), t.linkTrackVars += "prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54"; else { var f = s.get("event.-1.eventInfo.effect"), v = s.get("event.-1.eventInfo.eventAction"); t.prop56 = "interaction", t.prop53 = "ZSO CTA click" == o ? "success" : "ux", t.eVar34 = -1 == f.indexOf("nsc >") ? "nsc > " + f + " clicked" : f + " clicked", t.prop3 = t.prop54 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName", s.get("component.-1.componentInfo.componentName")), t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop55 = s.get("event.-1.eventInfo.cause"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.prop51 = o, t.prop52 = "default", t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.eVar136 = "2020 - 06- 15 ZSO_accessories", t.eVar60 = s.get("event.-1.attributes.manufacturer", s.get("product.-1.productInfo.manufacturer")), t.eVar55 = s.get("product.-1.category.subCategory01"), t.eVar65 = s.get("event.-1.attributes.productName"), t.prop42 = "nsc website", t.prop43 = "accessories", t.prop28 = s.get("page.attributes.virtualPage"), "virtual" == t.prop28 && (t.prop28 = "virtual page"); var h = _satellite.getVar("setDefaultProductVariables"); if (0 != s.get("product").length) { var P = ""; for (var c in s.get("product")) isNaN(+c) || (d = s.get("product." + c + ".attributes.mmdr", s.get("product." + c + ".attributes.internalCode")), l = s.get("product." + c + ".attributes.mmdrVG", s.get("product." + c + ".attributes.internalCode")), u = s.get("product." + c + ".attributes.modelCode"), P = "G26E" == d || "G26E" == l || "71AW" == u || "31AW" == u ? "G26E" : "G70E" == d || "G70E" == l ? "G70E" : s.get("event.-1.category.mmdr", s.get("product.-1.attributes.mmdr"))); h.id = P, h.category = "new vehicle", h.merchEvars.eVar10 = P, h.merchEvars.eVar53 = "new car", h.merchEvars.eVar54 = "build to order" } if ("ZSO recommended accessory click" == o || "ZSO CTA click" == o) { var j = _satellite.getVar("setDefaultProductVariables"); j.id = s.get("event.-1.attributes.wishlist.-1").split("~")[2], j.category = "after sales", j.merchEvars.eVar53 = "accessory configurator", j.merchEvars.eVar52 = s.get("event.-1.eventInfo.cause"), j.merchEvars.eVar54 = s.get("event.-1.attributes.wishlist.-1").split("~")[0], h.append(j) } switch (t.products = h.toString(), t.linkTrackVars += ",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44", o) { case "ZSO Specific accessory click": case "ZSO recommended accessory click": "accessory click" == v && (t.events = t.apl(t.events, "event917,event918,event253,event254", ",", 1)); break; case "ZSO CTA click": "cta click" == v && (t.events = t.apl(t.events, "event917,event918,event253,event254,event255,event256", ",", 1), "Request Offer now" != f && "Order Information" != f && "Request for Test drive" != f || (t.events = t.apl(t.events, "event1,event2", ",", 1))) } } else t.prop56 = "interaction", t.prop53 = "ux", t.prop43 = "navigation", t.eVar34 = "nsc > " + o + " clicked", t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop42 = "nsc website", t.prop53 = "navigation", t.prop13 = "bmw", t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.eVar134 = "web", t.prop27 = s.get("page.pageInfo.pageID"), t.prop3 = s.get("component.-1.componentInfo.componentName"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.eVar135 = s.get("page.pageInfo.devEnv"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.prop12 = s.get("event.-1.eventInfo.timeStamp", s.get("event.-1.eventInfo.timestamp")), t.eVar136 = "2020 - 06- 15 model_navigation_hp"; else t.events = t.apl(t.events, "event917,event918,event921,event922"), t.prop43 = "navigation", t.eVar34 = "nsc > " + o + " clicked", t.prop52 = "default", t.prop53 = "ux", t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.prop13 = "bmw", t.eVar134 = "web", t.prop27 = s.get("page.pageInfo.pageID"), t.prop28 = s.get("page.attributes.virtualPage"), t.prop3 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName", s.get("component.-1.componentInfo.componentName")), t.prop2 = s.get("page.category.pageType"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.eVar135 = s.get("page.pageInfo.devEnv"), "new car" == s.get("product.-1.category.primaryCategory") && (t.eVar54 = "build to order"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), "Outbound click" == s.get("event.-1.eventInfo.eventAction") && o.indexOf("test") > -1 && o.indexOf("drive") > -1 && (t.prop11 = "tda", t.prop8 = "form start intention", t.linkTrackVars += ",prop11,prop8"), t.eVar136 = "2020 - 06- 15 salesbar", t.linkTrackVars += ",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136"; if (n.update("pageName", t.prop1), n.update("componentSubcategory1", t.prop43), _satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()) { var C = s.get("event.-1.attributes.relatedComponentID"); for (T = 0; T < s.get("component").length; T++) { var y = T.toString(); s.get("component." + y + ".componentInfo.componentID") != C && s.get("component." + y + ".componentInfo.componentId") != C || (_satellite.logger.log("related component - " + s.get("component." + y)), s.get("component." + y + ".componentInfo.componentName", s.get("event.-1.attributes.relatedComponentName", s.get("product.-1.attributes.relatedComponentName"))), s.get("component." + y + ".componentInfo.componentID", s.get("component." + y + ".componentInfo.componentId")), s.get("component." + y + ".category.primaryCategory")) } o = _satellite.getVar("eventName"), f = _satellite.getVar("eventEffect"), _satellite.getVar("eventCause"), _satellite.getVar("eventPrimaryCategory"), _satellite.getVar("eventSubCategory01"), t.events = t.apl(t.events, "event925,event926"), t.eVar34 = "nsc > " + s.get("event.-1.eventInfo.effect", "cookie drawer is shown"), t.prop51 = s.get("event.-1.eventInfo.eventName", "Cookie drawer impression"), t.prop52 = s.get("event.-1.eventInfo.cause", "default"), t.prop55 = s.get("event.-1.category.subCategory01", "impression") } try { var w = _satellite.getVar("topLevelDomain"); if ("true" == _satellite.getVar("isAdobeAnalyticsAllowed") && ("bmw.de" == w || "bmw.fr" == w || "bmw.co.uk" == w || "bmw.it" == w)) { function R() { function e() { s || (s = !0, window.CS_CONF && (CS_CONF.integrations = CS_CONF.integrations || [], CS_CONF.integrations.push("Adobe Analytics"))) } var s = !1; window._uxa = window._uxa || [], _uxa.push(["afterPageView", e]); var a = "_cs_mk", o = ("; " + document.cookie).split("; " + a + "="); if (_satellite.logger.log("contentsquare installation1", o.length), 1 == o.length) { var n = Math.random() + "_" + Date.now(); t.eVar142 = n, _satellite.logger.log("contentsquare installation", t.eVar131); var r = function () { for (var e = 0, t = document.domain, s = t.split("."), a = "_gd" + (new Date).getTime(); e < s.length - 1 && -1 == document.cookie.indexOf(a + "=" + a);)t = s.slice(-1 - ++e).join("."), document.cookie = a + "=" + a + ";domain=" + t + ";"; return document.cookie = a + "=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=" + t + ";", t }(); document.cookie = a + "=" + n + "; expires=session ;path=/;domain=" + r, _uxa.push(["trackDynamicVariable", { key: "csMatchingKey", value: n }]) } } R() } } catch (e) { i = { from: "AA", type: "Rule", name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon" }, _satellite.logger.error(e, i) } try { var x = _satellite.getVar("AA-componentDefaultValues"); x && "configurator all models" == x.componentName && (t.prop1 = "nsc > all-models-con-entry", t.pageName = "all-models-con-entry", t.prop2 = s.get("page.category.pageType", "page"), t.prop4 = s.get("page.category.subCategory01", "con entry"), t.prop3 = "models", t.prop28 = s.get("page.attributes.virtualPage")) } catch (e) { i = { from: "AA", type: "Rule", name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon" }, _satellite.logger.error(e, i) } for (var E = s.get("component"), T = 0; T < E.length; T++)if (E[T].attributes && E[T].attributes.onsiteSearch && "General" === E[T].attributes.onsiteSearch) { var I = "true"; break } if ("true" == I) { s.get("component.1.componentInfo.componentName"), s.get("component.-1.attributes.onsiteSearchResults"), t.prop56 = "search", t.prop53 = "content", t.eVar34 = "nsc > onsite search result clicked", t.prop51 = E[T].componentInfo.componentName, t.prop55 = t.prop24 = E[T].attributes.onsiteSearchResults, t.prop57 = s.get("event.-1.eventInfo.eventAction"), t.prop54 = "onsite search", t.prop44 = E[T].componentInfo.componentID, t.prop19 = "onsite search", t.prop42 = "nsc website", t.prop43 = "search", t.eVar136 = "2021 - 02- 19 onsite search", t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.prop13 = "bmw"; var _ = E[T].attributes.onsiteSearchTerm; t.events = t.apl(t.events, "event917,event918,event333,event334,event331,event332"); var A = _satellite.getVar("searchDefaultProduct"); (h = _satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), h.merchEvars.eVar53 = "new car", t.products = h.toString(), t.products += ",search;search;;;;" + A + "eVar30=datalayer field missing|eVar31=user selected|eVar32=" + s.get("event.-1.attributes.onsiteSearch") + "|eVar33=" + _ } t.prop56 = "page view", t.prop53 = "success", t.prop55 = s.get("page.category.subCategory01"), t.prop51 = s.get("page.category.subCategory02"), t.prop57 = "page load", t.eVar34 = "nsc > page: " + s.get("page.pageInfo.pageName") + " shown", t.prop54 = s.get("component.-1.componentInfo.componentName") } catch (s) { t.sa("bmwgroup.group.global.test"), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) } } }, trackerProperties: {} }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC159ab6f33e6a4ac6af9eaf7fac3f1c15-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/directCall.js", settings: { identifier: "TPT page view" }, timeout: 2e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 8e3, delayNext: !0 }] }, { id: "RLb7ec130a5d4b4a9e9cb500420a7b8f73", name: "TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_accessory-configurator_steps" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe06003fdb25b479591e496aabf520d4f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLca02060046f84bcf9499599a4e00fb70", name: "TPT - PL - AEM - Facebook - View Content - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe54508da3c9d42ceb3756cdf801140df-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLca44f8ac38fc445282cf3b3789a446b9", name: "TPT - UK - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5673198363b94dce935803f9eafd790d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLef5e1d4db7f14905873b94c934c7ed86", name: "TPT - LU - AEM - GTagDC - Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC178898ee999940ac952b4b26b5381885-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdf6cf7e294394b22a747804ce831be82-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLce5419fc560a43f2b5206da2d59d20a9", name: "TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce4c1c5464d14a7a98753b8316f73257-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ef0d5cab88548418a8641fc6e1c9c9f", name: "TPT - CZ - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC16152886ef1140d5835c21a154c7b7be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL468fc0aeef6c426a968c88ee49df4cd8", name: "TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC81efe9b947de42bca2e1c1143893ed08-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd3dc2df90990457c88ee882ee810586e", name: "TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3b17ce8b1f8c41089dd2774c932ca678-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3f825c2497fd4823ad0755010cf7c2ec", name: "TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC955a1b53d79949ac8900ec33f0d2bdfa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb900791c0e224751b21e5c76430c62b5", name: "TPT - DE - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf85aad436a54254a6fa5028ec853529-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcb245aabdfd348b296745ff4d49300e8", name: "TPT - NL - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd5b9fffa34df41acb00ea53feeea14ea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL017d225c11ef4ea98a54cb514fd1dac2", name: "TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdaaadc55647a4b1b8ef071efa53d486f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0a2e3547c6b14c3081fdc9eeb22135dc", name: "TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf6eafb446a340588dd99578c2b92784-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL00f22b91ea0843b48bf764cb0acaf80e", name: "TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7ebe358f6f2749b5902925c94bb6e0a2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdb72fc3816154e12abb408de5e26d68e", name: "TPT - RO - AEM - DoubleClick - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC51a65d6d04934b24a69722bfcfdc2b73-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL30ef3950ed054240a1b1d4513ef8a2e4", name: "TPT - CA - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{
            modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50
        }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96e36e5b5f684322a0a31a296b540d6e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL9d60e49374f7438cbe063ba3806bc0e0", name: "DCR - ALL - AEM - AA - ZSO Interaction", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "zso_interaction" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = ""; var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.eventAction"), n = s.get("event.-1.eventInfo.cause"), r = s.get("event.-1.eventInfo.effect"), i = s.get("component.-1.componentInfo.componentName"), c = (s.get("component.-1.category.subCategory01"), s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName"))), d = _satellite.getVar("setDefaultProductVariables"), l = _satellite.getVar("setDefaultProductVariables"); function u() { t.prop56 = "search", t.prop53 = "accessory", t.eVar34 = -1 == o.indexOf("nsc >") ? "nsc > " + o : o, t.prop54 = i, t.prop55 = "ZSO Select series" == a ? n : r, t.prop51 = a, t.prop52 = "default", t.linkTrackVars = t.apl(t.linkTrackVars, "prop56,prop53,eVar34,prop54,prop55,prop51,prop52") } function m() { var e; switch (l.category = "search", l.id = "search", a) { case "ZSO Select series": e = "series"; break; case "ZSO Select Modell range": e = "model"; break; case "ZSO Select Categories": e = "category"; break; case "ZSO Select Product": e = "product" }l.merchEvars.eVar30 = "datalayer field missing", l.merchEvars.eVar31 = "user selected", l.merchEvars.eVar32 = e, l.merchEvars.eVar33 = r, d.append(l), t.products = d.toString(), t.prop57 = "drop down menu", t.prop24 = n, t.linkTrackVars = t.apl(t.linkTrackVars, "prop53,prop57,prop24,products"), t.prop24 = n } _satellite.getVar("setDefaultVariables", e)(t), t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timestamp"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.eVar136 = "2020 - 06- 15 ZSO_accessories", t.eVar60 = s.get("event.-1.attributes.manufacturer", s.get("product.-1.productInfo.manufacturer")), t.eVar55 = s.get("product.-1.category.subCategory01"), t.eVar65 = s.get("event.-1.attributes.productName"), t.prop27 = s.get("page.pageInfo.pageID"); var b = s.get("page.pageInstanceId", s.get("pageInstanceId")), p = s.get("page.category.primaryCategory"); new RegExp("([a-z]{2}_[A-Z]{2})").test(p) ? b.indexOf("index-prod") > -1 ? t.prop3 = "homepage" : b.indexOf("all-models") > -1 ? t.prop3 = "showroom" : t.prop3 = b.split("/")[6] : t.prop3 = b, t.prop19 = i, t.prop42 = "nsc website", t.prop43 = "accessories", t.prop5 = s.get("page.category.subCategory02"), t.prop2 = s.get("page.category.pageType"), t.prop28 = s.get("page.attributes.virtualPage"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.prop1 = t.pageName = -1 == c.indexOf("nsc >") ? "nsc > " + c : c, t.linkTrackVars = t.apl(t.linkTrackVars, "prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44"); var g = s.get("event.-1.category.mmdr", s.get("product.-1.attributes.mmdr")); if (d.id = g, d.category = "vehicle", l.merchEvars.eVar10 = g, l.merchEvars.eVar53 = "new car", l.merchEvars.eVar54 = "build to order", t.products = d.toString(), "undefined" != t.products) { var f = "", v = 0, h = "", P = ""; v = (f = t.products).indexOf("eVar"), h = f.substring(v, f.length), P = f.substring(0, v), v > 0 && h.length > 0 && (t.products = P + h.replaceAll(/[,]/g, " ")) } switch (t.linkTrackVars = t.apl(t.linkTrackVars, "products"), a) { case "ZSO Select series": "select series" == o && (t.events = t.apl(t.events, "event917,event918,event251,event252,event253,event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event251,event252,event253,event254"), u(), m()); break; case "ZSO Select Modell range": "select model range" == o && (t.events = t.apl(t.events, "event917,event918,event253,event254,event257"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event253,event254,event257"), u(), m()); break; case "ZSO Select Categories": "select categories" == o && (t.events = t.apl(t.events, "event917,event918,event253,event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event253,event254"), u(), m()); break; case "ZSO Select Product": "select product" == o && (t.events = t.apl(t.events, "event917,event918,event253,event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event253,event254"), u(), m()) } } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "ZSO Interaction", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL77ee0ff6dec44da1815dd9dc15dd22f9", name: "TPT - SG - AEM - Verizon - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe23eb17d999042eaa12201b3fe422ebc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb5bf28f6ff0f43d7932b49fe70600ba9", name: "TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc4e3a633f53c419a892802933a804597-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdfd279193ab84439967bca9b07bd4356", name: "TPT - SI - AEM - Adform - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC57906f902d6a47919441155d00913daa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL913313244a9049e6bfec08d0183cfc75", name: "TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa90380bfdea44b19b1ec6fc3789c381e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL60c598de1fc84180857e501f97b4eabd", name: "TPT - HU - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1a09b790237647518a523ba35880df8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0467499d272c4a0a96237200b1753bf0", name: "TPT - FI - AEM - Adform - Make Appointment - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/fi/aiheet/j\xe4lleenmyyj\xe4t-locator.html|/fi/aiheet/j%C3%A4lleenmyyj%C3%A4t-locator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCef27e2232964447db26955aa937a8e79-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0c3e964178ea4099b32023a5481a226c", name: "TPT - JP - AEM - EBiS - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd07670de22b3437ab2ba93114cca8763-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL24c50e8483bc4ed0bc8c5562c259f57f", name: "TPT - BE - AEM - Adform - Make Appointment - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa7f98513de654abeac521cf7a7cfa194-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL094b4902e1404f47a40f1b893e09f138", name: "TPT - ES - AEM - Xander - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4786986b98ad479e8de3597738560637-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL521705064fdb4c1eafca66a307dea312", name: "TPT - ES - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC56e16bbc270d4b4ca405ce6ae7b89692-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC514051dc0aff44e589ffd0ab0091dfa4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0f1d8fe39f844252ad29d68fb1213726", name: "TPT - DE - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4bef36bb29e24acaaca297860471b3cd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8d781596ab545be8f23a2d2ecab31a1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8560126eaaa746c39614fc6828d9ad3c", name: "TPT - TH - AEM - GtagAW - Download Brochure - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcd6c1208a1e64e05aa91e1ac784e50de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe59308ae505b4a98a7995efc79f574fd", name: "TPT - IE - AEM - Floodlight - TradeInRequest View - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "en/topics/discover/forms/trade-in-request", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC51c8272f87014831824d0549e21bd53d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL03d402d4f66444aeaa6d16c02f701dd0", name: "TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR", events: [{ modulePath: "core/src/lib/events/submit.js", settings: { elementSelector: "form", elementProperties: [{ name: "id", value: "test-drive-second-form", valueIsRegex: !1 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2d3d74933bc440859f552ffc56731c3c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb614095bb9bd4b089690dc604b673ff9", name: "TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC81245d8bc8964d8387c8e68c9a5a7635-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4dda5fc861c54dd3abf5f2d2e3d6e014", name: "TPT - AT - AEM - gTagDC- Start Video - SCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe07aa37b4bc34f90838bbf6f10fb5f62-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaad5e2df6b9646408ddb909976235c6b", name: "TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC56d04480659244919ffafd449364ebbb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd3ce2b89b5604e03b2bd996009d6c2de", name: "TPT - KR - AEM - Mathtag - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.co.kr" }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63ce61088c14450c971cd05b7674b5b0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL01150484b75846d3b2232f5ba50c82c5", name: "TPT - SG - AEM - Adform - E-Brochure Download - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Download e-brochure", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html", valueIsRegex: !0 }, { value: "/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html", valueIsRegex: !0 }, { value: "/en/all-models/2-series/activetourer/2018/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/2-series/grantourer/2018/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/6-series/gran-turismo/2017/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/X2/2017/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/X2/2017/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/X4/2018/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/x7/2018/bmw-x7-inspire.html", valueIsRegex: !0 }, { value: "/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html", valueIsRegex: !0 }, { value: "/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html", valueIsRegex: !0 }, { value: "/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html", valueIsRegex: !0 }, { value: "/en/all-models/m-series/m3-sedan/2017/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/m-series/m4-coupe/2017/at-a-glance.html", valueIsRegex: !0 }, { value: "/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc0efa05829334f569d396f41290af119-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6336e76395624a24adc4f234b72ebe76", name: "TPT - GR - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC07f3bb891fe44c86b91b58621aff9379-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb44461c379904d22a223cfc1fd14a693", name: "TPT - NO - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC61b0c663fe3a406dab0c0478c0cbd1b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5cb39e47aeff4110b16d061ba1a9f8c5", name: "TPT - NL - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa5d17262c3fd44a28fb89a39726e7d18-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb8e43e60e6874e7ea7c9a1dfec1bca4f", name: "TPT - JP - AEM - PsymaSurvey - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { new Promise((function (t, s) { var a = !1; (window.consentcontroller && window.consentcontroller.api || window).addEventListener("consentcontroller.api.initialized", (function () { a = !0, console.log("epaas promise is resolved"), document.getElementsByTagName("epaas-consent-drawer-shell").length || window.epaas.api.showDisclaimer() ? (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.drawerhidden", (() => { t(!0), e() })) : (t(!0), e()) })), setTimeout((function () { a || s() }), 5e3) })).catch((function () { console.log("epaas promise is rejected") })) } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "PSYMA" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6af6348b01cf433bab02bda82a86c89b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL125a0a9290ef4a13ad047cbac721f28d", name: "PLR - DE - Showroom page - Adobe Target - Save Models Viewed", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 41 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/neufahrzeuge/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ced7c10e15c481882dcd85b419fd38b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7ad52856ef174e57a2a75d1d2c95be57", name: "TPT - IT - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7f035eb6f6c545fa89036c4201bd19d4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCef44e8319a8c4248879dfeea4a88438b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL87d50ae3aad040609b216c19477ba484", name: "TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.pl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f29193de6454fee873d694ff5ec3a8f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfee49abf6d75453fbc498b16a08a5c7d", name: "TPT - SG - AEM - Apex - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC22dbf006de374ae0bbea2b6c05f69ea4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c93f9c49756488194c94bf275c2e831-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL19eebc1eae2647e2bf05ced8d2767596", name: "TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9dfa26bbe2d745238308f41f6af0358b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdf065b06594448fc9a341c501f5a978c", name: "TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6bbd53eed943416388bd7b15b386340c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1a8989363e6542aeb6ceb14240535d9d", name: "TPT - PT - AEM - Facebook - Configuration - Reservation Start - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC91d8ab61951149048bd32bba66e71aac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0417af9448fa4e5e8eb3ef657360825f", name: "TPT - AT - AEM - GTagDC - Make Appointment - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC65dadc13dd7947a09bb465a61a98741f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ad997fae5974b968f95183837d7c3da", name: "TPT - NL - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href $= "pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8073f9ef48c347a98aecf73393dbc2ad-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaf49f414426f46c0ac686a4ab6ff4c2e", name: "TPT - DE - AEM - GTagDC - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf8a104e160194f5d921bfa4da87149ba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL03c390e26e3f4ed1ae9562868379831e", name: "TPT - IN - AEM - gTagDC - Form_Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 90 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5bb2d88a1d04f448f2d98c664e774f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL4865d1c0b2f549c0991011cb4e31def1",
        name: "TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3e9c1392cc18425d845baa433f34fa9d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLf229071de7474a6bb421014c6bd484b4", name: "TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_fs_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa961aa8e93824ce293e94d73785ba6cc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeb7d056d98364f868ce54b062a91616f", name: "TPT - ZA - AEM - ContentSquare - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcaf4bf580aa14a8ba4cfe0f760191a9f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL42e384a6e4ac4fbda3fbd30dbff49735", name: "TPT - CZ - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc60a53388afd49cfbc28164300d584ff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL99a506ec04a64ae2a3e4472ba3898095", name: "DCR - All - AEM - AA - Electric Range", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "electric_range_content" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "electric-range" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = s.get("event.-1.attributes.relatedPageName", s.get("page.pageInfo.pageName")), r = (s.get("event.-1.category.subCategory01"), s.get("product.-1.attributes.fuelType")), i = _satellite.getVar("AA-componentDefaultValues"), c = _satellite.getVar("smartPreviousValueManager"); if (-1 != r.indexOf("|") && (r = r.replace(/\|/g, "~")), _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t), t.prop1 = -1 == n.indexOf("nsc >") ? "nsc > " + n : n, t.prop41 = s.get("component.-1.category.componentType"), t.prop45 = s.get("component.-1.category.componentVersion"), t.prop56 = a, t.prop57 = s.get("event.-1.eventInfo.eventAction"), t.prop12 = s.get("event.-1.eventInfo.timeStamp"), t.prop13 = "bmw", t.prop19 = s.get("component.-1.componentInfo.componentName"), t.eVar34 = -1 == o.indexOf("nsc >") ? "nsc > " + o : o, t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop54 = s.get("event.-1.category.primaryCategory"), t.prop55 = s.get("event.-1.category.subCategory01", s.get("event.-1.category.subCategory1")), t.eVar71 = s.get("event.-1.attributes.requestedURL"), t.prop42 = i.primaryCat || "datalayer field empty", t.prop43 = i.subCat || "datalayer field empty", t.prop44 = s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID", s.get("event.-1.attributes.relatedComponent.componentInfo.componentID")), t.prop27 = s.get("event.-1.attributes.linkedPage.pageInfo.pageID"), t.prop53 = s.get("event.-1.eventInfo.type"), t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop59 = s.get("product.-1.attributes.configID"), t.eVar59 = s.get("product.-1.attributes.configLink"), "interaction" == a ? (t.events = t.apl(t.events, "event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918")) : "error" == a && (t.events = t.apl(t.events, "event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event931,event932")), t.products) t.products.indexOf("search") > -1 && (d = _satellite.getVar("setDefaultProductVariables"), t.products += d.toString()); else { var d = _satellite.getVar("setDefaultProductVariables"); t.products = d.toString() } "tr > errors" != t.prop56 && "error" != t.prop56 && "error" != t.prop53 || (t.events = t.apl(t.events, "event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event931,event932")), t.linkTrackVars += "prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19", c.update("pageName", t.prop1) } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "electric range", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0b8bccad242c406684fd75d1249c171b", name: "TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/fastlane/dealer-locator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC74e2595525f24cad9435c10d92d49c7a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa67e79ebc8b9478b96902f8452df0e3a", name: "TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2576a212e4ee425099d3648230e8c9a7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6e867ed337fa43fbb54fc936fd05248b", name: "TPT - LU - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb461642e0d354dcaa09493aebebad7c3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdc01af57a8c44461b0dc137b702e7133", name: "TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8eeb399de1fc42e598a9009c9e35b2eb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf18607b699434c8a8db9f77540a5c68d", name: "TPT - ZA - AEM - Adform - X3 Inspire Test Drive - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#top-of-content > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta.show-for-large-up > div > div > div.show-for-large-up > ul > li:nth-child(1) > a > span", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en/all-models/x-series/X3/2019/bmw-x3-inspire", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb70e520395d248a2942280e823db768a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3a4e869502fc44b8a835aae73adf7817", name: "TPT - IE - AEM - AdWords - TDA - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: 'a[title="Book a test drive"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0906001b312f43fa8cd3b5f8614568b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2be2da41080840d3b516e403320f60aa", name: "TPT - IE - AEM - Adwords - TDA - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92f15ecf36c4459c80f172bc5154ec55-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe641f722c6944c27b1aa7979a0c85717", name: "TPT - DE - AEM - LinkedIn - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7e2806dd41be4a4794ba942a2e5d3e56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL48da8af8f3514fc392e73756cba0e483", name: "TPT - SK - AEM - Facebook - Site Search - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/sk/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd215195986c540228d792170e9fb2796-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8ce628fbd009482b8cb3842d05df16c8", name: "TPT - HU - AEM - gTagDC- Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC13d8ad4df3b94f8484c76c597a0d4ba8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc25c3b5ae7d4401aa761f58bf894452a", name: "TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd128476c415f47e4b7f555569c85c406-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL42778641016545d2894ebf57197e79d7", name: "TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC157ba8b639174e0390e24b47eced0409-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3d5c490a1c0b4347a8fa200eaf6b016e", name: "TPT - NL - AEM - Adform - TDA Form View - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC581dcb7a88ee4dc1a158a45eb85c302a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3a0116d71d0c491a8b33c06686fa7c6f", name: "TPT - FR - AEM - Facebook - Mini DCS Form View - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC918f7549b55343f09b767c95afd784b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL329a01ca52e94bb4bd0a4afc107f044a", name: "TPT - SE - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href $= "pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63ce2bb4234c45a69b99f02d803d664a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL537df0f6262546d7b89f541584353832", name: "TPT - LU - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9645ef86439f478980240076bf2e87d6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb189c9f9c9e741f49c116852faeb7ca0", name: "TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0906e06c316e46caba6187ddbc40f666-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5291097ad7174aff8331af625ca9c26f", name: "TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: ".ds2-buttonlist--item.ds2-buttonlist--max-width", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: ".ds2-sticky-sales-bar__item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Oversikt over alle BMW (i |)kampanjer", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: "a", elementProperties: [{ name: "title", value: "Kontakt din forhandler", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/topics/produkt-tilbud/tilbud/kampanjer.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCae1ccc8ff8f74d6ca6dfd98f6fd8fef2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9e2a36bf4722401aa376a6b67f3c7451", name: "TPT - PT - AEM - Facebook - FormTracking - RFI - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd5edc89f4ca746809e81be32a5ed38f8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe2c7efc86c1445f69204be3c652052a1", name: "TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "FR" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC44ebcac82faf4de7a9477cdeb82e3b50-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe7a3aebc059c45d1bdb277764b3e3928", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_finance_copy" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8242032432014f10b8a2bfe25347cfe4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ad3202bb2ad4d4c83c50cfdf798c08c", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - setting brand", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0e1cc8e1577c47bb8df4f255736d0383-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd70c9823f6374afb8c5f78058e09cac9", name: "TPT - PT - AEM - Adform - iFrame RFO Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7a54396cc8d942f4a7778d133b583f4a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc0ce110e7c0445ab9f25ee7fe37f7d7e", name: "TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 200 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC671345d7e3094c6ca241420b3c3fec13-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC07ae64e7a3d348c8b3d2d61e30d898ee-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5501e0bbbc848cfb9bf95046df8b7b0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc3b372ee670b45e18def78bf8051138f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdfe86f41cf004bc9aa63823a5431fff9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3aa974f66a16498aa8daed5d10fe5d44-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb42caa2a7d334f0fb60559dc7b0ad3b4", name: "TPT - ZA - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC238921d0341b4d988411d20a9871e38f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9a665f420dab44689021e409b4cfad5e", name: "TPT - SG - AEM - Lightning  Bolt - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdeee9d33f0a848d58ade60febb21fe16-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL23bf7ab95d6240f086aceeb4348425d0", name: "TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00a0031adf0c4f2a997172a74ce083d2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2268983017f44d508f77e5a862a2808a", name: "TPT - HU - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5aad892b93e4e6f9b1ec91eacc03fdf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7a45939992524ccd89ca36d5853e2c69", name: "TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div#action-bar div:nth-child(1) > div > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div#custom-dealer-container a.location__detail-website", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 500, elementSelector: "a", elementProperties: [{ name: "title", value: "Book a service" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("URLNoParam"); "www.bmw.co.uk/en/all-models" == e ? _satellite.setVar("ruleType", "floodlight_price_list_item") : "www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html" == e ? _satellite.setVar("ruleType", "floodlight_dealer_confirmation") : "www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html" == e && _satellite.setVar("ruleType", "floodlight_find_your_bmw") } catch (e) { _satellite.logger.error("TPT FloodLight UK", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7d3ec767b2ca48a5800dac553197ddb4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc16204e52cb84c9c9bffecffd724e115", name: "TPT - AT - AEM - Adwords - Adobe form - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC320f0ff663634c188c0cbe76dab7261f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLc42784d6a0e34911aa385a600267d6c5", name: "DCR - All - AA - TRON - PV", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tron_pageview" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.destinationURL", window.location.href), o = _satellite.getVar("smartPreviousValueManager"), n = new Date, r = n.getHours() <= 9 ? "0" + n.getHours() : n.getHours(), i = n.getMinutes() <= 9 ? "0" + n.getMinutes() : n.getMinutes(), c = n.getSeconds() <= 9 ? "0" + n.getSeconds() : n.getSeconds(), d = n.getUTCHours() <= 9 ? "0" + n.getUTCHours() : n.getUTCHours(), l = n.getUTCMinutes() <= 9 ? "0" + n.getUTCMinutes() : n.getUTCMinutes(), u = n.getUTCSeconds() <= 9 ? "0" + n.getUTCSeconds() : n.getUTCSeconds(), m = _satellite.getVar("searchDefaultProduct"); if (t.referrer = s.get("page.pageInfo.referringURL"), t.pageType = "error" == s.get("page.category.pageType") ? "errorPage" : s.get("page.category.pageType"), t.pageName = s.get("page.pageInfo.pageName"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop2 = s.get("page.category.pageType"), t.prop3 = s.get("page.category.primaryCategory"), t.prop4 = s.get("page.category.subCategory1"), t.prop5 = s.get("page.category.subCategory2"), t.prop13 = s.get("page.attributes.brand"), t.prop27 = s.get("page.pageInfo.pageID"), t.prop28 = s.get("page.pageInfo.variant"), t.prop29 = s.get("page.pageInfo.version"), t.prop30 = s.get("page.category.subCategory3"), t.prop46 = s.get("component.attributes.componentDevAgency", s.get("component.-1.attributes.componentDevAgency", s.get("page.pageInfo.author"))), t.eVar7 = s.get("page.pageInfo.language"), t.eVar8 = s.get("page.pageInfo.geoRegion"), t.eVar18 = s.get("page.pageInfo.pageTitle", document.title), t.eVar135 = s.get("page.pageInfo.sysEnv"), t.prop19 = s.get("component.componentInfo.componentName", s.get("component.-1.componentInfo.componentName")), t.prop41 = s.get("component.category.componentType", s.get("component.-1.category.componentType")), t.prop42 = s.get("component.category.primaryCategory", s.get("component.-1.category.primaryCategory")), t.prop43 = s.get("component.category.subCategory1", s.get("component.-1.category.subCategory1")), t.prop44 = s.get("component.componentInfo.componentID", s.get("component.-1.componentInfo.componentID")), t.prop45 = s.get("component.attributes.componentVersion", s.get("component.-1.attributes.componentVersion")), t.eVar134 = s.get("component.attributes.touchpoint", s.get("component.-1.attributes.touchpoint")), t.prop51 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.prop52 = s.get("event.eventInfo.cause", s.get("event.-1.eventInfo.cause")), t.prop53 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.prop54 = s.get("event.category.primaryCategory", s.get("event.-1.category.primaryCategory")), t.prop55 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")), t.prop56 = s.get("event.eventInfo.eventName", s.get("event.-1.eventInfo.eventName")), t.prop57 = s.get("event.eventInfo.eventAction", s.get("event.-1.eventInfo.eventAction")), t.eVar9 = s.get("event.attributes.iframeURL", s.get("event.-1.attributes.iframeURL")), t.eVar34 = s.get("event.eventInfo.effect", s.get("event.-1.eventInfo.effect")), t.eVar71 = s.get("event.eventInfo.attributes.requestedURL", s.get("event.-1.eventInfo.attributes.requestedURL")), t.eVar35 = s.get("dealer.dealerInfo.dealerOutletBuno", s.get("dealer.-1.dealerInfo.dealerOutletBuno")), t.eVar39 = s.get("dealer.dealerInfo.dealerOutletName", s.get("dealer.-1.dealerInfo.dealerOutletName")), t.eVar40 = s.get("dealer.dealerInfo.dealerOutletID", s.get("dealer.-1.dealerInfo.dealerOutletID")), t.eVar41 = s.get("dealer.dealerInfo.dealerGroupName", s.get("dealer.-1.dealerInfo.dealerGroupName")), t.eVar42 = s.get("dealer.dealerInfo.dealerGroupID", s.get("dealer.-1.dealerInfo.dealerGroupID")), t.eVar43 = s.get("dealer.attributes.selectionState", s.get("dealer.-1.attributes.selectionState")), t.prop40 = s.get("user.profile.attributes.loggedInStatus", s.get("user.-1.profile.-1.attributes.loggedInStatus")), t.eVar15 = s.get("user.profile.profileInfo.type", s.get("user.-1.profile.-1.profileInfo.type")), t.eVar16 = "object" == typeof s.get("user.segment", s.get("user.-1.segment")) ? "datalayer field empty" : s.get("user.segment", s.get("user.-1.segment")),
                                "object" == typeof t.eVar16 && (t.eVar16 = "datalayer field empty"), t.eVar17 = s.get("user.profile.profileInfo.profileID", s.get("user.-1.profile.-1.profileInfo.profileID")), t.eVar19 = s.get("user.profile.address.stateProvince", s.get("user.-1.profile.-1.address.stateProvince")), t.eVar20 = s.get("user.profile.address.country", s.get("user.-1.profile.-1.address.country")), t.eVar21 = s.get("user.profile.profileInfo.language", s.get("user.-1.profile.-1.profileInfo.language")), t.eVar136 = s.get("version"), t.eVar120 = s.get("cart.cartID"), t.eVar122 = s.get("cart.price.currency") || s.get("transaction.total.currency"), t.eVar123 = s.get("transaction.attributes.paymentMethod"), t.eVar125 = s.get("transaction.transactionID"), t.server = location.host, t.prop14 = d + ":" + l + ":" + u, t.prop15 = r + ":" + i + ":" + c, t.prop31 = o.get("pagePrimaryCategory"), t.prop32 = o.get("pageSubCategory01"), t.prop33 = o.get("pageName"), t.prop47 = t._ppvHighestPercentViewed, t.prop48 = t._ppvFoldsAvailable, t.prop49 = t._ppvFoldsSeen, t.prop50 = "page title", t.prop60 = _satellite.getVar("AA-consentMetaData")("drawer"), t.prop61 = _satellite.getVar("AA-consentMetaData")("identities"), t.prop62 = _satellite.getVar("AA-consentMetaData")("settings"), t.prop63 = _satellite.getVar("AA-consentMetaData")("defaults"), t.prop64 = _satellite.getVar("AA-consentMetaData")("consents"), t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? "landscape" : "portrait", t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.campaign = _satellite.getVar("campaign"), t.eVar4 = a, a.length > 255 && (t.eVar5 = a.substring(255, a.length)), t.eVar6 = document.referrer.split("/")[2], t.eVar11 = window.location.hash.split("?")[0].split("#")[1], t.eVar12 = window.location.protocol + "//" + window.location.host + window.location.pathname, t.eVar13 = window.location.hash ? window.location.hash.split("?")[1] : window.location.search.slice(1), t.eVar14 = o.get("url"), t.eVar28 = o.get("componentSubcategory1"), t.eVar29 = o.get("pathName"), t.eVar61 = t.eVar62 = t.campaign, t.eVar63 = _satellite.getVar("AA-InternalcampaignParameter"), t.eVar64 = _satellite.getVar("AA-SearchAds360Parameter"), t.eVar132 = window.navigator.userAgent, t.eVar137 = "AEM6", t.eVar161 = "datalayer field missing", t.eVar162 = "datalayer field missing", t.eVar171 = t.Util.getQueryParam("cid"), t.eVar172 = t.Util.getQueryParam("bid"), o.update("pageSubCategory01", t.prop4), o.update("pagePrimaryCategory", t.prop19), o.update("url", t.eVar4), o.update("jcrPath", window.location.pathname), o.update("pathName", t.eVar12), o.update("pageName", t.prop1), o.update("componentSubcategory1", t.prop43), void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var b = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(b), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event971=" + json_data.timeServer, ",", 1), t.events = t.apl(t.events, "event972=" + json_data.timeServerReact, ",", 1), void 0 !== json_data.lcp && (t.events = t.apl(t.events, "event973=" + json_data.lcp, ",", 1)), t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.events = t.apl(t.events, "event975=" + json_data.timePageReady, ",", 1), void 0 !== json_data.fid && (t.events = t.apl(t.events, "event968=" + json_data.fid, ",", 1)), void 0 !== json_data.cls && (t.events = t.apl(t.events, "event969=" + json_data.cls, ",", 1), t.events = t.apl(t.events, "event967=" + json_data.clsTotal, ",", 1)), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash"), void 0 !== json_data.fidHTML && (t.eVar67 = json_data.fidHTML), void 0 !== json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML)), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } var p = s.get("event.eventInfo.eventPoints", s.get("event.-1.eventInfo.eventPoints", "0")); if (t.events = t.apl(t.events, "event970=" + p), s.get("event.eventInfo.eventName", s.get("event.-1.eventInfo.eventName")).indexOf("form") > -1) { t.prop6 = s.get("page.category.primaryCategory"), t.prop7 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")); var g = s.get("event.eventInfo.effect", s.get("event.-1.eventInfo.effect")); g.indexOf(">") > -1 ? t.prop8 = g.split(">")[1].trim() : t.prop8 = g, t.prop9 = s.get("event.attributes.form.stepAmounts", s.get("event.-1.attributes.form.stepAmounts")), t.prop10 = s.get("event.attributes.form.formVariant", s.get("event.-1.attributes.form.formVariant")), t.prop11 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.prop16 = s.get("event.attributes.form.stepName", s.get("event.-1.attributes.form.stepName")), t.prop17 = s.get("event.attributes.form.rfxID", s.get("event.-1.attributes.form.rfxID")), t.prop18 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.linkTrackVars = t.apl(t.linkTrackVars, "prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18", ",") } var f = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")); "video" != f && "audio" != f || (t.prop36 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")), t.prop36 = t.prop36.indexOf("%") > -1 ? t.prop36.slice(0, -1).split("_").slice(0, -1).join("_") : t.prop36, t.prop37 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.prop38 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.linkTrackVars = t.apl(t.linkTrackVars, "prop36,prop37,prop38", ",")); var v = s.get("event.attributes.search.unit", s.get("event.-1.attributes.search.unit")), h = s.get("event.attributes.search.state", s.get("event.-1.attributes.search.state")), P = s.get("event.attributes.search.label", s.get("event.-1.attributes.search.label")), j = s.get("event.attributes.search.term", s.get("event.-1.attributes.search.term")); "datalayer field missing" != j && "datalayer field empty" != j && (t.products += ",search;search;;;;" + m + "eVar30=" + v + "|eVar31=" + h + "|eVar32=" + P + "|eVar33=" + j), _satellite.getVar("setTronProductString")(t), t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events, ","), t.linkTrackVars = t.apl(t.linkTrackVars, "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events", ",")
                        } catch (t) { _satellite.logger.error(t, e.$rule.name) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL166305099e9144a89bec3cd5520751da", name: "TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/en/ssl/book-a-video-consultation.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ddc76afe7884044b7b91c7947f70477-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0fd6344305704b7eb1e32f91fd3723de", name: "TPT - NL - AEM - Gtag AW - iFrame - RFS Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC457b25f183ec4da0a4b76d8fd024c9eb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL33a26836477e44319f0eaa9c08e05f10", name: "TPT - BE - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb16e31862873422c98d580f0ea3c563a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL291d80303c7a4c27b8ceebf628a49721", name: "TPT - NL - AEM - Facebook - iFrame Forms FS RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_fs_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe20ac6f2f2804bf1a2bae30593859d72-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL00bffbe3c05846fd92cc20e49af14b1a", name: "TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfe9eb290626343a19a1b989bb22f9cc7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7b5f2b9bccb3489c9365d8a022519528", name: "TPT - NO - AEM - Adform - ConfigurationLand - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/bygg-din-bmw.html" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04ad8e1c3b43432ab20bfbeec7342c6f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfebe35d2fa2a4d898cb9e1396f7e210c", name: "TPT - RU - AEM - Chatbot - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-third-party", (function (t) { t.detail && e() })) } catch (e) { _satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "RU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/ru/test/bot-test-1.html", valueIsRegex: !0 }, { value: "/ru/test/bot-test-2.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7f1734bbf5d24ae295637662bf4504c0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL755010f0c3d442269c47dea7ee15cad8", name: "TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0107aee40ee5434ba4b9b5639606d905-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc53c9442f8ce4918a184918db833acc6", name: "TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-dlo-search--button-container", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "Pesquisar" === $(".ds2-dlo-search--button-container button").text() } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa8c8902f062a488d9c3c797181e9cbe1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd87e09de0fc54d838cb0e52c7f7a62d7", name: "TPT - NL - AEM - GtagAW - Service Inclusive Form Completed - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC43b1e1fa50694fd9b925a47b74089035-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0e2f9c1f281549f881dbe8e4aed67382", name: "TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc9b8cd9577f14cb2834281d8182b6c30-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL12dd205a60864086982e4b6d2dd3ca32", name: "TPT - UK - AEM - GTagDC - RFI Form View - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8451b0e0e4ca41239756317874dd858c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8b5596eac4664820896eabaac1e6247e", name: "TPT - JP - AEM - Pardot - All Pages - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaed738dec2de42bcb2ba669be319a9b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLde19c31026404fd8a161a3baf5f7ca59", name: "TPT - SI - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf9720407d0394e0e9b55132f776afc37-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL22ce86e7e969401ea6b19a6a2d010132", name: "TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbbd76037b7b44ea59e881b89f004ba9a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfd066b95bf0e43b5a27c31c84dd2db52", name: "TPT - SE - AEM - Adform - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbd084ca0ff424ed8914d61689077237f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd9350f72ebc548f89170c32da141cf93", name: "TPT - CZ - AEM - Adform - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC757b8bea165e4032be715e9f9d0ab9f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9363fe32d278413b928cb216fb544ce6", name: "TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { new Promise((function (t, s) { var a = !1; (window.consentcontroller && window.consentcontroller.api || window).addEventListener("consentcontroller.api.initialized", (function () { a = !0, console.log("epaas promise is resolved"), document.getElementsByTagName("epaas-consent-drawer-shell").length || window.epaas.api.showDisclaimer() ? (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.drawerhidden", (() => { t(!0), e() })) : (t(!0), e()) })), setTimeout((function () { a || s() }), 5e3) })).catch((function () { console.log("epaas promise is rejected") })) } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de$", valueIsRegex: !0 }, { value: "m156.bmw-int1.com" }, { value: "m14.bmw-int1.com" }, { value: "m156.bmw-int\\d+.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "PSYMA" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC14dda953c4574389a20b887bc87520cf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd20cc9f1360e4446a5fd18aff252a575", name: "TPT - GR - AEM - IgnitionOne - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/el/publicPools/success-pool/success-page-tda.business-forms.html|/publicPools/success-pool/success-page-rfo.business-forms.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd1def6babe3c4c0ca2bed3faab19514b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdc8d749ba20a4bd9a84ee885e4bef271", name: "TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf4d14c478aeb4dde95349412bb74ff75-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe5f377ba35ed4723ab39ad4e3eff9710", name: "TPT - DE- AEM - Adform - DLO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC649521c0ce384064bb77e1eed0f49d1d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb458c4141c5a45ca94b14447c74cf1cd", name: "TPT - UK - AEM - ContentSquare - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5bb89bf927db4b3c9c748fb77323de43-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb6c1ed4ef46645108427e73f5795a46b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL177c15e10db1453daf6ed1da172adef8", name: "TPT - BG - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9c1cd4afa3f540cea11c4179efe1ed04-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL50ba0668181d4b20a42fcf0ced7e8775", name: "TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC492a5bc26b6c44cb8b033271604450ff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3d1e6ad5bbc343f9a1425bfd8e138141", name: "TPT - NL - AEM - Facebook - iFrame NSF Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_nsf" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC57d2021bcd244a949a81ce92849f11e2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL215a42e5e23141f3876d8b08fb727f9e", name: "TPT - UK - AEM - Adform - iFrame TDA Form Submit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/forms/pdi_bmw_i3223_tda.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC39a9acc39eeb44a5bfd2479fa8fdfe0f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL3ddc074fcffc42ce8dc2baed3edb3104", name: "DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "close_navigation" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "internal_click" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_content" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_layer" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "email" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "call" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_video" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_image" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "selection" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_tooltip" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tap_hover" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "close_layer" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "salesbar" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            _satellite.logger.log("Rule: ", e.$rule.name, " fired identifier ", e.identifier); for (var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = s.get("event.-1.attributes.videoLength"), r = a && "object" != typeof a ? a.split("L").length : 0, i = t.Util.cookieRead("gcdmToken"), c = "", d = s.get("event.-1.attributes.relatedComponent.category.primaryCategory", s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")), l = s.get("event.-1.category.primaryCategory"), u = "nsc > ", m = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), b = s.get("event.-1.category.primaryCategory"), p = s.get("component"), g = 0; g < p.length; g++)if (Object.keys(p[g]).length > 0 && p[g].componentInfo.componentID === s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")) return void (t.abort = "true"); if (["line_component", "multicontent", "new_pre_configuration", "offers", "new_gallery", "uxs-highlight", "all-models-list"].indexOf(m) > -1) return void (t.abort = "true"); t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = "", _satellite.getVar("setDefaultVariables", e)(t), ("tap_and_hold" != s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") && "datalayer field missing" != s.get("product") && "datalayer field empty" != s.get("product") && s.get("product") != [] || "datalayer field empty" != s.get("product.-1.productInfo.productName") && "datalayer field missing" != s.get("product.-1.productInfo.productName")) && _satellite.getVar("setProductString")(t), t.prop42 = "nsc website", t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop43 = _satellite.getVar("AA-componentDefaultValues").subCat, t.prop2 = s.get("page.category.pageType"), t.prop3 = s.get("page.category.primaryCategory"), t.prop4 = s.get("page.category.subCategory01"), t.prop5 = s.get("page.category.subCategory02"), t.prop1 = s.get("page.pageInfo.pageName"), "digital > new car stock locator" == s.get("component.-1.componentInfo.componentName") ? t.prop1.indexOf("sl >") < 0 ? t.prop1 = "stock > " + t.prop1 : t.prop1 = t.prop1.replace("sl >", "stock > ") : t.prop1.indexOf(u) < 0 && (t.prop1 = u + t.prop1), t.prop28 = s.get("page.attributes.virtualPage"), t.prop29 = s.get("page.pageInfo.version"); try { i && (t.prop40 = "logged-in"), "" == i && (t.prop40 = "not logged-in") } catch (e) { } if (t.prop56 = "interaction", t.eVar34 = a && "object" != typeof a ? a : "datalayer field missing", t.eVar34.indexOf(u) < 0 && (t.eVar34 = u + t.eVar34), t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timeStamp"), t.prop54 = s.get("event.-1.category.primaryCategory", s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")), t.prop55 = s.get("event.-1.category.subCategory01"), t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), d && "Navigation" == d && "Navigation" == l ? (t.prop52 = s.get("event.-1.eventInfo.cause"), t.eVar136 = "2020 - 06- 15 user_centric_navigation", t.eVar137 = "AEM6", t.prop53 = "ux", t.linkTrackVars += "prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71") : (t.prop52 = s.get("event.-1.eventInfo.eventType", s.get("event.-1.category.eventType")), t.prop53 = "open_content" == e.identifier || "open_image" == e.identifier || "open_tooltip" == e.identifier || "tap_hover" == e.identifier ? "ux" : "success", t.linkTrackVars += "prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),
                                "open_navigation" == e.identifier && 2 == r && "Navigation" == d) c = "event917,event918,event919,event920"; else if ("internal_click" == e.identifier && 2 == r && "Navigation" == d && "Navigation" == l) c = "event917,event918,event919,event920"; else switch (c = "event917,event918", e.identifier) { case "start_video": c += ",event351"; break; case "email": c += ",event901,event902"; break; case "call": c += ",event913,event914"; break; case "tap_hover": if (o && parseInt(o) && n && parseInt(n)) { var f = parseInt(o) / parseInt(n); f >= .1 && (c += ",event352"), f >= .25 && (c += ",event353"), f >= .5 && (c += ",event354"), f >= .75 && (c += ",event355"), f >= .95 && (c += ",event356") } c += ",event351,event909,event910"; break; case "open_image": if ("tap_and_hold" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) { c += ",event909,event910"; break } }if ("user_centric_navigation" == t.prop19 && (c += ",event919,event920"), "close_layer" != e.identifier && "open_layer" != e.identifier && "open_navigation" != e.identifier || ("visualizer" == s.get("event.-1.attributes.relatedComponentName") ? (t.prop12 = s.get("event.-1.eventInfo.timeStamp", s.get("event.-1.eventInfo.timestamp")), t.prop19 = t.prop54 = "visualizer", t.prop42 = "configuration", t.prop53 = "ux", t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.linkTrackVars += ",prop51", ["inactivity", "error", "buildability conflict"].indexOf(a.toLowerCase()) < 0 && (c += ",event313,event314")) : "model_navigation_hp" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") && (t.prop56 = "interaction", t.prop53 = "ux", t.prop43 = "navigation", t.eVar34 = a + " clicked", t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop19 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), t.prop42 = "nsc website", t.prop13 = "bmw", t.prop44 = s.get("component.-1.componentInfo.componentName"), t.eVar134 = "web", t.prop27 = s.get("page.pageInfo.pageID"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.prop3 = s.get("component.-1.componentInfo.componentName"), t.eVar135 = s.get("page.pageInfo.devEnv"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.prop12 = s.get("event.-1.eventInfo.timeStamp", s.get("event.-1.eventInfo.timestamp")), t.eVar136 = "2020 - 06- 15 model_navigation_hp", t.linkTrackVars += ",prop51")), ("Outbound click" != s.get("event.-1.eventInfo.eventAction") && "Internal click" != s.get("event.-1.eventInfo.eventAction") || "salesbar" != s.get("event.-1.attributes.relatedComponentName") && "sticky_sales_bar" != s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")) && "salesbar" != e.identifier || (c = "event917,event918,event921,event922", t.prop43 = "navigation", t.prop56 = "interaction", t.eVar34 = a + " clicked", t.prop52 = "default", t.prop53 = "ux", t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.prop13 = "bmw", t.eVar134 = "web", t.prop27 = s.get("page.pageInfo.pageID"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.prop3 = s.get("component.-1.componentInfo.componentName"), t.prop2 = s.get("page.category.pageType"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.eVar135 = s.get("page.pageInfo.devEnv"), "new car" == s.get("product.-1.category.primaryCategory") && (t.eVar54 = "build to order"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), "Outbound click" == s.get("event.-1.eventInfo.eventAction") && a.indexOf("test") > -1 && a.indexOf("drive") > -1 && (t.prop11 = "tda", t.prop8 = "form start intention", t.linkTrackVars += ",prop11,prop8", c += ",event1,event2"), t.eVar136 = "2020 - 06- 15 salesbar", t.linkTrackVars += ",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53"), "tap_and_hold" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") && ("tap_hover" == e.identifier || "open_image" == e.identifier)) { t.eVar34 = t.eVar34 + " clicked", t.prop3 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop52 = "default", t.prop19 = s.get("component.-1.componentInfo.componentName"), t.prop42 = "nsc website", t.prop43 = "content", t.prop13 = "bmw", t.eVar134 = "web", t.prop27 = s.get("page.pageInfo.pageID"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"), t.eVar135 = s.get("page.pageInfo.devEnv"), "new car" == s.get("product.-1.category.primaryCategory") && (t.eVar54 = "build to order"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.eVar136 = "2020 - 06- 15 tap_and_hold", "tap_hover" == e.identifier && (t.prop38 = "video", t.prop39 = s.get("event.-1.attributes.videoLength")); var v = _satellite.getVar("setDefaultProductVariables"); v.category = "new vehicle", v.id = s.get("product.-1.productInfo.productId", s.get("event.-1.category.mmdr")); var h = s.get("event.-1.category.mmdr"); v.merchEvars.eVar10 = h, v.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), v.merchEvars.eVar52 = s.get("product.-1.productInfo.productName"), v.merchEvars.eVar53 = "new car", t.products = v.toString(), t.linkTrackVars += ",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products" } "visualizer" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") && (t.eVar34 = s.get("event.-1.eventInfo.eventName.en")), "visualizer" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") && (t.eVar34 = s.get("event.-1.eventInfo.eventName.en")), t.eVar34.indexOf("nsc >") < 0 && (t.eVar34 = "nsc > " + t.eVar34), "Precon Overlay" === b && (t.prop53 = "", t.prop54 = "", t.eVar34 = ""), t.events = t.apl(t.events, c), t.linkTrackEvents = t.apl(t.linkTrackEvents, c), _satellite.getVar("smartPreviousValueManager").update("pageName", t.prop1), t.prop74 = "bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"
                        } catch (s) { t.sa("bmwgroup.group.global.test"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933", ","), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74", ","), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%event.identifier%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLfd4eaa4b25ed4becb345ff5fc0e09975", name: "TPT - FR - AEM - GtagDC - DCS Form PV - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf8007ef163344b1db63dbd41f013634b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa1a0cb4fe9f44f5a84ad817eac2e69e", name: "TPT - PT - AEM - Facebook - Catalog_Button_Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "PT" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2c1be8c47e18478985c3dc8569408ca3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL793518026d66447abec45eb0bfbbc192", name: "TPT - RU - AEM - DoubleClick - Started Configurator - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC757e09ee72f847f5aed75b7713733f8a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL32981d9aadc443d7b4497dfe9eed2c2f", name: "TPT - MY - AEM - Adwords - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1402e7523ed042c8a5c656bdf802f308-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL814a657258a8423e92e25d52a7aad973", name: "TPT - MY - AEM - Adform - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC01c8ebd07cd94f03afde1e33d3e38426-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL331a2cbbccb641d28e25493c064c9bbf", name: "TPT - CZ - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/cs/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4a946abf042947b9a32352eff0614a43-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0249a098b07143309184631bef83ad40", name: "TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC91a73b064b78488d9418b490a7010979-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc864d4096a9f404a981ac9cdabea519e", name: "TPT - MX - AEM - Facebook - Multiple - PLR -p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3b9dc7bf35fa4095a3728a30c72290ed-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4f3d66b37d4744bcb113cb0628c17051", name: "TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 8e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2cc70382c15545829cafa34fd858a53b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLa49a1b18536247d789fbe2af93bd7012", name: "TPT - NL - AEM - Bing - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1d2d6b491139415da6b022e5a5742ab8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL35d207c60c7348c5bd9e6bbbbaff68e9", name: "TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href^="https://discover.bmw.ie/bmwoffers/"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb0f0590c243a41f6a606a02c70183ede-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL351ff4b6454a4f8cb036882099fd8ea4", name: "DCR - All - IFrame - AA - Local Forms", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_fs_rfo" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_nsf" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_campaign" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfp" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = _satellite.getVar("smartPreviousValueManager"); if ("Local-Request" != s.get("event.-1.category.primaryCategory") && "Local-request" != s.get("event.-1.category.primaryCategory")) return void (t.abort = "true"); _satellite.getVar("setDefaultVariables", e)(t); var o = s.get("event.-1.category.subCategory01"), n = s.get("event.-1.category.subCategory02"), r = s.get("event.-1.category.subCategory03"), i = s.get("event.-1.category.subCategory04"), c = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")), d = s.get("event.-1.attributes.dealerInfo", s.get("event.-1.attributes.dealerinfo")), l = s.get("event.-1.eventInfo.eventName"), u = s.get("event.-1.attributes.fuelType"); -1 != u.indexOf("|") && (u = u.replace(/\|/g, "~")), t.events = "", t.prop19 = "local form", t.prop42 = "locally developed", t.prop43 = "forms", t.prop56 = "form", t.eVar34 = -1 == l.indexOf("nsc >") ? "nsc > " + l : l, t.prop8 = l, t.prop53 = t.prop6 = "local form", t.prop11 = o.toUpperCase(), t.prop7 = n, t.prop18 = r, t.prop16 = s.get("event.-1.attributes.stepName"), t.eVar9 = s.get("event.-1.eventInfo.target"), void 0 !== d && (t.eVar41 = d.substring(0, d.indexOf("|")), t.eVar42 = d.substring(d.indexOf("|") + 1, d.indexOf("_")), t.eVar40 = d.substring(d.indexOf("_") + 1)), "form" == t.prop56 && (t.prop53 = t.prop11); var m = { RFS: "service", RFA: "accessory" }, b = _satellite.getVar("setDefaultProductVariables"); b.id = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr")), b.category = m[o] || "new vehicle"; var p = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr")); if (p && -1 == p.indexOf("/")) { var g = /[a-z]{1}[0-9]{2}/i, f = p.match(g); p = f && f.length ? f[0].toUpperCase() : "datalayer field empty" } var v = s.get("event.-1.attributes.motorization"); if (v) { var h = /[0-9]{3}[a-z]{1}/i, P = /xdrive[0-9]{2}[a-z]{1}/i, j = /sdrive[0-9]{2}[a-z]{1}/i; f = v.match(h) || v.match(P) || v.match(j), v.indexOf("i3 (120 ah)") > -1 || v.indexOf("i3 (120ah)") > -1 || v.indexOf("i3 120ah") > -1 ? v = "i3 (120 ah)" : v.indexOf("i3s (120 ah)") > -1 || v.indexOf("i3s (120ah)") > -1 || v.indexOf("i3s 120ah") > -1 ? v = "i3s (120 ah)" : f && f.length && (v = f[0].toUpperCase()) } b.merchEvars.eVar53 = "New Cars" == i ? "new car" : "Used Cars" == i ? "used car" : "datalayer field empty", b.merchEvars.eVar52 = s.get("event.-1.attributes.productName", s.get("product.-1.attributes.modelName")), b.merchEvars.eVar60 = s.get("event.-1.attributes.manufacturer", s.get("product.-1.productInfo.manufacturer")), b.merchEvars.eVar10 = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr")), b.merchEvars.eVar51 = s.get("event.-1.attributes.bodyType", s.get("product.-1.attributes.bodyType")), b.merchEvars.eVar57 = s.get("event.-1.attributes.hybridVersion"), b.merchEvars.eVar50 = s.get("event.-1.attributes.serie"), b.merchEvars.eVar56 = u, b.merchEvars.eVar58 = v, t.products = b.toString(), t.prop2 = s.get("page.category.pageType", s.get("event.-1.attributes.relatedPageCategory.pageType")); var C = s.get("page.pageInstanceId", s.get("pageInstanceId")), y = s.get("page.category.primaryCategory"); switch (new RegExp("([a-z]{2}_[A-Z]{2})").test(y) ? C.indexOf("index-prod") > -1 ? t.prop3 = "homepage" : C.indexOf("all-models") > -1 ? t.prop3 = "showroom" : t.prop3 = C.split("/")[6] : t.prop3 = C, t.prop4 = s.get("page.category.subCategory01", s.get("event.-1.attributes.relatedPageCategory.subCategory01")), t.prop5 = s.get("event.-1.attributes.relatedPageCategory.primaryPurpose"), t.prop1 = -1 == c.indexOf("nsc >") ? "nsc > " + c : c, t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timestamp"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop54 = t.prop55 = o, t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.eVar39 = s.get("page.attributes.outletName"), t.eVar20 = s.get("user.-1.segment.userSelectedCountry"), t.eVar23 = s.get("user.-1.segment.userSelectedPreferredContactMethod"), t.eVar24 = s.get("user.-1.segment.userSelectedGender"), t.eVar25 = s.get("user.-1.segment.userSelectedYearofBirth"), t.eVar26 = s.get("user.-1.segment.userSelectedCurrentVehicle"), l) { case "Form Start": var w = { Lead: "event17,event18", Handraiser: "event21,event22", RAO: "event25,event26", RFA: "event29,event30", RFC: "event33,event34", RFCD: "event37,event38", RFD: "event41,event42", RFI: "event45,event46", Download: "event49,event50", Postal: "event57,event58", RFO: "event61,event62", RFP: "event65,event66", RFS: "event69,event70", ROI: "event73,event74", Newsletter: "event81,event82", "Keep Me Informed": "event77,event78", TDA: "event85,event86", "Online TDA": "event89,event90", Registration: "event93,event94", CAMPAIGN: "event97,event98", "FS RFO": "event101,event102", Loan: "event105,event106", "Operational Lease": "event109,event110", "Private Lease": "event113,event114", Quote: "event117,event118", Insurance: "event121,event122", "not set": "" }; t.events = t.apl(t.events, w[o]), t.linkTrackEvents = t.apl(t.linkTrackEvents, w[o]), t.events = t.apl(t.events, w[n]), t.linkTrackEvents = t.apl(t.linkTrackEvents, w[n]), t.events = t.apl(t.events, w[r]), t.linkTrackEvents = t.apl(t.linkTrackEvents, w[r]), t.events = t.apl(t.events, "event3,event4"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event3,event4"), "RFI" == o && "Generic" == n && (t.events = t.apl(t.events, "event53,event54"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event53,event54")), t.eVar34 = "nsc > form started", t.prop8 = "form started"; break; case "Form Success": var R = { Lead: "event19,event20", Handraiser: "event23,event24", RAO: "event27,event28", RFA: "event31,event32", RFC: "event35,event36", RFCD: "event39,event40", RFD: "event43,event44", RFI: "event47,event48", Download: "event51,event52", Postal: "event59,event60", RFO: "event63,event64", RFP: "event67,event68", RFS: "event71,event72", ROI: "event75,event76", Newsletter: "event83,event84", "Keep Me Informed": "event79,event80", TDA: "event87,event88", "Online TDA": "event91,event92", Registration: "event95,event96", CAMPAIGN: "event99,event100", "FS RFO": "event103,event104", Loan: "event107,event108", "Operational Lease": "event111,event112", "Private Lease": "event115,event116", Quote: "event119,event120", Insurance: "event123,event124", "not set": "" }; t.events = t.apl(t.events, R[o]), t.linkTrackEvents = t.apl(t.linkTrackEvents, R[o]), t.events = t.apl(t.events, R[n]), t.linkTrackEvents = t.apl(t.linkTrackEvents, R[n]), t.events = t.apl(t.events, R[r]), t.linkTrackEvents = t.apl(t.linkTrackEvents, R[r]), t.events = t.apl(t.events, "event15,event16"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event15,event16"), "RFI" == o && "Generic" == n && (t.events = t.apl(t.events, "event55,event56"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event55,event56")), t.eVar34 = "nsc > form finished", t.prop8 = "form finished"; break; case "First Interaction": t.events = t.apl(t.events, "event5,event6", ","), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event5,event6", ","), t.eVar34 = "nsc > form first interaction", t.prop8 = "form first interaction"; break; case "Form Step 1": case "Form Step 2": case "Form Step 3": case "Form Step 4": case "Form Step 5": t.events = t.apl(t.events, "event7,event8", ","), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event7,event8", ","), t.eVar34 = "nsc > " + l, t.prop8 = l; break; case "Local Form Interaction": t.events = t.apl(t.events, "event9,event10", ","), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event9,event10", ","), t.eVar34 = "nsc > form interactions", t.prop8 = "form interactions" }a.update("pageName", t.prop1), t.linkTrackVars += "events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%AA-subCategory01%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d8ee5b7337f4c109462fa68161525ed", name: "TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa249ed5be366490a936632f5223a6bb0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9df6625c13044949820d04f55bcfac5b", name: "TPT - CZ - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7241006362a24def997119962f020339-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9eb7ad8fba554a34a057057e3baa0475", name: "TPT - DE - AEM - Outbrain - Jetzt Angebot anfordern - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/domain.js", settings: { domains: ["bmw.de"] }, timeout: 8e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC290ae8350abc466398c6dadb758d4333-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLecb09f6d7f324212a01f81d531af25c6", name: "TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t) return _satellite.setVar("previousStepName", e), !0; if (t !== e) return _satellite.setVar("previousStepName", e), !0 } catch (e) { _satellite.logger.error("TPT - IE - Configurator Section Tracker \n", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcf860abbd1d54421920ba077a67786cf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8cfffff9c11149eb87c6b721085bed5c", name: "PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCddf7ed9d135f4a178429f544d1e61e9c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5397b68582174387b1c446bd92dcfdac", name: "TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8cc79554047a403fb88c68670ac79c4c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLf92c12213a394310b81603940c695a8e", name: "DCR - ALL - NSC - AA - Need Analyzer Component", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "need_analyzer_step" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "need_analyzer_interaction" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            _satellite.logger.log("Rule: ", e.$rule.name, " fired identifier ", e.identifier); var s, a, o, n, r, c = _satellite.getVar("snapshotDL"), d = c.get("event.-1.eventInfo.eventName"), l = (c.get("event.-1.eventInfo.effect"), c.get("event.-1.eventInfo.eventAction")), u = (c.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), ""), m = "nsc > "; t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = "", _satellite.getVar("setDefaultVariables", e)(t), _satellite.getVar("setProductString")(t); var b = c.get("event.-1.attributes.relatedComponentID"); if (c.get("event").length > 1) for (i = 0; i < c.get("component").length; i++) { var p = i.toString(); (c.get("component." + p + ".componentInfo.componentID") == b || "datalayer field missing" == b && "need_analyzer" == c.get("component." + p + ".componentInfo.componentName")) && (a = c.get("component." + p + ".componentInfo.componentName", c.get("event.-1.attributes.relatedComponentName", c.get("product.-1.attributes.relatedComponentName"))), s = c.get("component." + p + ".componentInfo.componentID", c.get("component." + p + ".componentInfo.componentId")), o = c.get("component." + p + ".category.subCategory01"), c.get("component." + p + ".category.componentType", c.get("component." + p + ".componentInfo.componentType")), n = c.get("component." + p + ".category.primaryCategory"), r = c.get("component." + p + ".componentInfo.componentHeadline")) } else { var g = c.get("page.attributes.relatedComponentID"); for (i = 0; i < c.get("component").length; i++)p = i.toString(), (c.get("component." + p + ".componentInfo.componentID") == g || "datalayer field missing" == g && "need_analyzer" == c.get("component." + p + ".componentInfo.componentName")) && (a = c.get("component." + p + ".componentInfo.componentName", c.get("event.-1.attributes.relatedComponentName", c.get("product.-1.attributes.relatedComponentName"))), s = c.get("component." + p + ".componentInfo.componentID", c.get("component." + p + ".componentInfo.componentId")), o = c.get("component." + p + ".category.subCategory01"), c.get("component." + p + ".category.componentType", c.get("component." + p + ".componentInfo.componentType")), n = c.get("component." + p + ".category.primaryCategory"), r = c.get("component." + p + ".componentInfo.componentHeadline")) } t.eVar34 = d && "object" != typeof d ? d : "datalayer field missing", t.eVar34.indexOf(m) < 0 && (t.eVar34 = m + t.eVar34), "error" == l.toLowerCase() ? (t.prop56 = "error", t.prop53 = d, t.eVar34 = c.get("event.-1.category.primaryCategory"), t.prop52 = c.get("event.-1.eventInfo.cause")) : "datalayer field missing" != l.toLowerCase() && "datalayer field empty" != l.toLowerCase() && (t.prop56 = "interaction", t.prop53 = "ux", t.eVar34 = t.eVar34 + " clicked", t.prop52 = "default"), "datalayer field missing" != d.toLowerCase() && "datalayer field empty" != d.toLowerCase() ? (t.prop55 = r || "datalayer field empty", t.prop51 = c.get("event.-1.eventInfo.cause")) : ("error" != d.toLowerCase() && (t.prop55 = d), ["share", "error"].indexOf(l.toLowerCase()) > -1 && "datalayer field missing" != d.toLowerCase() && "datalayer field empty" != d.toLowerCase() && (t.prop51 = c.get("event.-1.eventInfo.effect"))), ["call to action", "more information"].indexOf(l.toLowerCase()) > -1 ? t.prop57 = "internal click" : t.prop57 = l, t.eVar71 = c.get("event.-1.eventInfo.target"), t.eVar151 = c.get("page.attributes.pageHeadline"), t.eVar152 = c.get("page.attributes.currentQuestion"), t.eVar153 = c.get("page.attributes.previousQuestion"),
                                t.eVar154 = c.get("page.attributes.previousAnswer"), t.eVar155 = c.get("page.attributes.previousWildcards"), t.eVar156 = c.get("page.attributes.entryType"), t.eVar157 = c.get("page.attributes.matchType"), t.prop19 = t.prop54 = a || "datalayer field empty", t.prop42 = "nsc website", "internal click" == l.toLowerCase() ? t.prop43 = n || "datalayer field empty" : "need_analyzer_step" == e.identifier ? t.prop43 = o || "datalayer field empty" : t.prop43 = "teaser", t.prop13 = "bmw", t.prop1 = c.get("page.pageInfo.pageName"), t.prop1.indexOf(m) < 0 && (t.prop1 = m + t.prop1), t.prop4 = c.get("page.category.subCategory01", c.get("event.-1.attributes.relatedPageCategory.primaryCategory")), t.prop44 = s || "datalayer field empty", t.eVar134 = "web", t.prop27 = c.get("page.pageInfo.pageID"), t.prop5 = c.get("page.category.subCategory02", c.get("event.-1.attributes.relatedPageCategory.primaryPurpose")), t.prop2 = c.get("page.category.pageType", c.get("event.-1.attributes.relatedPageCategory.pageType")), t.prop28 = c.get("page.attributes.virtualPage"), "virtual" == t.prop28 && (t.prop28 = "virtual page"), t.eVar135 = c.get("page.pageInfo.devEnv"), c.get("event.-1.eventInfo.eventPoints") && parseInt(c.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(c.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(c.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(c.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + c.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = c.get("event.-1.eventInfo.eventPoints"), t.prop12 = c.get("event.-1.eventInfo.timeStamp", c.get("event.-1.eventInfo.timestamp")), t.prop50 = c.get("event.-1.eventInfo.element"), t.eVar65 = c.get("product.-1.attributes.modelName"), t.eVar17 = c.get("user.-1.profileInfo.visitorID"), t.eVar136 = "2020 - 06- 15 need analyzer", t.linkTrackVars += "prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136", u = "event917,event918"; var f = c.get("page.pageInfo.pageName"), v = c.get("page.pageInfo.pageTitle"); "Need Analyzer: Start Page" == f || v + ": " + f == "Need Analyzer: Start Page" ? (u += ",event321,event322", t.linkTrackVars += "eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136") : "Need Analyzer: My Perfect Match" != f && v + ": " + f != "Need Analyzer: My Perfect Match" || (u += ",event323", t.linkTrackVars += "eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"), "start again" == d.toLowerCase() && "start again" == l.toLowerCase() && (u += ",event321,event322"), "share" == l.toLowerCase() && (u += ",event905,event906"), "error" == l.toLowerCase() && (u = "event931,event932"), "datalayer field missing" != d.toLowerCase() && "datalayer field empty" != d.toLowerCase() && (t.eVar34.indexOf("nsc >") < 0 && (t.eVar34 = "nsc > " + t.eVar34), t.linkTrackVars += ",eVar34"), t.events = t.apl(t.events, u), t.linkTrackEvents = t.apl(t.linkTrackEvents, u), _satellite.getVar("smartPreviousValueManager").update("pageName", t.prop1)
                        } catch (s) { t.sa("bmwgroup.group.global.test"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933", ","), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74", ","), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%event.identifier%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL1f6e6c0c496d434e95b49c58183f140e", name: "TPT - BG - AEM - Facebook - Configuration Land - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/bg_BG/configurator", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5655181f7d1f4a71957c84e5f7cb577f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfff1ad25411f49edb9fd689adba9a1b3", name: "TPT - SK - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9647041f1a1c4b86a5fd3251d28b8e13-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5582af098a76447ba27289dd3bd58ec1", name: "TPT - MY - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC371628b7bf804736b0b18a1dee625203-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL38dac7627bc74147bd9dfebd0adf818b", name: "TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7d7abb24143e4418a70ca28f77fd38aa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa8d86d32aaf54679986f644c8d2b088e", name: "TPT - MY - AEM - Zendesk Chat - All pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC10b43dd184c347c4abdf525dccac164e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd3a30b1e317c47eb84a36afbbdda9b0f", name: "TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC531f7753353c45af8b987ceccbff84d2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC099232fc93824e95891607a4f3bf1324-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1f9730ab9b3e415882c58134f8c371ed", name: "TPT - FI - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a2e31326b8a4c0181e9972550ec75b3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6b1b7156b72543fc9dc353da63c097b2", name: "TPT - GR - AEM - GtagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1ee9a778e83f4687a1b091f385a076b6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd1a851a0629f4896a1482954cb087263", name: "TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/autumn-winter-accessories.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC001c1aabf9b2440fbc9ee2d0c84d92bf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL325220e6e974456f8f6064a651f0bba9", name: "TPT - HU - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4b26917086af475d9cfb85fe8fd91043-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL71d871f464eb490ea19b919cc17d31a1", name: "TPT - NL - AEM - Facebook - Form Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdeef358dbe8543e4b90dc378ae62ca6e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbb4b897ab6174dfca1c4a4dae1a1f8c8", name: "TPT - IE - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 3e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc7b6fb5ed8054ad6b6962aa5415903d6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb00ee1e0e5284709a602d7c2f4241328", name: "TPT - PL - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC95fddb6f092b481da4cc0e2513eb4385-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd7d34a2d0ba84f579c044c3310783d7f", name: "TPT - SK - AEM - AdWords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC395d8995376845088b5d45a68e0748bf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb8705e5ab93e482980f4ed5b50987cc5", name: "TPT - SI - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { bubbleStop: !1, anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf4e6161ed9534fd39474f068c0b2c82d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC378cc6b4a9e04db5974e74e57a7c0cc1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc24d9e21d67a49b1b7a5cae956f921cb", name: "TPT - NL - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd88e5c5d02524e149b6668950c92e0bd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc90054f00c564d30aa8751e31766d2b2", name: "TPT - BR - AEM - TikTok - RFO Form Submit - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("addEventTracking") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "addEventTracking" == s.methodName && (_satellite.setVar("eventtracking", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pt/integration/solicite-uma-proposta.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7ac78a93880c4fd280747a0eb8f0e0ee-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL803644367ced41738d466b0d3879c6d1", name: "TPT - TH - AEM - Facebook - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-third-party", (function (t) { t.detail && e() })) } catch (e) { _satellite.logger.error("TPT: Facebook Pixel ", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "TH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8640e115216475ab9d1bfceb38e790e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2e3b850bebba43acb8aee5a34ecf9ec3", name: "TPT - NO - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC678638b0c8974dfe92c60502ed309dab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLff6f2657768a4240a7b5734033a31eeb", name: "TPT - AT - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC30f01a482d7345dd9abcd7058b0c4b75-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL02ae20a0a50d44b9bcad6e24c3782e3f", name: "TPT - NL - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC471868d6fca041419280e51930295006-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb18dbfcbedcd4d6b832f239ed6cd029f", name: "TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3e619ed562aa48238e3ee059b43a10b3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd0c17cdc5b1742b0a866119d260d536f", name: "EBR - All - AA - stageX ACDL - PV", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron page view" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 2e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { function s(e, t, s) { try { s = s || "datalayer field missing"; for (var a = ["", "na", "not set", "n/a", "not available"], o = (t = t || "").split("."), n = e, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && a.indexOf(n.toLowerCase()) > -1 ? "datalayer field empty" : n || s } catch (e) { console.error("Error:", e) } } try { var a = e.message, o = e.fullState, n = s(o, "page.pageInfo.destinationURL", window.location.href), r = _satellite.getVar("smartPreviousValueManager"), i = new Date, c = i.getHours() <= 9 ? "0" + i.getHours() : i.getHours(), d = i.getMinutes() <= 9 ? "0" + i.getMinutes() : i.getMinutes(), l = i.getSeconds() <= 9 ? "0" + i.getSeconds() : i.getSeconds(), u = i.getUTCHours() <= 9 ? "0" + i.getUTCHours() : i.getUTCHours(), m = i.getUTCMinutes() <= 9 ? "0" + i.getUTCMinutes() : i.getUTCMinutes(), b = i.getUTCSeconds() <= 9 ? "0" + i.getUTCSeconds() : i.getUTCSeconds(), p = (s(o, "page.attributes.brand"), s(o, "page.pageInfo.geoRegion"), s(o, "page.pageInfo.language"), s(o, "page.category.primaryCategory"), s(o, "page.pageInfo.pageName"), s(a, "eventInfo.eventName")), g = s(a, "eventInfo.reference.linkedComponent"), f = s(o, "component")[g]; if (t.referrer = s(o, "page.pageInfo.referringURL"), t.server = location.host, t.pageType = "error" == s(o, "page.category.pageType") ? "errorPage" : s(o, "page.category.pageType"), t.pageName = s(o, "page.pageInfo.pageName"), t.prop1 = s(o, "page.pageInfo.pageName"), t.prop2 = s(o, "page.category.pageType"), t.prop3 = s(o, "page.category.primaryCategory"), t.prop4 = s(o, "page.category.subCategory1"), t.prop5 = s(o, "page.category.subCategory2"), t.prop13 = s(o, "page.attributes.brand"), t.prop14 = u + ":" + m + ":" + b, t.prop15 = c + ":" + d + ":" + l, t.prop19 = s(f, "componentInfo.componentName"), t.prop27 = s(o, "page.pageInfo.pageID"), t.prop28 = s(o, "page.pageInfo.variant"), t.prop29 = s(o, "page.pageInfo.version"), t.prop30 = s(o, "page.category.subCategory3"), t.prop31 = r.get("pagePrimaryCategory"), t.prop32 = r.get("pageSubCategory01"), t.prop33 = r.get("pageName"), t.prop41 = s(f, "category.componentType"), t.prop42 = s(f, "category.primaryCategory"), t.prop43 = s(f, "category.subCategory1"), t.prop44 = s(f, "componentInfo.componentID"), t.prop45 = s(f, "attributes.componentVersion"), t.prop46 = s(o, "page.pageInfo.author"), t.prop47 = t._ppvHighestPercentViewed, t.prop48 = t._ppvFoldsAvailable, t.prop49 = t._ppvFoldsSeen, t.prop50 = "page title", t.prop51 = s(a, "eventInfo.category.subCategory2"), t.prop52 = s(a, "eventInfo.cause"), t.prop53 = s(a, "eventInfo.type"), t.prop54 = s(a, "eventInfo.category.primaryCategory"), t.prop55 = s(a, "eventInfo.category.subCategory1"), t.prop56 = s(a, "eventInfo.eventName"), t.prop57 = s(a, "eventInfo.eventAction"), t.prop60 = _satellite.getVar("AA-consentMetaData")("drawer"), t.prop61 = _satellite.getVar("AA-consentMetaData")("identities"), t.prop62 = _satellite.getVar("AA-consentMetaData")("settings"), t.prop63 = _satellite.getVar("AA-consentMetaData")("defaults"), t.prop64 = _satellite.getVar("AA-consentMetaData")("consents"), t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? "landscape" : "portrait", t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.campaign = _satellite.getVar("campaign"), t.eVar4 = n, n.length > 255 && (t.eVar5 = n.substring(255, n.length)), t.eVar6 = document.referrer.split("/")[2], t.eVar7 = s(o, "page.pageInfo.language"), t.eVar8 = s(o, "page.pageInfo.geoRegion"), t.eVar9 = s(a, "eventInfo.attributes.iframeURL"), t.eVar11 = window.location.hash.split("?")[0].split("#")[1], t.eVar12 = window.location.protocol + "//" + window.location.host + window.location.pathname, t.eVar13 = window.location.hash ? window.location.hash.split("?")[1] : window.location.search.slice(1), t.eVar14 = r.get("url"), t.eVar15 = s(o, "user.profile.profileInfo.type"), t.eVar16 = s(o, "user.segment"), t.eVar17 = s(o, "user.profile.profileInfo.profileID"), t.eVar18 = s(o, "page.pageInfo.pageTitle || document.title"), t.eVar28 = r.get("componentSubcategory1"), t.eVar29 = r.get("pathName"), t.eVar34 = s(a, "eventInfo.effect"), t.eVar61 = t.eVar62 = t.campaign, t.eVar63 = _satellite.getVar("AA-InternalcampaignParameter"), t.eVar64 = _satellite.getVar("AA-SearchAds360Parameter"), t.eVar71 = s(a, "eventInfo.attributes.requestedURL"), t.eVar132 = window.navigator.userAgent, t.eVar134 = s(f, "attributes.touchpoint"), t.eVar135 = s(o, "page.pageInfo.sysEnv"), t.eVar136 = s(o, "version"), t.eVar137 = s(f, "attributes.platform"), t.eVar161 = "datalayer field missing", t.eVar162 = "datalayer field missing", t.eVar171 = t.Util.getQueryParam("cid"), t.eVar172 = t.Util.getQueryParam("bid"), r.update("pageSubCategory01", t.prop4), r.update("pagePrimaryCategory", t.prop19), r.update("url", t.eVar4), r.update("jcrPath", window.location.pathname), r.update("pathName", t.eVar12), r.update("pageName", t.prop1), r.update("componentSubcategory1", t.prop43), void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var v = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(v), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event971=" + json_data.timeServer, ",", 1), t.events = t.apl(t.events, "event972=" + json_data.timeServerReact, ",", 1), void 0 !== json_data.lcp && (t.events = t.apl(t.events, "event973=" + json_data.lcp, ",", 1)), t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.events = t.apl(t.events, "event975=" + json_data.timePageReady, ",", 1), void 0 !== json_data.fid && (t.events = t.apl(t.events, "event968=" + json_data.fid, ",", 1)), void 0 !== json_data.cls && (t.events = t.apl(t.events, "event969=" + json_data.cls, ",", 1), t.events = t.apl(t.events, "event967=" + json_data.clsTotal, ",", 1)), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash"), void 0 !== json_data.fidHTML && (t.eVar67 = json_data.fidHTML), void 0 !== json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML)), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } var h = s(a, "eventInfo.eventPoints", "0"); if (t.events = t.apl(t.events, "event970=" + h, ",", 1), p.indexOf("form") > -1) { t.prop6 = s(a, "eventInfo.category.primaryCategory"), t.prop7 = s(a, "eventInfo.category.subCategory1"); var P = s(a, "eventInfo.effect"); P.indexOf(">") > -1 ? t.prop8 = P.split(">")[1].trim() : t.prop8 = P, t.prop9 = s(a, "eventInfo.attributes.form.stepAmounts"), t.prop10 = s(a, "eventInfo.attributes.form.formVariant"), t.prop11 = s(a, "eventInfo.type"), t.prop16 = s(a, "eventInfo.attributes.form.stepName"), t.prop17 = s(a, "eventInfo.attributes.form.rfxID"), t.prop18 = s(a, "eventInfo.category.subCategory2"), t.linkTrackVars = t.apl(t.linkTrackVars, "prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18", ",") } var j = s(a, "eventInfo.type"); "video" != j && "audio" != j || (t.prop36 = s(a, "eventInfo.category.subCategory1"), t.prop37 = s(a, "eventInfo.category.subCategory2"), t.prop38 = s(a, "eventInfo.type"), t.linkTrackVars = t.apl(t.linkTrackVars, "prop36,prop37,prop38", ",")), _satellite.getVar("fusionEventMapping", e)(t), _satellite.getVar("fusionProductString", e)(t); var C = s(a, "attributes.search.unit"), y = s(a, "attributes.search.state"), w = s(a, "attributes.search.label"), R = s(a, "attributes.search.term"); "datalayer field missing" != R && "datalayer field empty" != R && (t.products += ",search;search;;;;" + searchDefaultProduct + "eVar30=" + C + "|eVar31=" + y + "|eVar32=" + w + "|eVar33=" + R, t.linkTrackVars = t.apl(t.linkTrackVars, "eVar30,eVar31,eVar32,eVar33")), null != t.linkTrackEvents || "" != t.linkTrackEvents ? t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events, ",") : t.linkTrackEvents = t.events, null != t.linkTrackVars || "" != t.linkTrackVars ? t.linkTrackVars = t.apl(t.linkTrackVars, "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar137,eVar161,eVar162,eVar171,eVar172,products,events", ",") : t.linkTrackVars = "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar137,eVar161,eVar162,eVar171,eVar172,products,events" } catch (t) { _satellite.logger.error(t, e.$rule.name) } } }, trackerProperties: {} }, timeout: 2e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 2e3, delayNext: !0 }] }, { id: "RL7d373a70e97a448b9212333babbd49aa", name: "TPT - ZA - AEM - WebChat - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }, { value: "m124.bmw-int5.com", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0c54c6f9271949b5b709b6830890cc48-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe1a41e2fc7eb47f2b7e913ef9c729fbd", name: "TPT - RO - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC756b2fbfb5cb41ab88b6e5d0fe91b241-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC64d76f432e0b46719928a7dc1a9b1028-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc35cdcd66d024f999662b19f711c309c", name: "TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfff4b834e7454a69847acda662a03fb1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLb8c220feecad49269052b26f24752657", name: "TPT - ZA - AEM - Adform - Test Drive Click - EBR -p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Book a test drive", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{
            modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb1c784fa21ff48bc87a68ad9b8534e81-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLb0b7837cfa2a4ce0951eaa29b22ab3b5", name: "TPT - RO - AEM - AdWords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbeeb3dd8473b41439dc2633d47e907bd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc6c4ef84ef5d4418bf4bec6ba1f8c765", name: "TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/book-a-video-consultation.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7cc05e52e2fb41ada55ffd1ae21d6503-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLad4d5ba551d04f94bc3901c11f778b6e", name: "TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en_IE/configure/G30", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/5-series/sedan/2020/highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5374525af7524b52957fd3ccd189c6fa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL21f28c4aedad43ebb1a52d8fc6399fdc", name: "TPT - SI - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC41fcea4bd20746cab50840cf50bcbf10-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7dbc496b87ce4312beb7bd44783b1a9c", name: "TPT - UK - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4bad0059d2f842b1a4415aa3017314ed-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa276f0c1ab864d1fb5f5c08792196a69", name: "TPT - NL - AEM - GtagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/nl/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2b2a40614bb049d68c30def019bd4080-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa8fd62836bf345baa7b919abe3be50fd", name: "TPT - NL - AEM - GTagDC - iFrame Forms FS RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_fs_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6cb52d1ed6524a0aaf25b068209c1739-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2fda80714e5e4b3bba169a9c9e86d2f4", name: "TPT - SK - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC088bd50ff649493d80b68fe95b8d9345-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2fc6f13f19e54e6caf441818e8281251", name: "TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb14e475af4d547f0867453792d4b7413-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe54eab6e053a4705982a46a5d372eb1e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL932cc94084144671b9069b7a92dd0281", name: "TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCac49f1643788485fafed361a98b7726b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2f74a84ac5154d51b36f3a92dcc1c773", name: "TPT - DE - AEM - GTagDC - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1bb9d09600924958a3df2a0ed119c61f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL97d889c29ebb41d485dd0d318f3f649d", name: "TPT - IT - AEM - GTagDC - Make Appointment - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC78d09d13025c416193b7ea62edfec979-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeee22ebfb33a45e8b4e9a22aee69be19", name: "TPT - RO - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfc4b395d9267431497c6f586e09e9aa8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7bd95780f00e45d688f6675a209e86e5", name: "TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc2c77897503d41a5b394db742922401a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf4c56d7509f7434fbd7a94c432fe109b", name: "TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC324f7c159136441b9fb33c78e2d26a8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL23d3f6a140354609bd9e8e2f2593b392", name: "TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe92938f102eb47f3b8d396503aaa074f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL02610e020b974be0862c4b002d236f0c", name: "TPT - UK - AEM - Adform - iFrame RFI Download Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3c499cfc768442e4a88816546a97aa4b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe3df09cde69443578674e996408a3293", name: "TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC16dbd9b963314196948ff31be55fe148-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb09905f335c64828906e052f61ccb051", name: "TPT - DK - AEM - GtagDC - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf50b2553697948dc9d15b33b8b8296b0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf14bd12af4914602a584d0799fdb5a52", name: "TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3422358e42594fd498c1487f921e7a8f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9814cc0ba9b04d6bab654f001c1f1991", name: "TPT - BR - AEM - DoubleClick - Dealer Locator - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-dlo-search--button-container", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "Pesquisar" === $(".ds2-dlo-search--button-container button").text() } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd9797bd0e83f49d89f2b1bf162747c56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL65e584cf66f04ad895c2f3e885d846de", name: "TPT - DE - AEM - Usabilla - Adhoc Survey - From Konfigurator to model Selection - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "de/konfigurator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce715032b8e74261b140a7e56d0563ba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLab741b42e38d445eabccb09a00bd036b", name: "TPT - PL - AEM - Adform - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbc361e67066d4da994c341ceb1cfa2ca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5edcda4bbae149e59f765b13a180c4be", name: "TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa36fe23b6a8942cdb0741a4334d48963-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe02c8b82af524e888e9c55bbdfa9a425", name: "TPT - GR - AEM - Doubleclick - History change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf6b688daff64916a498df9aa9cd4d22-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf33fc5d350d14b338139ee420b9be531", name: "TPT - SE - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC093b28707bb24cd1b991fd437605f165-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLced7e123b2b54fefb7ea1908c3f6c78d", name: "TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC30d5e5374d104c33ac4e879a59607f5a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9b81195c98f4f3ca929c9bbe38a2502", name: "TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="Build and Price"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5ffd8443ca494a24b9b2168b717adf97-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb02634f2c4234add8f46f81f5f07d027", name: "TPT - SK - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC533dc2fae1714f9f92a8bad3bc61c7bb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd1881d76691a4a568bb46c616c5a8e1e", name: "TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7c47d4ceb7624d6eb05d3499367fba29-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC49fbd3d092c84c22a97b04d7d5d76c5c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeee864bb63a8456abac32aca64eb4ef1", name: "TPT - NO - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc38c5f67131f46f2a977cca56d0eaf4a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL90b4dd390da54ea7bd000d61255a6931", name: "TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCefbee0a96e9b48a8a8fc0c7257c7d58b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfaa7db2cee4d4c139e5397619bf6df5f", name: "TPT - AT - AEM - GtagDC - Forms Button Click - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa937a9fcb7294827a85035184c6b3170-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc1befd62bec441d6bf7708fbfcbf500c", name: "TPT - IT - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfe49dee64171406eb8b68cd82f15ba1c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb5880cbae0e74285ab095df476a3849b", name: "TPT - FR - AEM - Facebook - Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5ece40b9d7a54c6597968dec27cc37e9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe4637d256d9e4650891ce908447aa43c", name: "TPT - NL - AEM - GtagAW - DCS PV - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf1269b73d3af4472ab2cdd5a7ef38203-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL01b99ebda97d4a079485662008886414", name: "TPT - IT - AEM - Adform - TDA Form Finish - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5fd34b13aa904cb8ac8c0ba165c4e444-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL71f93361880743cdbd495c624f09c5de", name: "TPT - PT - AEM - Facebook - FormTracking - RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1328fa80c6784ac2b1f3cbb03d8e7686-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7b3f9a9ca15e4e1ea034fb26bfcb64ae", name: "TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0e04d41fc6a143b891ddf1be4f4e9097-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbbd4c9f0501a4251993bf1f0e2d165c0", name: "TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26125e8721c949e3a255e76f95e663cf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL23fe01d44425485c9b1b69b6025a98db", name: "TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCab0774bdf2b04fd1b3658f22775c9ae0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd152b81259d647aab455d836b751cd48", name: "TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08408bb6400d4c2eab0e1a7f38bf1ef9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL36c99e4b80d94702b4e684c8bdc9b81a", name: "TPT - IT - AEM - Adwords - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".login-box__button-text.login-box__submit-button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa06f9377d5ff4d65a7c9504eb15010a9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6b624543d84045a78b973ff2a0cce047-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLc280c6caed244fdeb146e5b82e88406b", name: "HT - All - NSC - All - Custom Code - RegisterOnConsentChange", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: {
                source: "try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName);\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript"
            }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RLd965178983ae4d22a9156bbb941c8fd0", name: "TPT - SI - AEM - Adform - MakeAppointment - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "body > div.ds2-mobilepreview.ds2-page--wrapper > div.ds2-main-wrapper.ds2-page--row-expanded > div > div > div > div > div > div > dlo-main > div > div.ds2-dlo-main--sidebar > dlo-sidebar > div > span > div.ds2-dlo-sidebar--dealer_details.ng-scope > dlo-dealer-details > div > div > div.ds2-dlo-panel--content-wrapper > div.ng-scope > div.ds2-dlo-dealer-details--button-container > button:nth-child(1)", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc98c77bd95334117b0762a559400ebc2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4907a097efe546d8a2f6a38d5d2c06ce", name: "TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc3be90cd2da24cf19d05aa509ea5a4a9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL61a9484a96904e02a22c2ea670f8068a", name: "TPT - LU - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC81fc7729495f428fb105b6ffb6cab8a7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1cd8b5395cf94b089cbd9043aec75b75", name: "TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { if (window.location.href.indexOf("bmw.it") >= 0) return !0 } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7e1e3bdcadff4dcfacfe8b419d41f1b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa921281357784dec9006f52ab2dd7f8d", name: "TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC809dac0e14a24d849292f83641dd6eb6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL175e0cbfac9847e0ba6de5fb4294f9ab", name: "TPT - GR - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfd813b4dfbbb47939e65beb14830988d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL65277d2981334a6fb0508d88dae033c3", name: "TPT - BG - AEM - DoubleClick - Configurator Steps - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0 } catch (e) { _satellite.logger.log("TPT - BG - DBM Tag Configurator Steps err \n", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd0e8b7b480ea4cf799c4cef7752968cb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL08d8520858c24c15b2491c11a4f8ea18", name: "TPT - CZ - AEM - Facebook - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC97328836e7e544a5860bdaa0ef9415c5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL226fe50b28e34c20b971dc2172700034", name: "TPT - GR - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f683cdd83dd4c1c903b74d9f0a768f8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL88ea103cafff4f159930072895406abc", name: "TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[href$='pdf']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb982fa96738c46639c57439822179f70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL02adabb7830b40ca8d40391a60a47726", name: "TPT - PL - AEM - Facebook - Multiple Form Submission - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc9b9b94d69584e2a961a7e6f89f6e404-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa9dd9acfe2274eb1af6cfb7e38591c5e", name: "TPT - KR - AEM - AddingBoldStyle - All pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.co.kr" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCda16dc71702e461d9b53a3e9c30afdb4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8156fcff392a4f48a497c626efd3a477", name: "TPT - RO - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26f0741b7bfa4275801ba744bcd16588-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa67f20e3884d454a9bec811dd52e5118", name: "TPT - UK - AEM - GTagDC - TDA Form Sub - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/forms/pdi_bmw_i3223_tda.html" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf1e8c5e02881443e98f821ed9d52af2e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL60b560fcc67b4e32b671cb223ebef79c", name: "TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="//www.alphabet.at/"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d8e417d675d462d9a01648e5f406321-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb9645441106340b58e97884c97294a7d", name: "TPT - GR - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf7ce7c134f214448bdfe09cc4f5dc145-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL12c3de0b8f3e4460a1a08718915fe868", name: "TPT - BR - AEM - TikTok - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC772759df84894f8e91a8282c82a4333a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2b19db2609514575936802ec407f88b7", name: "TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC15e072e7deb94ec5babd1d13c367316d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL48c427e17ab6484e942de82a6de8115f", name: "TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC117f2d3afe8c44559b71cfa8ac11e8c1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbce81ecf5ee24813b630483295a800cd", name: "TPT - BE - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcd3beabfac9646ed92ac94190d3d2e78-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0e9eabd6122d49339e4525e284a5b2a7", name: "TPT - DK - AEM - Adform - Make Appointment - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC878ea9b7fc214730bc2f6acde78487f4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0727c28a7f1343dbb4c19d47ee925692", name: "TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC697acbfe2f2f4af28788d9dd1b59440d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d3dd33cdb4746a0b36e9a850d1b1270", name: "TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC85cc8731c5e84f49a3e24a926d668e80-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL80ac97daeb3043f8820943ee6b328c1e", name: "TPT - HU - AEM - Adform - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb219751631ed47fe8190e31c1f27bfdd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85c04ba266ce491cb5aa68a1bebb52a5", name: "TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI", events: [{ modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "URL" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("topLevelDomain"), t = (_satellite.getVar("snapshotDL"), _satellite.getVar("URL")); return t.indexOf("/shop/dcs/") > -1 && t.indexOf("/confirmation/") > -1 && ("mini.de" == e || "mini.fr" == e || "mini.it" == e || "mini.es" == e || "mini.nl" == e || "mini.at" == e || "mini.com.pl" == e || "mini.ch" == e) } catch (e) { var s = { from: "TPT", type: "Condition", name: "TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI" }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC513277d6ce8a43128e48c49d339a440c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL43cea40dfe154300ac7d367b48c20713", name: "TPT - RO - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9268ce7ae7024143b1882992d3ea91c4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLceb7a5d1fd2c453f9c7dcc0b75e5ca9b", name: "HT - All - NSC - AA - Initialize Plugins", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "common-analytics-plugins/src/lib/actions/initializeApl.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { t.getPercentPageViewed = function (e, t) { var s = this, a = s.c_r("s_ppv"); (a = -1 < a.indexOf(",") ? a.split(",") : [])[0] = s.unescape(a[0]), e = e || (s.pageName ? s.pageName : document.location.href), s.ppvChange = void 0 === t || 1 == t, void 0 !== s.linkType && "o" === s.linkType || (s.ppvID && s.ppvID === e || (s.ppvID = e, s.c_w("s_ppv", ""), s.handlePPVevents()), s.p_fo("s_gppvLoad") && window.addEventListener && (window.addEventListener("load", s.handlePPVevents, !1), window.addEventListener("click", s.handlePPVevents, !1), window.addEventListener("scroll", s.handlePPVevents, !1)), s._ppvPreviousPage = a[0] ? a[0] : "", s._ppvHighestPercentViewed = a[1] ? a[1] : "", s._ppvInitialPercentViewed = a[2] ? a[2] : "", s._ppvHighestPixelsSeen = a[3] ? a[3] : "", s._ppvFoldsSeen = a[4] ? a[4] : "", s._ppvFoldsAvailable = a[5] ? a[5] : "") }, t.handlePPVevents = function () { if ("undefined" != typeof s_c_il && "true" == _satellite.getVar("isAdobeAnalyticsAllowed")) { for (var e = 0, t = s_c_il.length; e < t; e++)if (s_c_il[e] && (s_c_il[e].getPercentPageViewed || s_c_il[e].getPreviousPageActivity)) { var s = s_c_il[e]; break } if (s && s.ppvID) { var a = Math.max(Math.max(document.body.scrollHeight, document.documentElement.scrollHeight), Math.max(document.body.offsetHeight, document.documentElement.offsetHeight), Math.max(document.body.clientHeight, document.documentElement.clientHeight)), o = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; e = (window.pageYOffset || window.document.documentElement.scrollTop || window.document.body.scrollTop) + o, t = Math.min(Math.round(e / a * 100), 100); var n = Math.floor(e / o); o = Math.floor(a / o); var r = ""; if (!s.c_r("s_tp") || s.unescape(s.c_r("s_ppv").split(",")[0]) !== s.ppvID || s.p_fo(s.ppvID) || 1 == s.ppvChange && s.c_r("s_tp") && a != s.c_r("s_tp")) { if ((s.unescape(s.c_r("s_ppv").split(",")[0]) !== s.ppvID || s.p_fo(s.ppvID + "1")) && s.c_w("s_ips", e), s.c_r("s_tp") && s.unescape(s.c_r("s_ppv").split(",")[0]) === s.ppvID) { s.c_r("s_tp"); var i = -1 < (r = s.c_r("s_ppv")).indexOf(",") ? r.split(",") : []; r = i[0] ? i[0] : "", i = i[3] ? i[3] : ""; var c = s.c_r("s_ips"); r = r + "," + Math.min(Math.round(i / a * 100), 100) + "," + Math.min(Math.round(c / a * 100), 100) + "," + i + "," + n } s.c_w("s_tp", a) } else r = s.c_r("s_ppv"); var d = r && -1 < r.indexOf(",") ? r.split(",", 6) : []; a = 0 < d.length ? d[0] : escape(s.ppvID), i = 1 < d.length ? parseInt(d[1]) : t, c = 2 < d.length ? parseInt(d[2]) : t; var l = 3 < d.length ? parseInt(d[3]) : e, u = 4 < d.length ? parseInt(d[4]) : n; d = 5 < d.length ? parseInt(d[5]) : o, 0 < t && (r = a + "," + (t > i ? t : i) + "," + c + "," + (document.body.scrollHeight == (window.pageYOffset || window.document.documentElement.scrollTop || window.document.body.scrollTop) + (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight) || e > l ? e : l) + "," + (n > u ? n : u) + "," + (o > d ? o : d)), "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && s.c_w("s_ppv", r) } } }, t.p_fo = function (e) { var t = this; return t.__fo || (t.__fo = {}), !t.__fo[e] && (t.__fo[e] = {}, !0) }, "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && t.getPercentPageViewed() } catch (e) { var s = { from: "AA", type: "PLR", name: "Initialize Plugins" }; _satellite.logger.error(e, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "common-analytics-plugins/src/lib/actions/initializeRfl.js", settings: {}, timeout: 5e3, delayNext: !0 }] }, { id: "RL3690b47e739e4fa89bcfabf4aef4b093", name: "TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd921dbaca9df48c990c4d7c0f1950138-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ec1e84dcac74259b950f975a56af9c9", name: "TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7bf5e02ef7324314aa65ba6caebdd763-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd227cd98274f4542b81430ca4053f7c1", name: "TPT - UK - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2a507dc3e03e431f854ccbc7ff1a14c2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLea75069dffb34c2fb2d10287f655333e", name: "TPT - GR - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf485bc0af82e4e4382cc45c1a6528d0d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL75a2dfab44f24860bc9816036aaf1355", name: "TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC09526bb9f6ae45e492e823ed4d18f4b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL02b7b40a983348ddaf77fb6720442713", name: "TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "testdrive.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC84fec3b9bd554290a80672c5323d732c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa9841abba86d438db61639a4b8bf3802", name: "TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC50f15d1e8227489b8b3724c718e8a52a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbbbd120b52294dfb96a29b837a58475d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL556c26c29f2141dca6ce263fcc12c927", name: "TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#formtda [gcdm-form-submit]", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC32af123700194482a6142882b57bff08-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLa84da0298b6f42d4b92ede3aef7704a7", name: "TPT - HU - AEM - GTagDC - Brochure Download - EBR - p15r[c]", events: [{
            modulePath: "core/src/lib/events/click.js", settings: {
                elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0,
                bubbleFireIfChildFired: !0
            }, ruleOrder: 50
        }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea8b20e8a320434589ce3c327d4900fd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL0210dbf22cb4433d8752255e40051a4f", name: " TPT - FI - AEM - Gtag_DC - Model Price Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://www.bmw.fi/fi/footer/osta/hinnastot-ja-esitteet.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/content/dam/bmw/marketNORDICS/bmw_fi/ladattavat/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9cf96ee0d95d4662b6edfc00e3aea930-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5b419ead74294e668fff26dd9358514a", name: "TPT - NL - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9b227fb60f334d3abd7acf743d2f524c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe4382dec0a09497b8d4b29844b6a5e80", name: "TPT - PL - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC21a6cb9a435b4debbb8471b2b65a5eef-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbf11964095214e8d88ea3ea6a19d7247", name: "TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC66e48e0798f44477988afb507fe207d4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1b02875e11bf41408dedd3da633b68f3", name: "TPT - SE - AEM - WebChat - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa1d8b8275f0c447fa590fd06a94e3e4d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6acfecc3e3304514805da504547e6a65", name: "PLR - AT - All Models - Custom Script - Visitor Reco Target ", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.at" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3155903a38104f59a6a6eeccbb598c3f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2205b197473546be8ebb6c84eaab23e9", name: "TPT - PL - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC84f8ec3c4b234cf489121dc2bb3905ce-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL66695c078719479faae80d53b522aa80", name: "TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/requests/brand-switch-tda/tda-bmw.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcfe7fc37c4d44ffdb2894700750ec60a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL195ee5baea0745edb60f22c952ccd984", name: "TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe9dc4f988f044e8c86c99e5cfe76bfcf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d7381bac6874457a91afe0fd911c694", name: "TPT - SK - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa35be5c3203f40da93b71f3c2c80b68b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL774a24b76eb94e9e9ae7c1f92514f01d", name: "TPT - MY - AEM - Korex - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb25c69c2f70640199fe4fc71847188ab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf11d43e1d74b4b8bbe2189c440062621", name: "TPT - BE - AEM - AdWords - TDA - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCee0442f44b7b4583849aa7b5230494a5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf3f080e27782422aba7606c02fcfe125", name: "TPT - AT - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc62d675f2a464f2593b6978ee221cf4b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6674bd4c11dd40c4983646a8b6570c16", name: "TPT - AT - AEM - AdWords - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC53114dc718404a1ca6016605dafb2fa1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdc9517bf55d64f1ea9987060a16d820c", name: "TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd4b561d5a81241ad98e22bcd30538b93-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa53d391e19f44f0e853dfb832db5becc", name: "DCR - AT - All Models -  Adobe Target - Send Visitor Reco", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "send_reco_value" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.at" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5f77b0d547ea4d2cab90c12ee746c908-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLba8ec731f79c4596a3f89c3970f2c301", name: "TPT - DE - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8011208e238c448ba68273eef0dde810-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL19449e188d014fbd9318cc1b3d02eb5d", name: "TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC37fca7f2b9bb4a82b992f1f3e095a0ab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2734f93dca7a48ada15920f5221777af", name: "TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC14101b2116b84b7f8231a8ae12274d84-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7de9d972dc864852acf29dd7a4fd86ec", name: "TPT - FR - AEM - StickyBar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "\\/fr\\/voiture-neuve.html*", valueIsRegex: !0 }, { value: "\\/fr\\/stocklocator.html*", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/bmw-i\\/i3\\/2021\\/bmw-i3-apercu.html*", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/2-series\\/activetourer\\/2021\\/bmw-2-series-active-tourer.html*", valueIsRegex: !0 }, { value: "\\/fr\\/contact\\/contact.html*", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/x-series\\/x7\\/2022\\/bmw-x7-apercu.html", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/m-series\\/x7-m60i\\/2022\\/bmw-x7-m60i-apercu.html", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/bmw-i\\/bmw-ix\\/2021\\/bmw-ix-lp-042022.html", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/bmw-i\\/i4\\/2021\\/bmw-i4-lp-042022.html", valueIsRegex: !0 }, { value: "\\/fr\\/tous-les-modeles\\/x-series\\/iX3\\/2021\\/bmw-ix3.html", valueIsRegex: !0 }, { value: "\\/m-series\\/bmw-m760e-xdrive\\/2022\\/", valueIsRegex: !0 }, { value: "\\/fr\\/bmw-i\\/i7\\/2022\\/bmw-i7", valueIsRegex: !0 }, { value: "\\/fr\\/2022\\/bmw-7series", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC213631db4c6d4e6cb71127575ad8346a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL95812871a2bb44f0bc56fead0344c942", name: "TPT - BG - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde83e27f3ec84ae289d198ae21768f53-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0620d58226dd46749e4e44b479b221af", name: "TPT - HU - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC856bf4ef64a34b6389f766179f390f39-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7b4772ccb65941b2adbf11b70c471c99", name: "TPT - NL - AEM - Facebook - Sign In/Register - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9aaac1508a554083b7851fe1405cd06e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6589be1cbaa4463a8546e0d593653c33", name: "DCR - All - AEM - AA - Accessory Configurator", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_accessory-configurator_steps" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_accessory-configurator_interaction" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = ""; var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.eventAction"), n = s.get("event.-1.eventInfo.cause"), r = (s.get("component.-1.componentInfo.componentName"), s.get("component.-1.category.subCategory01"), s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName"))); function i() { t.prop56 = "interaction", t.prop53 = "success", t.eVar34 = -1 == o.indexOf("con >") ? "con > " + o : o, t.prop54 = "accessory configurator", t.prop55 = "datalayer field missing", t.prop51 = a, t.prop52 = n, t.prop19 = t.prop43 = "accessory configurator", t.prop42 = "configurator", t.linkTrackVars = t.apl(t.linkTrackVars, "prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43") } function c() { t.prop56 = "form", t.prop53 = "central form", t.prop54 = "RFA", t.prop55 = o, t.prop51 = "lead", t.prop52 = n, t.prop6 = "central form", t.prop11 = "RFA", t.prop7 = "datalayer field missing", t.prop10 = "dedicated forms", t.prop18 = "lead", t.prop17 = "datalayer field missing", t.prop19 = _satellite.getVar("AA-componentDefaultValues").componentName, t.prop42 = "configurator", t.prop43 = _satellite.getVar("AA-componentDefaultValues").subCat, t.linkTrackVars = t.apl(t.linkTrackVars, "prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43") } _satellite.getVar("setDefaultVariables", e)(t), t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timestamp"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop55 = s.get("event.-1.category.subCategory01"), t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.eVar136 = "2020 - 06- 15 accessories configurator", t.prop27 = s.get("page.pageInfo.pageID"); var d = s.get("page.pageInstanceId", s.get("pageInstanceId")), l = s.get("page.category.primaryCategory"); new RegExp("([a-z]{2}_[A-Z]{2})").test(l) ? d.indexOf("index-prod") > -1 ? t.prop3 = "homepage" : d.indexOf("all-models") > -1 ? t.prop3 = "showroom" : t.prop3 = d.split("/")[6] : t.prop3 = d, t.prop5 = s.get("page.category.subCategory02"), t.prop2 = s.get("page.category.pageType"), t.prop28 = "virtual" == s.get("page.category.pageType") ? "virtual page" : "", t.prop1 = t.pageName = -1 == r.indexOf("con >") ? "con > " + r : r, t.linkTrackVars = t.apl(t.linkTrackVars, "prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName"); var u = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr")), m = s.get("event.-1.attributes.engine"); if (m) { var b = /[0-9]{3}[a-z]{1}/i, p = /xdrive[0-9]{2}[a-z]{1}/i, g = /sdrive[0-9]{2}[a-z]{1}/i, f = m.match(b) || m.match(p) || m.match(g); m.indexOf("i3 (120 ah)") > -1 || m.indexOf("i3 (120ah)") > -1 || m.indexOf("i3 120ah") > -1 ? m = "i3 (120 ah)" : m.indexOf("i3s (120 ah)") > -1 || m.indexOf("i3s (120ah)") > -1 || m.indexOf("i3s 120ah") > -1 ? m = "i3s (120 ah)" : f && f.length && (m = f[0].toUpperCase()) } var v = _satellite.getVar("setDefaultProductVariables"); v.id = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr")), v.category = "new vehicle", v.merchEvars.eVar47 = s.get("event.-1.attributes.colour"), v.merchEvars.eVar52 = s.get("event.-1.attributes.productName", s.get("product.-1.attributes.modelName")), v.merchEvars.eVar60 = s.get("event.-1.attributes.manufacturer", s.get("product.-1.productInfo.manufacturer")), v.merchEvars.eVar10 = u, v.merchEvars.eVar51 = s.get("event.-1.attributes.bodyType", s.get("product.-1.attributes.bodyType")), v.merchEvars.eVar54 = "new car" == s.get("product.-1.category.primaryCategory") ? "build to order" : "", v.merchEvars.eVar50 = s.get("event.-1.attributes.serie", s.get("event.-1.attributes.series")).replace(/,/g, " "), v.merchEvars.eVar55 = s.get("product.-1.category.subCategory01"), v.merchEvars.eVar58 = m, v.merchEvars.eVar65 = s.get("event.-1.attributes.productName"); var h = _satellite.getVar("setDefaultProductVariables"); switch (h.id = s.get("event.-1.attributes.wishlist.-1").split("~")[2], h.category = "after sales", h.events = ["event836=" + s.get("event.-1.attributes.wishlist.-1").split("~")[3]], t.events = t.apl(t.events, "event836"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event836"), v.append(h), t.products = v.toString(), t.linkTrackVars = t.apl(t.linkTrackVars, "products"), a) { case "Model Selection": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event917,event918,event257,event253,event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event257,event253,event254"), i()); break; case "ac start": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event917,event918,event251, event252, event253, event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event251, event252, event253, event254"), i()); break; case "ac model update": "AC iFrame - AC Model Change Intention" == o && (t.events = t.apl(t.events, "event917,event918,event258, event253, event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event258, event253, event254"), i()); break; case "ac start after model change": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event917,event918,event251, event252, event258, event253, event254"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event251, event252, event258, event253, event254"), i()); break; case "Summer Complete Wheels": case "Winter Complete Wheels": case "M Performance": case "Transport Solutions": "AC iFrame - Accessory Configurator Step" != o && "AC iFrame - Accessory Add" != o && "AC iFrame - Detail Click" != o && "AC iFrame - Visualisation Change" != o && "AC iFrame - Started wishlist Share" != o && "AC iFrame - Finished wishlist Share" != o && "AC iFrame - Download wishlist" != o || (t.events = t.apl(t.events, "event253,event254,event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918"), i(), "AC iFrame - Finished wishlist Share" == o ? (t.events = t.apl(t.events, "event905,event906"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event905,event906")) : "AC iFrame - Download wishlist" == o ? (t.events = t.apl(t.events, "event903,event904"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event903,event904")) : "AC iFrame - Detail Click" == o || "AC iFrame - Visualisation Change" == o ? (t.prop53 = "ux", t.linkTrackVars = t.apl(t.linkTrackVars, "prop53")) : "AC iFrame - Started wishlist Share" == o || "AC iFrame - Finished wishlist Share" == o ? (t.prop53 = "success", t.linkTrackVars = t.apl(t.linkTrackVars, "prop53")) : "AC iFrame - Download wishlist" == o && (t.prop53 = "ux", t.linkTrackVars = t.apl(t.linkTrackVars, "prop53"))); break; case "RFA: Selected Accessories": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"), c(), t.eVar34 = "con > form started", t.prop8 = "form started", t.prop16 = "selected accessories", t.prop9 = "step 1/4", t.linkTrackVars = t.apl(t.linkTrackVars, "eVar34,prop8,prop16,prop9")); break; case "RFA: Personal Data": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918,event7,event8,event9,event10"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918,event7,event8,event9,event10"), c(), t.eVar34 = "con > form step 2", t.prop8 = "form step 2", t.prop16 = "personal information", t.prop9 = "step 2/4", t.linkTrackVars = t.apl(t.linkTrackVars, "eVar34,prop8,prop16,prop9")); break; case "RFA: Dealer Selection": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918,event7,event8,event9,event10"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918,event7,event8,event9,event10"), c(), t.eVar34 = "con > form step 3", t.prop8 = "form step 3", t.prop16 = "dealer locator", t.prop9 = "step 3/4", t.linkTrackVars = t.apl(t.linkTrackVars, "eVar34,prop8,prop16,prop9")); break; case "RFA: Legal Notice": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918,event7,event8,event9,event10"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918,event7,event8,event9,event10"), c(), t.eVar34 = "con > form step 4", t.prop8 = "form step 4", t.prop16 = "marketing consent", t.prop9 = "step 4/4", t.linkTrackVars = t.apl(t.linkTrackVars, "eVar34,prop8,prop16,prop9")); break; case "RFA: Finish": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"), c(), t.eVar34 = "con > form finished", t.prop8 = "form finished", t.prop16 = "request success", t.prop9 = "request success", t.linkTrackVars = t.apl(t.linkTrackVars, "eVar34,prop8,prop16,prop9")); break; case "AC full screen view": "iFrame - fullscreen" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918"), i()); break; case "AC Toggle M Sport Package": "iFrame - toggle" == o && (t.events = t.apl(t.events, "event253,event254,event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event253,event254,event917,event918"), i()); break; case "ac error page": "AC iFrame - Accessory Configurator Step" == o && (t.events = t.apl(t.events, "event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event931,event932"), t.prop56 = "error", t.prop53 = "error 404", t.pageType = "errorPage", t.eVar34 = o, t.prop54 = "datalayer field missing", t.prop55 = "404", t.prop51 = "datalayer field missing", t.prop52 = n, t.linkTrackVars = t.apl(t.linkTrackVars, "prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType")) } } catch (s) { t.sa("bmwgroup.group.global.test"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933", ","), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74", ","), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Accessory Configurator", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL092b6db4f37744cdbd4513c8e935132a", name: "TPT - ES - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0c7968de1c9842dd8c946f6cf44e9b32-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4b6ad6917b4d47f9b8b070e71de9b4bc", name: "TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe1d6c80cd25747cf8ee329b6c782a974-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC97cb224993ae46b79cc19c284c09577a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd5cfaf7030354f9f8f799ae6d1cfb0cd", name: "TPT - SG - AEM - Adform - Multiple - Save configurator - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "SG" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/ssl/configurator.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdc86926af95d46a8883685568703014d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL659d2fbcfc284a41b00577245597a5a7", name: "TPT - BE - AEM - Facebook - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC779db2230a3542e18e1668f43d3c9826-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1db7e18723ad420082afcd42990a9e48", name: "TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08b51f472b7545f9842d5395b3d21276-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL15f9d2dbfd7c4000afbb2502ad7a4047",
        name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_address" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC590d5ab5bbc44b1f8987b86ae847f14b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL6caafcef9b7a4e549c752ced57575653", name: "TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1b98c2220e284458b1b5d9b8ec5bca2a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc1315277dbb84375be27eca24169cecd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe872948b47c64c289d81778445e2765d", name: "TPT - RO - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC383c28c9092745fda66766a5a3a29506-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL53d57cba7d5841bca1d86efadcb78cfc", name: "TPT - AU - AEM - GtagDC - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd543f75b7d7d476fadf9d12cd0cebadd-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1bc87824452d449b96bdadfc221b3e15", name: "TPT - GR - AEM - Facebook - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCda626905840540cbbf9e4eaec0acaa05-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL63486f0770054e6f9fadadbd5510e81e", name: "HT - All - All Pages - Custom Script - p15r check", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: -100 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "window.processingWrapper = window.processingWrapper || { \n    overwrite: true,\n    register : function (processingId, callback) {\n    window.p15r.push({\n        action: 'register',\n        processingId : processingId,\n        callback : callback,\n    })\n    }, \n    execute : function (processingId, procParams) {\n    window.p15r.push({\n        action: 'execute',\n        processingId : processingId,\n        params: procParams,\n    })\n    }\n}\n\nvar ePaasPromise =   new Promise(function(resolve,reject){\n    var isEpaasPromiseAlreadyResolved = false;\n    ((window.consentcontroller && window.consentcontroller.api) || window).addEventListener('consentcontroller.api.initialized', function(){\n        isEpaasPromiseAlreadyResolved = true;\n        console.log('epaas promise is resolved');\n        (window.p15r = window.p15r || []).push({\n            action: 'register',\n            processingId : 'Consentcontroller', \n            callback: function(){  \n            resolve(true);\n            console.log('p15r promise is resolved');\n            }\n        }, {\n            action: 'execute',\n            processingId : 'Consentcontroller'\n        });\n    })\n    setTimeout(function(){\n    if(!isEpaasPromiseAlreadyResolved){\n        reject();\n    }    \n    }, 5000); // this timeout is to make sure the if epaaS is not loaded within 5 seconds, then reject the promise(can be changed)\n\n})\nePaasPromise.catch(function(err){ // consentcontroller issue\n    console.log('epaas promise is rejected')\n    return false;\n})\nreturn ePaasPromise", language: "javascript" }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try {\n  _satellite.logger.info('ASYNC: Forcing evaluation of adobe.optIn')\n  if(_satellite.getVar('isAdobeAnalyticsAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.ANALYTICS,true);\n    adobe.optIn.approve(adobe.OptInCategories.ECID,true);\n  }\n  if(_satellite.getVar('isTargetAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.TARGET,true);\n  }\n  if(_satellite.getVar('isAAMAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.AAM,true);\n  }\n  adobe.optIn.complete();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"rule\",\n        name: \"HT - All - All Pages - Custom Script - p15r check\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe950c7e83624c05b1469fa7c1ddefae", name: "TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7dbbac7f4caf4495a4b247bf3ba8247d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4f5332c689ac48a7a084719c2afa882f", name: "PLR - IT - hashedemailid - AAM", events: [{ modulePath: "core/src/lib/events/change.js", settings: { elementSelector: "#email", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { if ("" != _satellite.getVar("AAM-emailid") && null != _satellite.getVar("AAM-emailid") && null != _satellite.getVar("AAM-emailid")) return !0 } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC41b2ca5468834630a3e5307d7ce20726-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcbc5387a131a4c13b7450e1e393cc244", name: "TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f93354e23cd4f8389ddcdc1b94bc4f3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb57a0e213d49431d95a9271365bbfb12", name: "TPT - RO - AEM - Facebook - Make Appointment - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC76d3021609514460bcff6bbee0b842b4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa6e3a87734ae40598647f7d6c770b67e", name: "ACDL GROUP - ALL - ANY - DLP - 0006 - pageInstance handler", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 6 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf78c46afd22b46d2abd59a37de362ab6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5a47cb4875d54a08b19102f99c98e7ac", name: "TPT - PT - AEM - Facebook meta - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC73b242953c2f484b914e8459e2b9610d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL62c4eca0acd44879b50156292b8bdef3", name: "TPT - PL - AEM - Adform - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9384204d16874f4fa7accdcb4dab1810-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL062d668b19bf48de9a08ff90966c6a02", name: "TPT - PT - AEM - GtagDC - Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC40cdb95e50d14f65abc1087d7679cbf1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb50f3287ab574faea29c3515b31c77ec", name: "TPT - ES - AEM - Adform - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfb997d5fc0ef49fb96985ceb942c9c8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4bd011d03e814f56ab7bf82d2fb27950", name: "ACDL GROUP - ALL - ANY - AA - 1000 - tronevent-Cleansed", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 1e3 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !1 }) } }, timeout: 2e3 }], actions: [{ modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { t.clearVars(), e.message.eventInfo.tools = e.message.eventInfo.tools || {}, Object.assign(e.message.eventInfo.tools, { launch: { prop_rule: _satellite.property.name + "|" + e.$rule.name } }), adobeDataLayer.mapper.mapSatellite({ dataLayer: e.fullState, event: { event: e.message.event, eventInfo: e.message.eventInfo }, s: t }), t.isFromACDL = !0, t.tl(!0, "o", e.message.eventInfo.eventName || "noEventName") } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }] }, { id: "RL059b952637db4b379a01d84df417bde7", name: "TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC529de4fda5d64a0cac069bafb885bb18-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC187a9b8c0a034bcebe42a4ce414d6733-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9fd0d791882541e88cfde38a9b05ee6b", name: "TPT - DE- AEM - Adform - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa3a15524eee9452a96e2cc074092f24c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL99fd1c92f253495f99a4e7de0b1a0d74", name: "TPT - FI - AEM - GTagDC - Download Brochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "downloadlink pagelink basecomponent ds2-linklist--item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9a07260dc217470e9362f77a2f460191-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL600cd6998d444e33a1487d4a53cdea5f", name: "TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC30610b27ff564f8db07dbe5c7fe10179-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf13f2fe79dbc4d7b8a4f2a4fd9fc79d3", name: "TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC766ed19d4d084c28b88cf64fdf92b22f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL49f4be05e0d54bc5ad952f7399dec174", name: "TPT - SK - AEM - Adwords Conv - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd81fe4c3634a4e21aba85c8d7fb93279-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL660e522a6a444fe3bc2cd3ef2742bc13", name: "TPT - DK - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC451bbcc9cf714fa8991a74e4ee99772a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL75e6f92d827c4828b788e658fd3c9c53", name: "TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".pagelink.basecomponent.ds2-linklist--item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NO" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !0, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf8d94903f9904fa9bc1647eecb2aa337-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLffdeba9d03e04d358e74b5dbec379b2b", name: "TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8dd4766715e34e5a915a0424339ca6ce-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL97693e9726644bec8f6b4d3f817e9882", name: "TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.kr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC40a7f3d5ff5e4378901b86fd232ea787-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d73e8e564434e6eb2f562bdb627e8eb", name: "TPT - IE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf1499b95dc2d4440923aa5ad7a69ce47-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLac93dcd546dc46c5a0bfbbe0d0f156ae", name: "TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaf6f864be01f43109c0e11142af60d74-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcb4b9be379754bd4aae324c1f9edd7f6", name: "TPT - TH - AEM - GtagAW - Link to Shop - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 500, elementSelector: "a", elementProperties: [{ name: "href", value: "shop.bmw.co.th", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8323a4cdfe104d2dafcf0d4c226c09ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1a1726adb36e4bfaabbbfedd468172a3", name: "TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC573d2fc049ac415596f52e285a4ee191-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLab6adbdbd61c4664aa4c1d84d165417f", name: "TPT - NL - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8222be39e97d4863a3be0c10cf29654c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf0f6bc0c2cfe4bb8aa9f42b7528cdcaf", name: "TPT - DE - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaca824b898ee49388e0bd05d7d825180-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL890dc1bba9004993be0b285e763c0e80", name: "TPT - NL - AEM - Facebook - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC682073924f47481b8a92394e90ba3c51-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL201859196af3413e9b7749e809e7625e", name: "TPT - RO - AEM - LinkedIn - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc916ec80b20a4a70863d9a732c7b187f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa14ffd507acb4195821442f59dc6d3b7", name: "TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IT" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC226305e6951b41d9a6795909323ee89a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf86ebaf4d18e44d2adc2756d9e57a279", name: "TPT - RO - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCae5a5399b72749e7ba16eb9945948734-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL61e32e49c7eb443ea4c0a6e8c476882a", name: "TPT - PT - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC38be00612d2d4e9f8fb1e2dad8a35ac7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf25fafd410064dcbaa280bc922803713", name: "TPT - CH - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde646198a521468895346396abb29eef-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc73cdb7aab394e84809956b11811a2b3", name: "TPT - BE - AEM - Adwords - All Pages - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.be" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6dba727243f64193891ccbcd0effffa5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe8afa05c15c04790bb983483781d45ad", name: "TPT - RO - AEM - Adwords - Book a test drive Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title*="tda"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ede2ecda4b4446da7280a76f8c43fbb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfcda79b335d64e7f8bab2af354bfe806", name: "TPT - TH - AEM - LAP - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe7ff241549c74fff9598471fde74f33c-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5fd8c8f9fa804df88cc63c28dd82abeb", name: "TPT - DE - FORMS - Adobe Campaign Pixel - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex" }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf6511f948649403b8cd7ca51b66d7ed9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL425b5218d2014908b333ee85e2fbc8b7", name: "TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 500, elementSelector: "a", elementProperties: [{ name: "href", value: "https://discover.bmw.ie/get-a-quote/", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf38dbe6215f4a46962f78bacefae279-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLb571d3f6fff24249a13d0f9c2980abcb", name: "DCR - All - IFrame - AA - Local Forms 3CT", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = (s.get("event.-1.eventInfo.cause"), s.get("event.-1.eventInfo.eventPoints"), s.get("event.-1.eventInfo.type")), r = s.get("event.-1.category.subCategory1"), i = s.get("event.-1.category.subCategory2"), c = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t), t.prop1 = t.pageName = -1 == c.indexOf("nsc >") ? "nsc > " + c : c, t.eVar34 = o, t.eVar9 = s.get("iframeURL", s.get("event.-1.attributes.iframeURL")); var d, l = {
                                rao: ["event25,event26", "event27,event28"], rfa: ["event29,event30", "event31,event32"], rfc: ["event33,event34", "event35,event36"], rfcd: ["event37,event38", "event39,event40"], rfd: ["event41,event42", "event43,event44"], rfo: ["event61,event62", "event63,event64"], rfp: ["event65,event66", "event67,event68"], rfs: ["event69,event70", "event71,event72"], tda: ["event85,event86", "event87,event88"], "online tda": ["event89,event90", "event91,event92"], registration: ["event93,event94", "event95,event96"], campaign: ["event97,event98", "event99,event100"], rfi: ["event45,event46", "event47,event48"], download: ["event49,event50", "event51,event52"], generic: ["event53,event54", "event55,event56"],
                                postal: ["event57,event58", "event59,event60"], roi: ["event73,event74", "event75,event76"], "keep me informed": ["event77,event78", "event79,event80"], newsletter: ["event81,event82", "event83,event84"], "fs rfo": ["event101,event102", "event103,event104"], loan: ["event105,event106", "event107,event108"], "operational lease": ["event109,event110", "event111,event112"], "private lease": ["event113,event114", "event115,event116"], quote: ["event117,event118", "event119,event120"], insurance: ["event121,event122", "event123,event124"], lead: ["event17,event18", "event19,event20"], handraiser: ["event21,event22", "event23,event24"], evt: ["event131,event132", "event133,event134"], sws: ["event135,event136", "event137,event138"]
                            }, u = l[n.toLowerCase()], m = l[r.toLowerCase()], b = l[i.toLowerCase()]; "nsc > form started" == o || "local > form started" == o ? (d = t.apl(d, "event3,event4"), null != b && (d = t.apl(d, b[0])), null != u && (d = t.apl(d, u[0])), "RFI" != n && "ROI" != n && "FS RFO" != n && "fs rfo" != n && "roi" != n && "rfi" != n || null != m && (d = t.apl(d, m[0]))) : "nsc > form finished" == o || "local > form finished" == o ? (d = t.apl(d, "event15,event16"), null != b && (d = t.apl(d, b[1])), null != u && (d = t.apl(d, u[1])), "RFI" != n && "ROI" != n && "FS RFO" != n && "fs rfo" != n && "rfi" != n && "roi" != n || null != m && (d = t.apl(d, m[1]))) : "nsc > form finish intention" == o || "form finish intension" == o || "local > form finish intention" == o ? d = t.apl(d, "event917,event918,event13,event14") : "first form interaction" == o || "local > first form interaction" == o ? d = t.apl(d, "event917,event918,event5,event6") : "form interaction" == o || "local > form interaction" == o ? d = t.apl(d, "event917,event918,event9,event10") : o.indexOf("form step") > -1 ? d = t.apl(d, "event7,event8") : "form impression" == o ? d = t.apl(d, "event925,event926") : "error" == a && (d = t.apl(d, "event931,event932")); var p = s.get("event.-1.attributes.leadTime", "0"); d = t.apl(d, "event977=" + p), t.events = t.apl(t.events, d), t.linkTrackEvents = t.apl(t.linkTrackEvents, d), t.eVar137 = s.get("component.-1.category.application", "aem6"), t.prop55 = s.get("event.-1.category.subCategory1", s.get("event.-1.attributes.errorCode")), t.eVar23 = s.get("page.attributes.marketingConsent"), t.prop6 = t.prop53 = t.prop54 = "local form", t.prop7 = s.get("event.-1.category.subCategory1"), t.prop8 = o, t.prop8.indexOf("local > ") > -1 && (t.prop8 = t.prop8.replace("local > ", "")), t.prop9 = s.get("page.category.subCategory1"), t.prop10 = s.get("page.category.subCategory2"), t.prop11 = n, t.prop16 = s.get("page.pageInfo.pageName"), t.prop17 = s.get("event.-1.attributes.form.rfxID"), t.prop18 = s.get("event.-1.category.subCategory2", s.get("event.-1.category.subCategory02")), t.eVar35 = s.get("dealer.-1.dealerInfo.dealerOutletBuno"), t.eVar41 = s.get("dealer.-1.dealerInfo.dealerGroupName"), t.eVar42 = s.get("dealer.-1.dealerInfo.dealerGroupID"), t.eVar39 = s.get("dealer.-1.dealerInfo.dealerOutletName"), t.eVar40 = s.get("dealer.-1.dealerInfo.dealerOutletID"), t.prop42 = "locally developed", t.prop43 = "forms", t.prop56 = "form", "form" == t.prop56 && (t.prop53 = t.prop11), "form" == a && (t.prop9 = s.get("event.-1.attributes.form.stepAmounts", s.get("page.category.subCategory1")), t.prop10 = s.get("event.-1.attributes.form.formVariant", s.get("page.category.subCategory2")), t.prop16 = s.get("event.-1.attributes.form.stepName", s.get("page.pageInfo.pageName"))), ("form" != s.get("component.-1.category.subCategory01") && "form" != s.get("component.-1.category.subCategory1") || "aem6" != s.get("component.-1.category.application")) && "nsc > form finish intention" != s.get("event.-1.eventInfo.effect") || "interaction" == a && (t.prop6 = t.prop53 = "adobe form"), "datalayer field missing" != t.prop7 && "datalayer field empty" != t.prop7 || "form" == t.prop56 && (t.prop53 = s.get("event.-1.eventInfo.type"), t.prop11 = n, t.prop7 = "generic"), "datalayer field missing" != t.prop55 && "datalayer field empty" != t.prop55 || "form" == t.prop56 && (t.prop53 = s.get("event.-1.eventInfo.type"), t.prop11 = n, t.prop55 = "generic"), "error" == a && (t.prop56 = "error", t.prop6 = "", t.prop8 = "", t.prop11 = "", t.prop55 = s.get("event.-1.category.subCategory1"), t.prop53 = s.get("event.-1.eventInfo.type"), t.eVar34 = s.get("event.-1.eventInfo.effect"), t.prop52 = s.get("event.-1.eventInfo.cause")), t.prop19 = "local form", t.eVar136 = s.get("version"), t.linkTrackVars = t.apl(t.linkTrackVars, "products,eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56,eVar35")
                        } catch (s) { _satellite.getVar("catchblock", e)(t, s) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%AA-eventType%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL43cb7c59cdf7433699dfa2bda0147a53", name: "TPT - NL - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCff75bb7cff7749e3ab9b95ab2edb8683-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL26c18b7f303d406e9e62b6effd1820f0", name: "TPT - PT - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe15a63759c144adba7fc8ab3380946cc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL72de2eee91fd43a99d992cccb9e14d7f", name: "TPT - AT - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0883921bf488467fa767ef52ff88e9d9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe602d2623579470e8705b7566d2d8caf", name: "TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc7c78bd6d95440e8a6c5bdc903547672-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC03e104710692409a9484df4009f946bc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ed696e8513644ebb0a326832e2b32bb", name: "TPT - UK - AEM - Content Square - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6ca3eb210e9f410084d0ff6ad243a563-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6d6306feca144b8a8706f2c8e2c21230-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL93f2aee11f2c4c449b8470fd929c65a5", name: "TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC75b5e2b29f094344a9c7dfb1e37de1e7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea458f189e7a4e9bac1786dde3f4d637-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLab073270f63c4a11ab0dfb17a439e544", name: "TPT - SI - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc94bc9a8e0df4613ab2eb1b7cf9e29c0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc45a33ea4b234c81b8ea80bf56fe2c47", name: "TPT - DE - AEM - ContentSquare - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "TPT page view" }, ruleOrder: 50 }, { modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "pageview-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/neuwagen-onlinekauf.html", valueIsRegex: !0 }, { value: "/de/publicPools/search-results/search-results.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0a143dcbd4a24c7eaf42dcfc2f902a7c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC71c390ee2dd94309a2b5852000f57366-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL90677769f9b244c9a255ec36acbaa4d4", name: "TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: "a", elementProperties: [{ name: "title", value: "BMW bruktbils\xf8k", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC887e9c610e7d41529d92bc172ab32725-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL428ac483ddb348df8effa5b2d9aa0760", name: "TPT - FR -  AEM - Adwords - Shop Events - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "oneshop_event" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9120831a88ba4941b9911a6d03c4c6db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL848b20db690e4210b62902709dfc3d1d", name: "TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fastlane/dealer-locator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2e16721baa81486a9ea22f42026650e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2fc1eb4b6c044bfaa12fe1b408648a3c", name: "TPT - TH - AEM - GtagAW - TDA Form Success - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7864b53b14e144e8a1a3d443e3f7a7ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2d7293e4da4843b1b608f11fb6bfef09", name: "PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%splitConsentEnabled%", rightOperand: "false" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCec5adf7590f44bcab2b9c761c41b3efd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4be68f8145b84c488ee0aacc55bc6a8b", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - Prevent Legacy Tron Events", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return console.log("ACDL: FORMS: ", e), adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa1d9b6da8d184bf887d646d4cae3c263-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL67279d25f30d47cc8e4f164cace2c39f", name: "TPT - UK - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2e5c9202d1164982b931a6cdac94d80a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8ec092462b43405b9adba1b807d8d8ab", name: "TPT - HU - AEM - Facebook - Form Submission - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCef5648aef72a435c805da953fa1f859e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1056ab28198f4244be3a160345594c02", name: "TPT - DK - AEM - Adform - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0a49587340e249418fd702cd17348540-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcd934e089c3f45bbaf8e9ea918adaeb1", name: "TPT - All - AEM - Usabilla NPS 3.0 version - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "NPS" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i) ? "MOBILE" : "DESKTOP", t = _satellite.getVar("topLevelDomain").split("."), s = t[t.length - 1].toUpperCase(); if ("UK" == s && (s = "GB"), "COM" == s && window.location.href.indexOf("bmw.com/en-au/") > -1 && (s = "AU"), -1 == ["DE", "GB", "JP", "IT", "FR", "ES", "RU", "KR", "AU", "NL", "AT", "CN", "ZA", "CA"].indexOf(s)) return _satellite.logger.log("Returning false as it is not a NPS 3.0 market"), !1; var a = { DE: { buttonCode: { DESKTOP: "717a962d4119", MOBILE: "f1b470d22f7a" }, NPS: { DESKTOP: "2be734de4b9d", MOBILE: "b98ad465df21" }, CES: { DESKTOP: "6aa30e439095", MOBILE: "b2a59b55f7e5" }, random: { NPS: 12, CES: 0, Psyma: 50, Other: 38 } }, GB: { buttonCode: { DESKTOP: "344487c265ed", MOBILE: "20bbdbc71ef3" }, NPS: { DESKTOP: "9f455d2a3f1c", MOBILE: "59c2f57087a8" }, CES: { DESKTOP: "d8e35ac4209c", MOBILE: "b435abb11ac3" }, random: { NPS: 20, CES: 0, Psyma: 60, Other: 20 } }, JP: { buttonCode: { DESKTOP: "92977586f250", MOBILE: "d84bdb2f1964" }, NPS: { DESKTOP: "85a49479c91e", MOBILE: "101f944c997e" }, CES: { DESKTOP: "7552071ac07b", MOBILE: "f25819ad1a04" }, random: { NPS: 20, CES: 0, Psyma: 56, Other: 24 } }, IT: { buttonCode: { DESKTOP: "88ab5d53da60", MOBILE: "8e1a4fcc286b" }, NPS: { DESKTOP: "c4a8ccbec600", MOBILE: "73fa346d403b" }, CES: { DESKTOP: "0aae4c00330a", MOBILE: "ace839b972fd" }, random: { NPS: 10, CES: 0, Psyma: 46, Other: 44 } }, FR: { buttonCode: { DESKTOP: "3bf8867012f2", MOBILE: "951604100fda" }, NPS: { DESKTOP: "53a5a4717277", MOBILE: "142a6bc45942" }, CES: { DESKTOP: "4d3f63b653fb", MOBILE: "aeaa7d432539" }, random: { NPS: 80, CES: 0, Psyma: 0, Other: 20 } }, ES: { buttonCode: { DESKTOP: "8445c5a2cf12", MOBILE: "3008841f7269" }, NPS: { DESKTOP: "7e88e6163a4c", MOBILE: "cd793f80bda6" }, CES: { DESKTOP: "879b46cf88f5", MOBILE: "4ac2bb513106" }, random: { NPS: 26, CES: 0, Psyma: 52, Other: 22 } }, RU: { buttonCode: { DESKTOP: "92772dbeabd8", MOBILE: "dbbd8c96c68a" }, NPS: { DESKTOP: "3cda55b4e6d0", MOBILE: "a0870a2972f6" }, CES: { DESKTOP: "1db9cb311c93", MOBILE: "a003194dfdc8" }, random: { NPS: 15, CES: 0, Psyma: 0, Other: 85 } }, KR: { buttonCode: { DESKTOP: "4583de3025fe", MOBILE: "51af9d4cb9c0" }, NPS: { DESKTOP: "10ff397b6d5f", MOBILE: "95decc55e2ef" }, CES: { DESKTOP: "635e47f55055", MOBILE: "93d523f3d22d" }, random: { NPS: 25, CES: 0, Psyma: 0, Other: 75 } }, AU: { buttonCode: { DESKTOP: "c8476b2d62dd", MOBILE: "d4b7a77bec58" }, NPS: { DESKTOP: "e77a23160463", MOBILE: "882cd879928f" }, CES: { DESKTOP: "343b84a4e928", MOBILE: "fd25e25af4f3" }, random: { NPS: 20, CES: 0, Psyma: 0, Other: 80 } }, NL: { buttonCode: { DESKTOP: "44b55d42df13", MOBILE: "08982312381f" }, NPS: { DESKTOP: "2979a4502fba", MOBILE: "363c153bc496" }, CES: { DESKTOP: "d29bcee79e5e", MOBILE: "fa3ac53564d7" }, random: { NPS: 75, CES: 0, Psyma: 0, Other: 25 } }, AT: { buttonCode: { DESKTOP: "fd1b75fa05a4", MOBILE: "3d1326b2e2da" }, NPS: { DESKTOP: "63dc33967e95", MOBILE: "d9969ae1bed5" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 30, CES: 0, Psyma: 0, Other: 70 } }, CN: { buttonCode: { DESKTOP: "cd813f067481", MOBILE: "19b6fbe6d646" }, NPS: { DESKTOP: "ac90b5319d03", MOBILE: "28642a3ff0e4" }, CES: { DESKTOP: "71255a3f180f", MOBILE: "b67d3528c7ad" }, random: { NPS: 85, CES: 0, Psyma: 0, Other: 15 } }, ZA: { buttonCode: { DESKTOP: "e76b03c4d193", MOBILE: "25da3549cea1" }, NPS: { DESKTOP: "82d8573d931c", MOBILE: "e9ae4da2cac2" }, CES: { DESKTOP: "c68833e0a2d2", MOBILE: "7c9b7e333fe0" }, random: { NPS: 50, CES: 0, Psyma: 35, Other: 15 } }, CA: { buttonCode: { DESKTOP: "dcd573f5e4a1", MOBILE: "b9dd99081c4c" }, NPS: { DESKTOP: "dcd573f5e4a1", MOBILE: "b9dd99081c4c" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 50, CES: 0, Psyma: 0, Other: 50 } }, MX: { buttonCode: { DESKTOP: "f82528fdac10", MOBILE: "8ec1fdf9f06b" }, NPS: { DESKTOP: "f82528fdac10", MOBILE: "8ec1fdf9f06b" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 99, CES: 0, Psyma: 0, Other: 1 } }, TR: { buttonCode: { DESKTOP: "189bcbdfa0ad", MOBILE: "6996786467b6" }, NPS: { DESKTOP: "189bcbdfa0ad", MOBILE: "6996786467b6" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 99, CES: 0, Psyma: 0, Other: 1 } }, PL: { buttonCode: { DESKTOP: "d3bfaa402165", MOBILE: "bf451d583c95" }, NPS: { DESKTOP: "", MOBILE: "" }, CES: { DESKTOP: "", MOBILE: "" }, random: { NPS: 0, CES: 0, Psyma: 0, Other: 100 } } }; return "NPS" == _satellite.getVar("usabilla_randomizer") && (null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]) ? (npsValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]), npsValue = npsValue.split("/"), noNPS = "T" != npsValue[0]) : noNPS = !0, noNPS) } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8677ffe59da442b94785a45720128da-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6d904d12521f408dbafdbf1980a14551", name: "TPT - IT - AEM - GTag DC/AW - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC42ff761a955b4868ae2ba534e38b8322-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5255b0084809465c9c490488897b4cb4", name: "TPT - UK - AEM - Adform - iFrame Motability Form Submit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/forms/pdi_bmw_i2662_rfc.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd49dafdb29a44dcfa32730a77512b263-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeb06ab0e6b5b43f791608855221458a6", name: "ACDL GROUP - ALL - ANY - DLP- 0020 - set tech meta data", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC73138bb8f24b4a69a9ceefe7ef9da9a0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL57aa7069ac394361b7caf6403dee8644", name: "TPT - BE - AEM - GTagDC - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC84dc6f102b724937814eebd1d2ba38c6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd0e9e3f4b23345879842ee9cc12c2523", name: "TPT - CA - AEM - DoubleClick - Lifestyle Find a Retailer - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function () { return "Find a Retailer" === this.innerHTML } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/bmw-lifestyle.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC75303ce6c0374719b9ac57325af82161-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4acdf723c48246b089454620ebb6e0be", name: "TPT - AT - AEM - DoubleClick - Configure History Change - PLR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2b3d79cc829947ca8da777b5f6e69273-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL58a876f747df4ac89a0f78294b56462e", name: "TPT - CZ - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb4171db6989a4f46936b9173a651e5d5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc5bf879b70ec4dc087ab1c0e945c09c6", name: "ACDL GROUP - ALL - ANY - DLP - 0005 - detect shadow domains", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 5 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC177598369e3749a4bd4ac15aa1e0828f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL3ddb6c44e7014d40a9e13d8e52dd31b3", name: "EBR - CA - iFrame - AA - ACS Click Tracking", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (-1 != ["https://sf-acs.bmw.ca", "https://sf-acs-i.bmw.ca"].indexOf(t.origin)) if (t.data) try { _satellite.logger.log(JSON.parse(t.data)); var s = JSON.parse(t.data); s.detail && s.detail.custom && Object.keys(s.detail.custom) && Object.keys(s.detail.custom).length && (_satellite.setVar("acs_event_data", s), e()) } catch (e) { _satellite.logger.error("EBR: ACS Component click tracking", e) } else _satellite.logger.log("no data in event object", t) })) } catch (e) { _satellite.logger.error("EBR: ACS Component click tracking", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.ca" }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("acs_event_data").detail, a = s.event.length ? s.event[s.event.length - 1].eventInfo.eventAction : "datalayer field empty", o = s.event.length ? s.event[s.event.length - 1].eventInfo.eventName : "datalayer field empty", n = s.event.length ? s.event[s.event.length - 1].eventInfo.type : "datalayer field empty", r = s.event.length ? s.event[s.event.length - 1].eventInfo.timeStamp : "datalayer field empty", i = s.event.length ? s.event[s.event.length - 1].eventInfo.cause : "datalayer field empty", c = s.event.length ? s.event[s.event.length - 1].eventInfo.effect : "datalayer field empty", d = s.event.length ? s.event[s.event.length - 1].eventInfo.eventPoints : "datalayer field empty", l = s.component.length ? s.component[s.component.length - 1].componentInfo.componentID : "datalayer field empty", u = s.component.length ? s.component[s.component.length - 1].componentInfo.componentName : "datalayer field empty", m = s.component.length ? s.component[s.component.length - 1].category.componentType : "datalayer field empty", b = s.component.length ? s.component[s.component.length - 1].category.primaryCategory : "datalayer field empty", p = s.component.length ? s.component[s.component.length - 1].category.subCategory1 : "datalayer field empty", g = (s.component.length && s.component[s.component.length - 1].category.subCategory2, _satellite.getVar("productBuilder")), f = _satellite.getVar("productBuilder"); if (s.custom && s.custom.event && s.custom.event.length && null != s.custom.event[s.custom.event.length - 1].attributes && null != s.custom.event[s.custom.event.length - 1].attributes.search) { var v = s.custom.event.length ? s.custom.event[s.custom.event.length - 1].attributes.search[0].label : "datalayer field empty", h = s.custom.event.length ? s.custom.event[s.custom.event.length - 1].attributes.search[0].term : "datalayer field empty", P = s.custom.event.length ? s.custom.event[s.custom.event.length - 1].attributes.search[0].state : "datalayer field empty", j = s.custom.event.length ? s.custom.event[s.custom.event.length - 1].attributes.search[0].unit : "datalayer field empty"; g.category = "vehicle", g.id = "datalayer field missing", g.merchEvars = { eVar31: P, eVar30: j, eVar32: v, eVar33: h ? h.toString() : h } } if (s.custom && s.custom.product && s.custom.product.length) for (var C = 0; C < s.custom.product.length; C++) {
                                if (s.custom.product[C].category && "service" === s.custom.product[C].category.productType) { var y = s.custom.product[C].category.productType || "datalayer field empty", w = (s.custom.product[C].category.primaryCategory, s.custom.product[C].category.subCategory1, s.custom.product[C].productInfo.productName, s.custom.product[C].productInfo.productID || "datalayer field empty"), R = s.custom.product[C].attributes.fin.downPayment || "datalayer field empty", x = s.custom.product[C].attributes.fin.monthlyPayment || "datalayer field empty", E = s.custom.product[C].attributes.fin.term || "datalayer field empty", T = s.custom.product[C].attributes.fin.annualMileage || "datalayer field empty"; g.category = y, g.id = w, g.merchEvars = { eVar84: R ? R.toString() : R, eVar85: T ? T.toString() : T, eVar86: x ? x.toString() : x, eVar87: E ? E.toString() : E } } if (s.custom.product[C].category && "vehicle" === s.custom.product[C].category.productType) {
                                    var I = s.custom.product[C].category.productType || "datalayer field empty", _ = s.custom.product[C].category.primaryCategory || "datalayer field empty", A = s.custom.product[C].category.subCategory1 || "datalayer field empty", k = s.custom.product[C].productInfo.productName || "datalayer field empty", L = s.custom.product[C].productInfo.productID || "datalayer field empty", O = s.custom.product[C].productInfo.manufacturer || "datalayer field empty", S = s.custom.product[C].attributes.modelCode || "datalayer field empty", V = s.custom.product[C].attributes.hybridVersion || "datalayer field empty", N = s.custom.product[C].attributes.series.replace(/,/g, " ") || "datalayer field empty", D = s.custom.product[C].attributes.motorization || "datalayer field empty"; if (D) { var M = /[0-9]{3}[a-z]{1}/i, F = /xdrive[0-9]{2}[a-z]{1}/i, B = /sdrive[0-9]{2}[a-z]{1}/i, U = D.match(M) || D.match(F) || D.match(B); D.indexOf("i3 (120 ah)") > -1 || D.indexOf("i3 (120ah)") > -1 || D.indexOf("i3 120ah") > -1 ? D = "i3 (120 ah)" : D.indexOf("i3s (120 ah)") > -1 || D.indexOf("i3s (120ah)") > -1 || D.indexOf("i3s 120ah") > -1 ? D = "i3s (120 ah)" : U && U.length && (D = U[0].toUpperCase()) } f.category = I, f.id = L, f.merchEvars = { eVar10: "datalayer field missing", eVar53: _, eVar54: A, eVar52: k, eVar60: O, eVar48: S, eVar57: V, eVar50: N, eVar58: D }
                                }
                            } t.prop44 = l, t.prop19 = u, t.prop41 = m, t.prop42 = b, t.prop43 = p, t.prop56 = o, t.prop57 = a, (d = "na" == d ? "datalayer field empty" : d) && parseInt(d) && !isNaN(parseInt(d)) ? (parseInt(d) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(d) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + d, ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = d, t.prop53 = n, t.prop12 = r, t.prop52 = i, t.eVar34 = c, g.append(f), t.products = g.toString(), t.linkTrackVars += "prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"
                        } catch (s) { _satellite.getVar("catchblock", e)(t, s) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL87c4fee0726f492d8bef3b5b06972a4d", name: "TPT - SI - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf47b3aa244b445bfb9b9d6a530830f45-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe243d5c649944a31b4d37064e4afe788", name: "TPT - SI - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7d63a1bbe0144818a0a74cad2dcd270b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8aca38e7f95e40dc81599943a8fb80ae-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbfbed6d8a87e451699b948f7d3acb9b9", name: "TPT - CH - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdedcd83b2bcd4a0bbb107bdaec74e6a4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL66e232e312954bb595802615f5f1898a", name: "TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[title='Register your interest']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1bc3fefb3b164c79adc5c6295e13675e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3354aa146ca14e5194a0b056c9334f9a", name: "TPT - UK - AEM - GTagDC - VirtualAppoint Form Comp - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d545773f0cd45ee8818c308e542b114-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5b596ab6c6054cd7abea3c1de8014b25", name: "TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC811b7445af6b4d0f9484ce0e92eec7fc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL52bac8c9bd2445a9bf082433ee36e758", name: "PLR - ALL - NSC - AA - localform2.0 eventlistener", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3734420845d94c6f871024b34dd4457d", name: "ACDL GROUP - ALL - ANY - DLP - 0008 - page component", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 8 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2da9ec3119a141be9aae686dd3d89ffb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL85d0f82ea82c4c8782c6ac94c3fe5a7d", name: "TPT - SI - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6f3034c604df4bea86ed9260b87434f3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf57de7349bb2419095593337a5e00334", name: "TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "a", elementProperties: [{ name: "title", value: "Premium Selection -vaihtoautot", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "J\xe4lleenmyyj\xe4t", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Lue lis\xe4\xe4 Laakkosen sivuilta", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "BMW Vakuutus", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Rakenna oma BMW", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Hinnastot ja esitteet", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Varaa huolto", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdf5605d5951548dabd0563d9bb922dbe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc7f2893ac2a74d439bcbb2d0f8d606d2", name: "TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd6644789f4f042c8aa0e1f62a281b70c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL77e5ea75243e479e9bdc78ea6d1d153b", name: "TPT - ES - AEM - gTagDC- Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es/es/configurator.html" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC59081c311c8e416f9518048d46ebd7f5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8524219d58d940999194b2ac3b6ea013", name: "TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe4039ffc64c94800a4d01f8ce4d34681-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcd3f22bcebbd443c96686cb8edebba16", name: "TPT - FR - AEM - Adform - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1391ae4ef5e7456e87b89ad500030761-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL062360ae21e241fd9074c16c4a9d620f", name: "TPT - MY - AEM - GTag_DC - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7f7599df9fad4ade8a8c1e52494f2535-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb5aece1e90494bed8e8d5c452d85a7c7", name: "TPT - PT - AEM - Facebook - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcd9dc1ec76b748daa8304308d7eba5c4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL18961985415b440abb4f752d48831fa9", name: "TPT - DE- AEM - Adform - Start Video - SCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC23b0973a57284774afe963eb4bfae5a8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd1ebfaf3b038401aacbce5a210f65597", name: "TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd8bbabe4f1f4480098a97c25faccac70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c1b378ca3984611bc6903650072beba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4d553d88588647098f6805e8f1713aa6", name: "HT - All - NSC - Multiple - Fire Mbox", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (t) { try { return Boolean(_satellite.getVar("AT-property")) || new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname) } catch (a) { var s = { from: "Condition", type: "Rule", name: t.$rule.name }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/variable.js", settings: { name: "window.navigator.userAgent", value: "Googlebot", valueIsRegex: !0 }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "window.targetGlobalSettings = {\n\n    telemetryEnabled: false\n};", language: "javascript" }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-target-v2/lib/loadTarget.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End", language: "javascript" }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}", language: "javascript" }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-target-v2/lib/firePageLoad.js", settings: { bodyHiddenStyle: "body{opacity:0px}", bodyHidingEnabled: !1 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4b6cc957f7db44eeb07cfb39f099d71e", name: "TPT - RO - AEM - Facebook - Download - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9d0641eb1c544829be249b0ffaf1dd67-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe149374829264a128a320c6c1b567c22", name: "TPT - GR - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7120fc7824aa467784e6dfe1ce93640b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa37b2b672c5f47f989e2e4514987b445", name: "TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd1db2684dd3041f380b2adb132243b87-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLadc43ee88a6d4d328e2d62fff26d9e56", name: "TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC656ea0835d1049f89685aff107dd0e22-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd639f9194ea446f3b46c731c75120499", name: "TPT - AT - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8972cfcfb7f4ade898e11438e3d9c5c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc740fb0a9c16432fbc68292147d086d2", name: "TPT - CH - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC79c3fcaee3384c11859ce818792aa628-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL568a0984b92d4feb89a02e5d0c6d98ab", name: "TPT - IT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34b017007ba640438c3ddc23331f6045-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6bcc1a1cbacc4f4b8a069b8ac9ecb163", name: "TPT - SK - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCffeed11caa3041b6b45b0b45cebc745d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2f8c995455d340f5976156c57d0289c0", name: "TPT - ZA - AEM - Twitter - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4bf30b8bf35143cb9626abdfb8e38874-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL57d5ada60cf1425e91068812b58100ab", name: "TPT - HU - AEM - Facebook - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92891d10d1f8462d92aa3925783bff77-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7d486e4e63ad4611b317ebaab1dd1b73", name: "TPT - BE - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe027411cfb164c1888a3a6754751130a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL292370eaa0b346efb6974765e07f77ba", name: "TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC344a7764ff92447aaa8928786958254e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5a61f5d69fdd4cc4998692152fd2b674", name: "TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC81251f61ed0e409a94357d9aa00f12fd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL891e3f3064974b38b071485a37acce00",
        name: "TPT - DK - AEM - GTagDC - RFC Form - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/da/generelt/kontakt/bmw-danmark.html" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2bf327a1babb426bb13b34aeaf086afd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL5831e8b056ee4659ac41f86e5f2fe2a1", name: "TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC658a2057537b41a29ee7b97e50e0b40a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1099156ab57b44f99684a05cd75aefab", name: "TPT - JP - AEM - Twitter - All Pages - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0efcd013fdd64239841b76746d1e221a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f2693a26f4340cd872be9ffd98ac77f", name: "TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-button--responsive-line", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/fascination-bmw/electromobility2020/elektroautos.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd6c5565a94ae44898c0c0cf3cccb8529-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2f0a305bfc104af880feed75ef06b6e0", name: "TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd8a8f17dd1344c609ba5bb7073a3eb87-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa047124640d4605b03138d407e21902", name: "TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "NO-SURVEY" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.de" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i) ? "MOBILE" : "DESKTOP", t = _satellite.getVar("topLevelDomain").split("."), s = t[t.length - 1].toUpperCase(); "COM" == s && (s = "DE"); var a = { DE: { buttonCode: { DESKTOP: "717a962d4119", MOBILE: "f1b470d22f7a" }, NPS: { DESKTOP: "2be734de4b9d", MOBILE: "b98ad465df21" }, CES: { DESKTOP: "6aa30e439095", MOBILE: "b2a59b55f7e5" }, random: { NPS: 12, CES: 0, Psyma: 50, Other: 38 } } }; return null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]) ? (npsValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]), npsValue = npsValue.split("/"), noNPS = "T" != npsValue[0]) : noNPS = !0, null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]) ? (cesValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]), cesValue = cesValue.split("/"), noCES = "T" != cesValue[0]) : noCES = !0, noNPS && noCES } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { return "showroom" == _satellite.getVar("snapshotDL").get("component.-1.category.subCategory1") } catch (t) { var e = { from: "TPT", type: "Rule", name: "TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II" }; _satellite.logger.error(t, e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC418fb93cdcb346cfbccc8408b3a77774-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf6dcd55404c84e0c9487c9f4be85ee7b", name: "ACDL GROUP - ALL - FORMS - DLP - 0020 - eventKey preparation for mapping", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !0 }) } }, timeout: 8e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd9ca40bcee184ceebe73c86bd1b895ed-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLc22f69f0441f48a5b17261c11243d78e", name: "TPT - AR - AEM - Adwords - iFrame Form RFI - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.ar", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/es/ssl/solicitud-de-contacto.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC155adbfdce7645cb871483cad7b67bfd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL34882b54d5d94e29a6ad34d1b25f6183", name: "TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC798712e320d544e2b1960336f61d12ca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d478ab040a24b789ed044df608107cf", name: "TPT - IT- AEM - Bing - iFrame RFO Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5dcab57de10484fbef4c411161e2ed2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLed50aa2a546d41c4bf6e0e5fac9f281d", name: "TPT - MY- AEM - Affle - RFI Forms Submit - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/x-series/iX3/2021/keep-me-informed-confirmation.html" }, { value: "/en/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html" }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC27079a038e3445b5b044d2b246bdd457-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e50d06849f44c85b46a88641824a757", name: "TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "ES" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/es/ssl/", valueIsRegex: !0 }, { value: "/es/campanas/plan-moves-2020.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC15941890d13a402d9310ffb2391edb67-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7d47f33f39774e8c86aac983ed63384c", name: "TPT - BE - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00e219cd34b645179600a4594f3db83a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfabc21ae0855497baac627d0bc3dafe7", name: "TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa19d678b0232425fb63e1e7566fc6ee4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe3a783a5859b4db899ab0eb42253dbda", name: "TPT - SI - AEM - GtagDC - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe46eed5633394aba80eb8d0d39cf6011-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC975a2f92241d46d6bca0edd1f22d7f48-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL17e80564f56b49f2a33c2bd0142c679a", name: "PLR - BE - All Pages - Custom Script - Reco Script", events: [{ modulePath: "core/src/lib/events/pageBottom.js", settings: {}, ruleOrder: 200 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger", (function (t) { t.detail && t.detail.processing == _satellite.getVar("consentMap").AdobeAnalytics && e() })) } catch (e) { _satellite.logger.error("Visitor Reco Script", e) } } }, ruleOrder: 45 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.be" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: {
                source: 'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n            return rawScore = 1e3 / (1 + Math.exp(-i)),\n                finalScore = Math.round(100 / (1 + Math.exp(-i))),\n                _satellite.setVar("raw_score", rawScore + ""),\n                _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n\n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n            var i = window.epaas.api.getPersistence(e);\n            //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        //////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n        function check_deviceType() {\n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.deviceType || {}))\n            navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), updateBucket(score_obj, "deviceType", e.deviceType), window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\n        }\n\n        //////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.sessionDuration || 0\n            4 >= i ? updateBucket(score_obj, "sessionDuration", "leq4") : 18 >= i ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 24 >= i ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 58 >= i ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 111 >= i ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 188 >= i ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 308 >= i ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 514 >= i ? updateBucket(score_obj, "sessionDuration", "gteq308_514") : 997 >= i ? updateBucket(score_obj, "sessionDuration", "gteq514_997") : i >= 998 && updateBucket(score_obj, "sessionDuration", "gteq998")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.sessionDuration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration", "leq4") : 5 == r ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 19 == r ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 25 == r ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 58 == r ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 112 == r ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 189 == r ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 309 == r ? updateBucket(score_obj, "sessionDuration", "gteq308_514") : 515 == r ? updateBucket(score_obj, "sessionDuration", "gteq514_997") : r >= 998 && (updateBucket(score_obj, "sessionDuration", "gteq998"), clearInterval(o)), i.sessionDuration = r + "", /*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n                }\n\n            }, 1e3)\n\n\n        }\n\n        ////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_configurator_session_duration || 0\n            if (i && (19 >= i ? updateBucket(score_obj, "sessionDuration_config", "leq19") : 93 >= i ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93") : 244 >= i ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244") : 574 >= i ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574") : 575 >= i && updateBucket(score_obj, "sessionDuration_config", "gteq575")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration_config", "leq19") : 20 == r ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93") : 94 == r ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244") : 245 == r ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574") : r >= 575 && (updateBucket(score_obj, "sessionDuration_config", "gteq575"), clearInterval(o)), i.new_configurator_session_duration = r + "", /* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n                }\n\n            }, 1e3)\n        }\n\n        //////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n        function check_channel() {\n            var e = getParsedCookie("v_reco_data")\n\n            if (e.lastChannel && "other" != e.lastChannel) updateBucket(score_obj, "lastChannel", e.lastChannel)\n            else {\n                e.lastChannel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.lastChannel = "paid_search"\n                        break\n                    } if ("other" == e.lastChannel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n                }\n                updateBucket(score_obj, "lastChannel", e.lastChannel)\n            }\n            window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n        }\n\n\n        //////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n        function check_pageview_metrics() {\n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.uniquePVs || {})),\n                t = 0,\n                n = !0,\n                a = !0\n            var hostname = window.location.host\n            if (hostname.indexOf("www.") > -1)\n                hostname = hostname.replace("www.", "")\n            var pathURL = hostname + window.location.pathname\n            i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++\n            1 >= t ? updateBucket(score_obj, "uniquePV", "eq1") : 2 == t ? updateBucket(score_obj, "uniquePV", "eq2") : 3 >= t ? updateBucket(score_obj, "uniquePV", "eq3") : 4 >= t ? updateBucket(score_obj, "uniquePV", "eq4") : 6 >= t ? updateBucket(score_obj, "uniquePV", "g5_leq6") : t > 7 && (updateBucket(score_obj, "uniquePV", "gteq7"), t > 8 && (a = !1)), a && (e.uniquePVs = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n        }\n\n        //////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n        function check_configPV() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.configPV && "yes" == e.configPV) updateBucket(score_obj, "configPV", e.configPV)\n            else if (URL.indexOf("configure.bmw.be") > -1 || URL.indexOf("/konfigurator.html") > -1) {\n                e.configPV = "yes"\n                updateBucket(score_obj, "configPV", e.configPV)\n            } else {\n                e.configPV = "no"\n                updateBucket(score_obj, "configPV", e.configPV)\n            }\n            window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n        }\n\n        //////////////////////////////////////////////campaignPV////////////////////////////////////////////////////////////////\n        function check_campaignPV() {\n            var e = getParsedCookie("v_reco_data")\n            setTimeout(function() {\n                if (s.prop43 == \'showroom\') {\n                    var o = setInterval(function() {\n                        e.campaignPV = \'true\'\n                        updateBucket(score_obj, "campaignPV", e.campaignPV)\n                        clearInterval(o)\n                    }, 1000);\n                } else {\n                    e.campaignPV = "false"\n                    updateBucket(score_obj, "campaignPV", e.campaignPV)\n                }\n\n            }, 2500);\n\n        }\n\n        //////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n        function check_sessionDuration_SL() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data")\n                if (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'stocklocator_pat-prod\' || s.prop43 == \'new car stock locator\') {\n                    e.sessionDuration_SL = \'true\'\n                    updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n                } else {\n                    e.sessionDuration_SL = "false"\n                    updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n                }\n                window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n            }, 2500);\n        }\n\n\n        //////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n        function check_model_viewed() {\n            var e = getParsedCookie("v_reco_data"),\n                curentURL = window.location.href\n            if (curentURL.indexOf("/all-models/") > -1) {\n                var t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\n                if (t > 1) {\n                    e.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\n                    1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t ? updateBucket(score_obj, "modelVisited", "g1_leq4") : t > 5 && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8), (e.modelVisited++, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n                } else {\n                    e.modelVisit = 1\n                    updateBucket(score_obj, "modelVisit", e.modelVisit)\n                    1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t ? updateBucket(score_obj, "modelVisited", "g1_leq4") : t > 5 && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8), (e.modelVisited, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n                }\n\n            }\n\n        }\n\n        //////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n        function check_user_visit_number() {\n            var e = getParsedCookie("v_reco_data"),\n                t = _satellite.getVar(\'AT-numSessions\')\n            1 == t ? updateBucket(score_obj, "UV_number", "eq1") : 2 == t ? updateBucket(score_obj, "UV_number", "eq2") : 4 >= t ? updateBucket(score_obj, "UV_number", "g3_leq4") : 8 >= t ? updateBucket(score_obj, "UV_number", "g5_leq8") : 21 >= t ? updateBucket(score_obj, "UV_number", "g9_leq21") : t > 22 && (updateBucket(score_obj, "UV_number", "gteq22"), t > 22), e.UV_number = t, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\n        }\n\n\n        //////////////////////////////////////////////distinctPage_CV////////////////////////////////////////////////////////////////////////// \n        function check_distinctPage_CV() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data"),\n                    i = JSON.parse(JSON.stringify(e.distinctPage_CV || {})),\n                    t = 0,\n                    n = !0,\n                    a = !0\n                var category = s.prop43\n\n                if (category != \'\') {\n                    i[category] ? i[category] += 1 : i[category] = 1\n\n                    for (var h in i) t++\n                    1 >= t ? updateBucket(score_obj, "distinctPage_CV", "leq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV", "eq2") : 3 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq3") : 4 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq4") : 5 >= t ? updateBucket(score_obj, "distinctPage_CV", "gteq5") : t > 6 && (updateBucket(score_obj, "distinctPage_CV", "gteq5"), t > 6 && (a = !1)), a && (e.distinctPage_CV = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n                }\n\n            }, 2000);\n            updateBucket(score_obj, "finalScore", _satellite.getVar(\'final_newscore\'))\n        }\n\n        function scorefinal() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data")\n                e.scorefinal = _satellite.getVar(\'final_newscore\');\n                updateBucket(score_obj, "scorefinal", e.scorefinal)\n                window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n            }, 2500);\n        }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                n = {},\n                a = {},\n                b = {},\n                c = {},\n                d = {},\n                f = {},\n                h = {},\n                j = {},\n                k = {},\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-8.45108, 1)),\n\n                addDimension(i, "eq1", weight_value(0)),\n                addDimension(i, "eq2", weight_value(1.03115)),\n                addDimension(i, "eq3", weight_value(0.31654)),\n                addDimension(i, "eq4", weight_value(-0.17997)),\n                addDimension(i, "g4_leq6", weight_value(-0.47789)),\n                addDimension(i, "gteq7", weight_value(-0.52477)),\n\n                addDimension(o, "leq4", weight_value(0)),\n                addDimension(o, "g4_leq18", weight_value(2.44364)),\n                addDimension(o, "g18_leq24", weight_value(1.64676)),\n                addDimension(o, "g24_leq58", weight_value(2.72436)),\n                addDimension(o, "g58_leq111", weight_value(3.17357)),\n                addDimension(o, "gteq111_188", weight_value(3.47714)),\n                addDimension(o, "gteq188_308", weight_value(3.56107)),\n                addDimension(o, "gteq308_514", weight_value(3.56107)),\n                addDimension(o, "gteq514_997", weight_value(4.01808)),\n                addDimension(o, "gteq998", weight_value(4.04733)),\n\n                addDimension(r, "leq19", weight_value(0)),\n                addDimension(r, "g19_leq93", weight_value(-0.41774)),\n                addDimension(r, "g93_leq244", weight_value(-0.25163)),\n                addDimension(r, "g244_leq574", weight_value(0.2874)),\n                addDimension(r, "gteq575", weight_value(0.44108)),\n\n                addDimension(n, "mobile", weight_value(0.14626)),\n                addDimension(n, "misc", weight_value(0)),\n                addDimension(n, "tablet", weight_value(0)),\n                addDimension(n, "desktop", weight_value(0.65607)),\n                \n                addDimension(a, "paid_search", weight_value(1.01435)),\n                addDimension(a, "display", weight_value(0)),\n                addDimension(a, "other", weight_value(1.1207)),\n\n                addDimension(b, "eq0", weight_value(0.329901)),\n                addDimension(b, "eq1", weight_value(-0.95748)),\n                addDimension(b, "g1_leq4", weight_value(-1.23463)),\n                addDimension(b, "gtew5", weight_value(-1.33632)),\n\n                addDimension(c, "yes", weight_value(-2.42262)),\n                addDimension(c, "no", weight_value(0)),\n\n                addDimension(d, "true", weight_value(-0.83404)),\n                addDimension(d, "false", weight_value(0)),\n\n                addDimension(f, "true", weight_value(-1.04733)),\n                addDimension(f, "false", weight_value(0)),\n\n                addDimension(h, "leq1", weight_value(0)),\n                addDimension(h, "eq2", weight_value(1.75798)),\n                addDimension(h, "g3_leq4", weight_value(1.85683)),\n                addDimension(h, "g5_leq8", weight_value(2.02324)),\n                addDimension(h, "g9_leq21", weight_value(1.62735)),\n                addDimension(h, "gteq22", weight_value(1.85545)),\n\n                addDimension(j, "eq1", weight_value(0)),\n                addDimension(j, "eq2", weight_value(2.07225)),\n                addDimension(j, "eq3", weight_value(3.23174)),\n                addDimension(j, "eq4", weight_value(4.63607)),\n                addDimension(j, "gteq5", weight_value(7.0647)),\n\n                addDimension(k, "scorefinal", weight_value(0)),\n\n                addDimension(score_obj, "uniquePV", i),\n                addDimension(score_obj, "sessionDuration", o),\n                addDimension(score_obj, "sessionDuration_config", r),\n                addDimension(score_obj, "deviceType", n),\n                addDimension(score_obj, "lastChannel", a),\n                addDimension(score_obj, "modelVisit", b),\n                addDimension(score_obj, "configPV", c),\n                addDimension(score_obj, "campaignPV", d),\n                addDimension(score_obj, "sessionDuration_SL", f),\n                addDimension(score_obj, "UV_number", h),\n                addDimension(score_obj, "distinctPage_CV", j),\n                addDimension(score_obj, "scorefinal", k),\n                addDimension(score_obj, "intercept", s),\n\n                check_deviceType(),\n                check_pageview_metrics(),\n                check_channel(),\n                check_configurator_session_duration(),\n                check_session_duration(),\n                check_model_viewed(),\n                check_configPV(),\n                check_campaignPV(),\n                check_sessionDuration_SL(),\n                check_user_visit_number(),\n                check_distinctPage_CV(),\n                scorefinal(),\n\n                window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n                shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}', language: "javascript"
            }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RL4442f8f59df34bd5908b70789d0cbfed", name: "TPT - BE - AEM - Adform - Form Submission  - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "pageload_datalayer_ready" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/publicPools/success-pool/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC20e0c18f9c08439d91024fe84e8e0988-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa5ddd11cf5f24622a6d8ab5d8f90fca3", name: "TPT - HU - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1d7ee789800b4a76a6c573cf6043571d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2433afbf6fb453a90ce64a577265a60", name: "TPT - ZA - AEM - GTagDC - google_site_tag_ZA_TestDriveSubmit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "google_site_tag_ZA_TestDriveSubmit" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00179a2619af4765b689885782375eaf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa798753daf8743e28d376fd19f4cafc4", name: "TPT - PL - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d3708db832c4209a2f8a380073cdb19-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7f1fb2ffe18e4d428c40747d83ef5fba", name: "TPT - SE - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3d16459912f84b5b93cde145f157e3ab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL69d7e132221c4cbb86d00cbcb1607c83", name: "TPT - NZ - AEM - TradeDesk - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3be700e6b09f4686a41180c5b522c6e4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcc5a19ac9db848ccbaba61c9b5d40fa6", name: "TPT - SG - AEM - Adform - PML Online Shop - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC53a3d86086e6432eb77ad2e02fbb5243-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3a7d89ef55034b7d92febcd22412f415", name: "TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4ad025805582421e8619875b60117da9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC65fea852679944a982d34ac47e65fc96-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa1a5aa91c41840cbbd0ad61794e06ac6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC321f34ac3bd84d39aa027360aebb6056-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6b0a9e97afe6421e96e02619399bdc2e", name: "TPT - CZ - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8e284d79986b44ea9056fcd5bceca023-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ef8dda95dc141d9a583c6f5ac90b4ab", name: "TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2cfd6b8a1649460daf67132098a5502f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL722420e6cb6d49f8bbfb14ec70b7b0ff", name: "TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: "a", elementProperties: [{ name: "title", value: "Salgskampanjer", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/topics/produkt-tilbud/firmabil.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb65d2fa5cf794a99a9841311d4c9a09d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL230426f5e7ea47b7b68fd3718c7bbaa8", name: "ACDL GROUP - ALL - AEM - ADPT - TRON connector", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event" }, ruleOrder: 30 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd23bf4b793ec4b468c5885f53f3dce28-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL8f9444214da1481ca012fa2d10c2b4dc", name: "TPT - FR - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3009894960cc4a0b9b1316f9e471cb65-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL4185cce333c24b9894bd6710786900d1", name: "TPT - CZ - AEM - AdWords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{
            modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcdf54345377f4bc3a0420c4f2b98cd5a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL6c8d698d9fad49a09a62b229d003eee6", name: "TPT - NL - AEM - Adwords - Download Brochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC16ac8d5e51f04ad2ada0816df441935b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL870dfbc586824041b7210fb4ff6233eb", name: "TPT - ZA - AEM - Adform - Buy Now Btn - EBR -p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://buy.bmw.co.za", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en/topics/fascination-bmw/buy-bmw.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9161629fc5b747f2803ac3ffe0242605-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4d6d75b39bd940059d865dfd24bd9255", name: "TPT - UK - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9632440177fe430d919601d5891fe8e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL384357c35a4442cbb6e729dbff610a7c", name: "TPT - SG - AEM - Adform - Download catalogue - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Download catalogue", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfe86dd35a9a54a02af98c90e14133773-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL062f5ede8a9442648f55dfd8a4f87d26", name: "TPT - BE - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC991007eaf02e4986b062cfbf07f27836-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL27c3f2444303469ab7b8498190a1dea4", name: "TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_accessory-configurator_interaction" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeea25904ff5b4054900f149d093504b1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL374b7632ba61442abb46cb2b141f1064", name: "TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { return "button expand" == this.className } catch (e) { _satellite.logger.error("TPT - AT Custom condition floodlight - retriggering", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe0796aa6a0f04a7b9115fe1e6c6ee0b1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL35668255613c49c6af9dc6c4920474d0", name: "TPT - RU - AEM - Netrox - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc35b2181bc3c4758a652854580f7caa2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeaa5c4985fa046b9aff14822a7a06588", name: "TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC06593abaf15e42898dac8ecbb77f981b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL90467af656594221bdac51a7ba74f064", name: "TPT - ID - AEM - Adwords - Contact Email Button - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="contact.id@bmw.co.id"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC23b00dba429041ee88eeed1111414bad-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa51eef5ed2cd4ab3abc785740070a5ec", name: "TPT - RU - AEM - Avito - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { return document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html") > -1 } catch (e) { return _satellite.logger.log("TPT RU Avito" + e), !1 } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbce4dc85e57a4551bed6630d09f4d11d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdf9005e82e034f7ebdbc43ba22638a24", name: "TPT - BE - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6a8663a4697044c08badfb5c716dc2cd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85d31a27894b4897b83c8e03bd69e700", name: "TPT - BG - AEM - Adform - SignIn/SignUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC27f20c3aa6d44ea7a2a49fabbba500b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb74680c2fb284ca6a2945cd84c00f0ee", name: "TPT - SI - AEM - Facebook - Download - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4984c21316e74fd3964d65f1ad93d832-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf1dad42196eb4b759572495812848422", name: "TPT - AU - AEM - MathTag - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC870aac4270aa4b3bbaec1c7bd2b1cb41-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7c82fa5921ec48f29eb584c3da9dc70b", name: "TPT - FR - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0420a3b3b02b484d8f3ab40d75286ec0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL54bd4dcf866946449f1ac0b7d30cb132", name: "TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde6718e141b94e1989b16a0ab40c9db1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL105ffddd7c404b8b9de977eb5af10ed7", name: "TPT - NL - AEM - Facebook - localform - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfde3c5519cfe452d9737e1154d8e62a5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL45397dcae270439eb5b821ff8c5a2d93", name: "TPT - BE - AEM - GTagDC - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4d895e18ed504d2aafa2a07bc043ef93-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc502802882db4340b8166f12c809739e", name: "ACDL GROUP - ALL - AEM - ADPT - STAGE X connector", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "aem page loaded" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa564c16650a54f57acbd79abee6af9bc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLf3fc94aa03014e2b8966ca3c0d7f5724", name: "TPT - PT - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6886dd2f825e446bb198ee9c57d147d7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL30746a2246a643d9a3e6d7fb5752b48d", name: "TPT - PL - AEM - Facebook - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd6e87b2338dc45fe8737f8222b93bc31-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3eef6c06331245499d5927dce96b78e0", name: "TPT - AT - AEM - Facebook - All pages automotive model ads - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCab2b3e9d6b92477fa116235431748d7f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL747e5a5ff1cc46349221d7093c4bb522", name: "TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC30ba175eba3848cbbf1c3107f8860e45-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8c9c2da276a0415d986975786f0a6a89-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf9d61e654bb74143adb1e582009f43ad", name: "TPT - LU - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe84866c00d5b47a6acb3f7188fad6c07-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbc3168709bb94d0aa955ea8ce55fbbfb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f3413895cb9411f8fc921d3c32267c0", name: "TPT - CZ - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/cs/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3a75c30aa5484159a1a50e75ba355877-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL258401bd1bde4fed96efda31571c83aa", name: "TPT - CZ - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb0245f71138544919d04f6fdb7a32466-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL38c01ec5b7ef409d99397218ab9333fd", name: "TPT - LU - AEM - GTagDC - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa7f126713256441cb40853b64cf64f7b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC37accf1cedfb45b095ceafd3bda694b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL45b6eea31a37459a884faff836768102", name: "TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4479af2fc4084999afeced05d222799f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5e14d76313574b90ae184da034a5c919", name: "TPT - IE - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/rfo-success-page.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8055777f4e0d4f6096303573ab72c85c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL080118dd11074b8da0e36ce7272690c8", name: "TPT - NL - AEM - Adwords - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9aa5e6a8ad984765a63005b42d69759f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2d6c4f1a43d84b3293e662829219d189", name: "TPT - ZA - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC82078d190cbe46c38b6b31e0f883d974-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdfafaa95556440da8447acef653d52bc", name: "TPT - LU - AEM - gTagDC - RFO Form View - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa284ad80e6de4c969644e3c53015a775-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0df7d7c6a5054a9aa7dc05c4526d58bc", name: "TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbb7a23b6406e41c782dc6b351f40a03f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9fcac382791b4f3bb4541d8b7662a539", name: "ACDL GROUP - DE,FR,IT,UK,RU - ANY - DLP - 0100 - set page.context", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 100 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcd1018272c6343f7b0079f43d4a49196-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RLa00723fcd4004e8e8c7885f28450716a", name: "TPT - FR - AEM - Adform - DCS Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5717b840fa343bf8b6c137326bc69cc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe91e8804f8a949d494392408c8c90969", name: "TPT - RO - AEM - DoubleClick - iFrame RFO Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC62caf43eef4e4074b8c86518890a56e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe6f999db891446caa48831ff643a3e6a", name: "ACDL GROUP - DE - ANY - DLP - 0060 - tools setup", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1273dea1701b467fbe82c3c2e51aae0c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5955bfd4cc9c474cbc9da6b813270c76", name: "TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".phone>.tw-font-bmw-light.tw-text-grey-900", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de" }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/neuwagen-onlinekauf.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3a0d4ca8d89847cb9eff53ebcfdd1fa8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL89f481773368495c8ecb76ce80eb05c7", name: "TPT - SE - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3c4def27ad1b465eaccf46f0f334b5e2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf1084fe0b65a4eb7a775fa9a3b10b2f7", name: "TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a6a11458c204336ad004d8647205f0f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd4bef131bfad4cf6a2e3260cf15426a8", name: "TPT - DE - AEM - Linkedin - Forms Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63ce37be55e84cebb15c84eac6b737b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1975dcf124864a54bf8e451eaff02d1d", name: " TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/fastlane/dealer-locator.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC88ac8ea3281b4bcdac65c49f7e47a2ca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf763da6d4e444cd39fcdab795343ae24", name: "TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9b4684c8ea50434f8f4c2e8eafb4499a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL52d2b96a9296422e99d5a5db7a978555", name: "TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0518e16adf5849ea9023a4778d7c9603-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL2565f04506d24589b11efa1651bfd3ec", name: "TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]", events: [{
            modulePath: "core/src/lib/events/customCode.js", settings: {
                source: function (e) {
                    new Promise((function (t, s) {
                        var a = !1; (window.consentcontroller && window.consentcontroller.api || window).addEventListener("consentcontroller.api.initialized", (function () {
                            a = !0, console.log("epaas promise is resolved"),
                            document.getElementsByTagName("epaas-consent-drawer-shell").length || window.epaas.api.showDisclaimer() ? (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.drawerhidden", (() => { t(!0), e() })) : (t(!0), e())
                        })), setTimeout((function () { a || s() }), 5e3)
                    })).catch((function () { console.log("epaas promise is rejected") }))
                }
            }, ruleOrder: 50
        }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it$", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "PSYMA" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9d9294ce3b8b428788ce92c82f040e5b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL2b3496eb897d4d06bd05b870077a7e4f", name: "TPT - RO - AEM - Facebook - Configuration Land - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/ro_RO/configurator", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC79b55a49932a49f7b5eeee3b1028e56c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLae9013ab1fd7460792af4fb834017b7f", name: "TPT - PL - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC272935ed97144dac81ddac431cae33b4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL69b21d7471184a2f8eff585b75830774", name: "TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcc23e091eddb429d9067754b32c85747-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL59ead16f72a3456492202226926fbc45", name: "TPT - FI - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2c4ca40e053c436f9c232e17734cedf1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2fbc9d54d62b4a009605a51bded45364", name: "TPT - BG - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCac360cf780cf496f9dcd109b4831cc8b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8628000da2be4a8b81c767ae065a8bd8", name: "TPT - PT - AEM - Facebook - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf0ab66591a234708a857299ec65451ec-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4e39843111f54f968a9e9ef771b30af7", name: "TPT - BE - AEM - Facebook - RFI - Form Success - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9cd2e5b4030d43a7b8591ecaba564a0b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f83c688f98043bc843cbe4ed47e3f4c", name: "TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "NO-SURVEY" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i) ? "MOBILE" : "DESKTOP", t = _satellite.getVar("topLevelDomain").split("."), s = t[t.length - 1].toUpperCase(); "UK" == s && (s = "GB"), "COM" == s && (s = "DE"); var a = { DE: { buttonCode: { DESKTOP: "717a962d4119", MOBILE: "f1b470d22f7a" }, NPS: { DESKTOP: "2be734de4b9d", MOBILE: "b98ad465df21" }, CES: { DESKTOP: "6aa30e439095", MOBILE: "b2a59b55f7e5" }, random: { NPS: 12, CES: 0, Psyma: 50, Other: 38 } }, GB: { buttonCode: { DESKTOP: "344487c265ed", MOBILE: "20bbdbc71ef3" }, NPS: { DESKTOP: "9f455d2a3f1c", MOBILE: "59c2f57087a8" }, CES: { DESKTOP: "d8e35ac4209c", MOBILE: "b435abb11ac3" }, random: { NPS: 20, CES: 0, Psyma: 60, Other: 20 } }, FR: { buttonCode: { DESKTOP: "3bf8867012f2", MOBILE: "951604100fda" }, NPS: { DESKTOP: "53a5a4717277", MOBILE: "142a6bc45942" }, CES: { DESKTOP: "4d3f63b653fb", MOBILE: "aeaa7d432539" }, random: { NPS: 80, CES: 0, Psyma: 0, Other: 20 } }, KR: { buttonCode: { DESKTOP: "4583de3025fe", MOBILE: "51af9d4cb9c0" }, NPS: { DESKTOP: "10ff397b6d5f", MOBILE: "95decc55e2ef" }, CES: { DESKTOP: "635e47f55055", MOBILE: "93d523f3d22d" }, random: { NPS: 25, CES: 0, Psyma: 0, Other: 75 } } }; return null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]) ? (npsValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]), npsValue = npsValue.split("/"), noNPS = "T" != npsValue[0]) : noNPS = !0, null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]) ? (cesValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]), cesValue = cesValue.split("/"), noCES = "T" != cesValue[0]) : noCES = !0, noNPS && noCES } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("snapshotDL").get("page.pageInfo.pageName"), t = _satellite.getVar("topLevelDomain"); return !("all-models" != e && "nsc > all-models" != e && "konfigurator" != e && "nsc > konfigurator" != e && "configurateur" != e && "nsc > configurateur" != e && "configurator" != e && "nsc > configurator" != e && "all-models-con-entry" != e && "nsc > all-models-con-entry" != e || "bmw.de" != t && "bmw.co.uk" != t && "bmw.fr" != t && "bmw.co.kr" != t || (console.log("condition fulfilled"), 0)) } catch (e) { var s = { from: "TPT", type: "Rule", name: "TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF" }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd68be26378f9419c9f07c168611f502b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf43b75b5c1b149e28f00fd5dd0a13e8f", name: "TPT - PL - NSC - AA - preconfiguration interstitial page", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { try { return window.location.href.indexOf("icp=pl_precon-entry") > -1 } catch (s) { var t = { from: "Condition", type: "PLR", name: e.$rule.name }; _satellite.logger.error(s, t) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2d3bc1b5a08b4a149ea1ff1e11f48144-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5adeaaa0237e470b8a8512800c84ccb0", name: "TPT - SG - AEM - Adform - Price list Download - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC70870e8b177a4c638baa88852f619855-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6b2d793ca6f34df8b42c8290a10f98c7", name: "TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c22d116b21944ea97aabd8d89eafecf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL747caa9ec180486b9ea9e6477f1f0cde", name: "TPT - PL - AEM - Adform - adobe form - DCR - p15r[c] copy 3", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC29342caf20714fbfbfc0066aa1ed3af9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe28ae82ee9fb40fdb338a3692c65c6b3", name: "TPT - PL - AEM - GTagDC - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC509ded482b7d4960a9dfccda838c1c28-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbec6097d4b29439fa11d8f055b19196e", name: "TPT - IT - AEM - Floodlight - Form Tracking - TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC74c60bc703de4455a5bde12598f2c6f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2333f398f4d64461bcf1086b1e768eea", name: "ACDL GROUP - ALL - ANY - DLP - 0010 - geoRegion+language", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 10 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC66ae051c46ab4fe8b6ea19d91d4dc6f2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa98a5b4f55504e30bf830bb9ed4d7bbb", name: "TPT - FI - AEM - Adform - Site Search - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC818c65fe930049a5b8f61d7ecf656088-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL70485b5b90d54fcd8ddc006ef2e26e90", name: "TPT - JP - AEM - YDN - All Pages - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9a584c2f88f44ef3b892382087751ad2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf81de344d1c14a21ac82a7589e6ac7dc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf06b1f061fd94d7baeeae7b82daf3375", name: "TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR", events: [{ modulePath: "core/src/lib/events/submit.js", settings: { elementSelector: "INPUT", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc34d60a353294e68a39151e87d207828-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ca97fde8807418c82925459cf15ec3d", name: "TPT - NL - AEM - Facebook - iFrame - RFO Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7ff6f860d05f4ec8b00e14cb60d08545-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d33b6e604164faf90a1a37f84b2a3a5", name: "TPT - HU - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2a2b5411c3f74965899b454dd2599725-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5dcbefc4e8314e1a9b97396ec4282f3f", name: "TPT - NL - AEM - Gtag DC/AW - iFrame - RFO Forms - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCee85fb7548934b34b656d02b14e380e4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL40e4a4302c6f4583972a95408a4ce939", name: "TPT - LU - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6a653a3ea5124003907b49ae3dca9185-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf94cea383c3d46028860a21d691aab1d", name: "TPT - NL - AEM - Gtag DC/AW - RFI - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/nl/specials/prijslijst-brochure.html", valueIsRegex: !0 }, { value: "/nl/ssl/aanvraag/brochure-prijslijst.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC10ca9b1996b446c7b376d9fd18d43911-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL55ee85657a994f82a23bfa755ca0083d", name: "ACDL GROUP - ALL - ANY - DLP - 0010 - global start", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 10 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c8b8a5b38244c7ba6870e86af291d26-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf6ece4609f174f2cb079253b911d1a2e", name: "TPT - SK - AEM - Facebook - Form Submission - RFI - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9542e18c1bec4aefbf1def4cc5ddc9fa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLef3bc733141944b69fb1cd4511225874", name: "TPT - AR - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.ar", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c3b447765ca4bdea1c4f914a358e63c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5453a2fc51b943588a9ac1243e6d84b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc815d86e043443a3ac1e3af2989ccb07", name: "TPT - DE - AEM - Webchat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/forms/angebotsanfrage/angebot-anfordern.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/shop/dcs/", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea3638f2f4cf40dfbc1b3f24bb75dab1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6749a59e93aa48df8d5c8f72e167ccb3", name: "TPT - SG - AEM - Adform - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC51533f83fe184cb590124617412c39c0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe7a5129168b401ea238e864e4d5398c", name: "TPT - AT - AEM - AdWords - Start Video - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd68f044896334937b27eff9e6c586390-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa847a5b0c9ad492ab0d59cae1cdf2d92", name: "TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8ca9b9cefa7c4a0198405962904cdfaf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4e3e820cc3154e6daee7f3f5abed4cd0", name: "TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26aa684681ad49b89797c1a35170d01d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2ae529db889f46149fb5c7bdf1e26960", name: "TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC441857acc9f3435594b8de9e68a382ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL95e54ca622424832985f3ca3beb0f05c", name: "TPT - AT - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9abf18afd2594e2fbc7b192cd739a1a6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5c92ce9b4e7e4b4499e81dc554bd0618", name: "TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de$", valueIsRegex: !0 }, { value: "m14.bmw-int1.com" }, { value: "m156.bmw-int.+.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0cab76a0743a4412abb0d5edd1c406b8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLacb15710b4b04388827bc65f9846b992", name: "TPT - NL - AEM - Bing - iFrame NSF Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_nsf" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa2d8b4a1c4864ab8bfe41672fe7aa5b8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0648820221c64f4d87ae48b32095951c", name: "TPT - NL - AEM - Adwords - TDA Button Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/nl/ssl/aanvraag/proefritaanvraag.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8d7895a70d38417092fc4d7a09a97c62-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL32e327e4756b4921abf231347a6937ae", name: "TPT - NL - AEM - Adwords - Form Navigation Submit Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { console.log("Reading Message - Executed"); var s = JSON.parse(t.data), a = s.args[1]; console.log("Reading Message - DataArg" + s), console.log("Reading Message - DataArg" + a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC10d7f74fedea452f9f834278730491b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8ba751035589473eaada0ace0849053c", name: "TPT - SI - AEM - Adform - BrochureDownload - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe562f499b4bc40fa8eec9d1d58000ac1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL40e8440a957040c897ba9e8205ad2b65", name: "TPT - AT- AEM - Adform - Start Video - SCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa23d031a982d46108fa8757a39baf355-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLe2bbe2837e6c4e6981e906caa59919a3", name: "TPT - BG - AEM - Facebook - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }],
        conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8af1276c8c3848bc92ddbd46d33daaca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL9d51890702524dc8a0441445d49d1f65", name: "TPT - CZ - AEM - DoubleClick - Configurator History Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0 } catch (e) { _satellite.logger.error("TPT - CZ - DBM Tag Configurator Steps err \n", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfa5f7cecda1144c1af5beaf14fa964f7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1f6f6ba5dfa54c11b2745078a0b7fbcc", name: "TPT - NL - AEM - Adform - Multiple Page - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC735d9b87e6d74c5294c3ff5de8aac5b4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd4e6446e9551476c8b266b4c1027d612", name: "TPT - RO - AEM - Adwords - Site search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/ro/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC48571ff55032407da0f089f1587b247c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc31fa111fac14cf3a36802ec607314d1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa84776ae08bb42bca2589854608d6100", name: "TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/brochure-download.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC434d96c6bec045e183dc2720c1e89f22-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbd90204999ec40989d51cf5188a7bb40-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLea35b54b02b24cc6bbe3a79cc6555f8a", name: "TPT - SE - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4cf5c28efa58414fa16e0cc42ab7a055-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ee8791743dd4498bd2b312f71800ffb", name: "TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "NO-SURVEY" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9d5e6f8668a640a28761c513b27676f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc26f2f6096344ef5a355ef49ce8293ea", name: "TPT - FI - AEM - Adform - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfdad6e181fad49649506b14098f0149e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd7dedcdd4da946a2ad9949ed388a81ab", name: "TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf1b91d1018b3413ba0ff35a370bf9f86-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcc85752e7c86492486a26d2c1abe7a08", name: "TPT - SK - AEM - GtagDC - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc58499c863d6460195dd48d4ad93ff65-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf71afbced9f649218b4f9adf309eb383", name: "TPT - BG - AEM - Facebook - Form Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe18757747e324c2db81c850ac118bbfc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9b1f91a24ad848e3a617ca0be0116c5e", name: "TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div#action-bar div:nth-child(1) > div > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div#custom-dealer-container a.location__detail-website", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 500, elementSelector: "a", elementProperties: [{ name: "title", value: "Book a service" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("URLNoParam"); "www.bmw.co.uk/en/all-models" == e ? _satellite.setVar("ruleType", "floodlight_price_list_item") : "www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html" == e ? _satellite.setVar("ruleType", "floodlight_dealer_confirmation") : "www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html" == e && _satellite.setVar("ruleType", "floodlight_find_your_bmw") } catch (e) { _satellite.logger.error("TPT FloodLight UK", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc85ab4d16d4943e0a608203aa1bc7c00-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ec1f5d588d0483cb22e47cb84d06353", name: "TPT - MY - AEM - Facebook meta - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0da4d86beabc414c8a673ef0efe973ff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5d2492180471445590c2875c30b5a1a7", name: "TPT - MX - AEM - Adwords - Multiple - PLR -p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCed2d6d7d12b547269be2df451796c367-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe8993346efc74d10814a9fae3bbef40e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdd3a0da2d40540f2b69a7914704cbcb9", name: "TPT - FR - AEM - Adform - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5b47035f3514f71b6c500c1968d9aa4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5cf42233180e4b1b808a9e482abfa495", name: "TPT - TH - AEM - Web Chat Bot - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4341419f7acb408ea1a12a8e45a2df98-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLded04724948a46768c62a5f3ded27532", name: "TPT - BE - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC43869d17285d4ec2bf987b7216253f0b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9e00efa6964f401bbd963abe198194c8", name: "TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NO" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/topics/offers-and-services/bmw-tilbehor.html", valueIsRegex: !0 }, { value: "/no/topics/produkt-tilbud/firmabil.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9ef6ea7e41574779864eef0f294db350-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa6aa6b5f9a954711af858785327f8ae7", name: "TPT - BE - AEM - Adform - Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC888fd4e436734fce927f9f2912c4e55c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL49ec2d62c838433e82029744f5c96da8", name: "TPT - UK - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3adbcf6766ee4ac59ab416af62b933d5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4f2f9f28d4444cb6add97de614bfe263", name: "TPT - DK - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7fabdebb52744b299d354e6a206e8c5d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc70fc6d1be5149f5994b15a9b4e6ce2f", name: "TPT - ZA - AEM - Facebook meta - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe428cfd1ddff41bf8a00443d1836f438-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2da8fe2dc8b14ae1a312e67e5b8f44af", name: "TPT - RO - AEM - Yahoo - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9bc006c131b640fbac67d637a7d49e64-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ee9e4a790ea40c989cd5b4ff3dea5a8", name: "TPT - SK - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC54d087febe1e496b94ff92f4f99675ba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5386c13749f24e3cb7e39e469f66dee2", name: "TPT - IE - AEM - Floodlight - Open Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbb48b0ce815243eeb7ce757e93f7f69e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1f8963407da54b8b844d60b15ab8a0fa", name: "TPT - BG - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbe2fed158f5f4187ab3ea940613e864b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2c17f155cbb346109aa8f2b8ea96d930", name: "TPT - SI - AEM - Adform - SignIn - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdbd8511979c34e7398a2e5f4d66616f0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL95bc37492fb649d090aef87722733ac0", name: "TPT - ES - AEM - Adform - All Pages - PLR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7dcaa0e2bbcc4cedb74e54044621b3ba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6bcb75cb9fd9476cb630e15c0acdb16c", name: "TPT - SI - AEM - Adfrom - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf6872e5ecf174e1ca9321dba057dd7fa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcb88f1e5b53048e8bd6e225616be7155", name: "TPT - CZ - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08448ef49fc8487aba673f3c6e75de56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLee8fe5ffdb0a425dab4f56b70f53d87d", name: "TPT - CZ - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb8be231bd18f4b2db1e5a6af6514d640-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb01757d816144600a75d61f60171bfe3", name: "TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "body > div.successpagerfidownload__base > form > div > div > ul > li > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92d72180842e44608d6c398dbc91a0b0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc6b5d4efc1da42b0bf81003cdda63121", name: "ACDL GROUP - ALL - ANY - DLP - 0060 - performance and scroll data", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa8a36edc79414543a2d7330b6173b7e0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe37533abf04f424c955a5084b0e89717", name: "TPT - ES - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2ec554691cf74aa3b81ab24dbc713b60-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9892369a932e41daa1b6f7017fcd9143", name: "TPT - UK - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdcca4416bee7490ab509396520d4cefb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d5f457451364d159537356f232336af", name: "TPT - NL - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5a40a5b757d94a54ac9467da77537530-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf6557db57cbc43bcba490cb084a31f97", name: "TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdfb38513c5a84f27bc5450a45d94dd98-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL963dfec676a0477a9c1b35fb6534887e", name: "TPT - SG - AEM - LinkedIn - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9214771fa324454ba019ea8876f21863-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ea351e961dd4ca995b710c8abef641a", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_settle" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbc1396f59cbc4d0ba6cbd21cb1d894f5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe6d2aa1a4f5d480ba8d692792a13c8ce", name: "TPT - HU - AEM - Adform - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9ae1926c24ac4df989c80517c05cf41a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbd1de2c7eb8844f78ff0e13c91764131", name: "TPT - NO - AEM - Adform - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC73766465bcc44e57abdfb941b4e8b64d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e60c339d09d4d1f86a77c92b14f1386", name: "TPT - FI - AEM - Adform - Brochure Download - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9c5462055cf3424784d673c3d0540e44-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL1011087f444c466c99ad2b695bc6766e", name: "ACDL GROUP - ALL - AEM - INIT - Som+Mapper+Condition etc", events: [{
            modulePath: "core/src/lib/events/customCode.js", settings: {
                source: function (e) {
                    adobeDataLayer.util = new class { constructor() { this.Cache = class { constructor() { this.cache = {} } get(e) { return this.cache[e] } set(e, t) { void 0 !== this.get(e) && turbine.logger.log('Overwriting cache["' + e + '"]'), this.cache[e] = t } remove(e) { return delete this.cache[e] } } } getFirstFunctionWithValue(e, t) { for (let s of e) try { const e = s.apply(this, [t]); if (void 0 !== e && (!t || !t.isValid || t.isValid(e))) return e } catch (e) { } } getFirstFunctionWithNonZeroValue(e, t = {}) { return adobeDataLayer.util.getFirstFunctionWithValue(e, t.isValid ? t : Object.assign(t, { isValid: e => !!e })) } getLegacyTrackingAPI() { return this.getFirstFunctionWithNonZeroValue([() => "function" == typeof digital.tracking.getLastFrame && digital.tracking, () => digital.tracking.getInstance(window.dataLayer), () => digital.tracking.lib, () => digitals2.tracking.api, () => digital.tracking.api]) } getLegacyTrackingPage() { return this.getFirstFunctionWithNonZeroValue([() => digital.tracking.getLastFrame(), () => { const e = window.digitals2 || window.digital, t = e.tracking.getInstance ? e.tracking.getInstance(window.dataLayer) : e.tracking.lib || e.tracking.api; return t.getPageObject(t.getCurrentPageIndex()) }, () => mnm.mnmnsc.page.currentPage.getTrackingService().getDigitalData(), () => dataLayer.pages[dataLayer.activePageIndex]], { isValid: e => Object.entries(e).length }) } }, adobeDataLayer.util.cache = new adobeDataLayer.util.Cache, _satellite.getVar("KIT-helpers") || _satellite.setVar("KIT-helpers", adobeDataLayer.util), adobeDataLayer.bounceTimer = { getPromise: function () { return this.promise || (this.promise = new Promise(((e, t) => { const a = "bmwdtm_hq_sid", o = 2e4; if (epaas.api.getPersistence(a)) t(); else if (epaas.api.setPersistence(a, Math.random()) || epaas.api.registerOnUserConsentChange(a, (e => "GIVEN" === e && epaas.api.setPersistence(a, Math.random()))), setTimeout(function () { this.hasQueued ? t() : e() }.bind(this), o), this.callCounter = 0, window.s) { let e; s.registerPostTrackCallback(function (s) { e !== s && (e = s, ++this.callCounter > 1 && t()) }.bind(this)) } else console.log("could not install registerPostTrackCallback") })), this.promise.then((() => { console.log("bounceTimerPromise fullfilled"), adobeDataLayer.push({ event: "tron event", eventInfo: { effect: "bounce timer", eventName: "bounce timer" } }) })).catch((() => { console.log("bounceTimerPromise not fullfilled") }))), this.promise } }, adobeDataLayer.eventPromises = {
                        onConsent: function (e = "AdobeAnalytics") {
                            return new Promise((t => {
                                (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.initialized", (() => {
                                    epaas.api.isUsageAllowed(e) ? (_satellite.logger.info("WDPTA: resolving ePaaS AA directly"), t()) : epaas.api.registerOnUserConsentChange(e, (() => { _satellite.logger.info("WDPTA: resolving ePaaS AA on change"), t() }))
                                }))
                            }))
                        }, onWait: function (e, t, s = [], a) { const o = "function" == typeof t ? t : () => t; return Array.isArray(s) || (s = "function" == typeof s ? [s] : []), new Promise(((t, n) => { const r = i => { if (i <= 0) a ? t() : n(); else { for (let e = 0; e < s.length; e++) { let a; try { a = s[e](t, n) } catch (e) { } if ("function" == typeof a) return !!a() } setTimeout((() => r(i - 1)), o(e - i)) } }; r(e) })) }, triggerOnAll: function (e, t) { Promise.all(t).then(e, (() => !1)) }, triggerOnAny: function (e, t) { Promise.any(t).then(e, (() => !1)) }
                    }, e()
                }
            }, ruleOrder: -100
        }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdecd22394c5b4677a196ed6df06fdd99-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC38c9941bcf2240ae89934363ad6c6ff0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d1dae4d467c4739b6766fe54caa0651-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC87e675193b6e45eca3e74bf98d50cb87-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }]
    }, { id: "RL64f19547323e427186f8787ab12c6ca4", name: "TPT - BE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (void 0 === _satellite.getVar("triggeredCall")) return !0 } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1f9c3bc368d946f4aaf0ad224a789223-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL747d6a50a47c4716868038ee3ee134c1", name: "TPT - IT - AEM - Floodlight - Make Appointment - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC094e3953ca6442079babfcd5223a2a2f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL97ed2273106c4fdda8fde16d5a43ae62", name: "TPT - BR - AEM - DoubleClick - Packages and Services - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-icon", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "Veja mais informa\xe7\xf5es" === this.innerHTML } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf4f85acc82fc48b99d9affbb5fc6ca05-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8326804c92684507af721e19287313e2", name: "TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5a99a9c4b68f47a0a7c2b26bffdcae52-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd21525073a7742cc8178c0f15d0db572", name: "TPT - SI - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8aa952246a53492fa998a161b160536e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9eef5ce2003d4226a333060c544303c4", name: "TPT - IT - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC986c5c8fc0914acb90596781baebad63-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL67bb476983254bcd882726bd395732e0", name: "TPT - DE - AEM - Adform - All Page - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 2e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 2e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf19dece9471947078d580b2acbde9e79-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 2e3, delayNext: !0 }] }, { id: "RL5ad86555ea614c7e894006c87a783d14", name: "All Pages \u2013 AAM \u2013 hasheducid - onelogin", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "customerData", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7b69c64d359043789dc95ddf381f3644-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL612471327b6549dfbae6dd9a7b7bce9b", name: "DCR - All - AA - TRON - Event", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tron_event" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.destinationURL", window.location.href), o = _satellite.getVar("smartPreviousValueManager"), n = new Date, r = n.getHours() <= 9 ? "0" + n.getHours() : n.getHours(), i = n.getMinutes() <= 9 ? "0" + n.getMinutes() : n.getMinutes(), c = n.getSeconds() <= 9 ? "0" + n.getSeconds() : n.getSeconds(), d = n.getUTCHours() <= 9 ? "0" + n.getUTCHours() : n.getUTCHours(), l = n.getUTCMinutes() <= 9 ? "0" + n.getUTCMinutes() : n.getUTCMinutes(), u = n.getUTCSeconds() <= 9 ? "0" + n.getUTCSeconds() : n.getUTCSeconds(), m = _satellite.getVar("searchDefaultProduct"); if (t.referrer = s.get("page.pageInfo.referringURL"), t.pageType = "error" == s.get("page.category.pageType") ? "errorPage" : s.get("page.category.pageType"), t.pageName = s.get("page.pageInfo.pageName"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop2 = s.get("page.category.pageType"), t.prop3 = s.get("page.category.primaryCategory"), t.prop4 = s.get("page.category.subCategory1"), t.prop5 = s.get("page.category.subCategory2"), t.prop13 = s.get("page.attributes.brand"), t.prop27 = s.get("page.pageInfo.pageID"), t.prop28 = s.get("page.pageInfo.variant"), t.prop29 = s.get("page.pageInfo.version"), t.prop30 = s.get("page.category.subCategory3"), t.prop46 = s.get("component.attributes.componentDevAgency", s.get("component.-1.attributes.componentDevAgency", s.get("page.pageInfo.author"))), t.eVar7 = s.get("page.pageInfo.language"), t.eVar8 = s.get("page.pageInfo.geoRegion"), t.eVar18 = s.get("page.pageInfo.pageTitle", document.title), t.eVar135 = s.get("page.pageInfo.sysEnv"), t.prop19 = s.get("component.componentInfo.componentName", s.get("component.-1.componentInfo.componentName")), t.prop41 = s.get("component.category.componentType", s.get("component.-1.category.componentType")), t.prop42 = s.get("component.category.primaryCategory", s.get("component.-1.category.primaryCategory")), t.prop43 = s.get("component.category.subCategory1", s.get("component.-1.category.subCategory1")), t.prop44 = s.get("component.componentInfo.componentID", s.get("component.-1.componentInfo.componentID")), t.prop45 = s.get("component.attributes.componentVersion", s.get("component.-1.attributes.componentVersion")), t.eVar134 = s.get("component.attributes.touchpoint", s.get("component.-1.attributes.touchpoint")), t.prop51 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.prop52 = s.get("event.eventInfo.cause", s.get("event.-1.eventInfo.cause")), t.prop53 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.prop54 = s.get("event.category.primaryCategory", s.get("event.-1.category.primaryCategory")), t.prop55 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")), t.prop56 = s.get("event.eventInfo.eventName", s.get("event.-1.eventInfo.eventName")), t.prop57 = s.get("event.eventInfo.eventAction", s.get("event.-1.eventInfo.eventAction")), t.eVar9 = s.get("event.attributes.iframeURL", s.get("event.-1.attributes.iframeURL")), t.eVar34 = s.get("event.eventInfo.effect", s.get("event.-1.eventInfo.effect")), t.eVar71 = s.get("event.eventInfo.attributes.requestedURL", s.get("event.-1.eventInfo.attributes.requestedURL")), t.eVar35 = s.get("dealer.dealerInfo.dealerOutletBuno", s.get("dealer.-1.dealerInfo.dealerOutletBuno")), t.eVar39 = s.get("dealer.dealerInfo.dealerOutletName", s.get("dealer.-1.dealerInfo.dealerOutletName")), t.eVar40 = s.get("dealer.dealerInfo.dealerOutletID", s.get("dealer.-1.dealerInfo.dealerOutletID")), t.eVar41 = s.get("dealer.dealerInfo.dealerGroupName", s.get("dealer.-1.dealerInfo.dealerGroupName")), t.eVar42 = s.get("dealer.dealerInfo.dealerGroupID", s.get("dealer.-1.dealerInfo.dealerGroupID")), t.eVar43 = s.get("dealer.attributes.selectionState", s.get("dealer.-1.attributes.selectionState")), t.prop40 = s.get("user.profile.attributes.loggedInStatus", s.get("user.-1.profile.-1.attributes.loggedInStatus")), t.eVar15 = s.get("user.profile.profileInfo.type", s.get("user.-1.profile.-1.profileInfo.type")), t.eVar16 = "object" == typeof s.get("user.segment", s.get("user.-1.segment")) ? "datalayer field empty" : s.get("user.segment", s.get("user.-1.segment")), "object" == typeof t.eVar16 && (t.eVar16 = "datalayer field empty"), t.eVar17 = s.get("user.profile.profileInfo.profileID", s.get("user.-1.profile.-1.profileInfo.profileID")), t.eVar19 = s.get("user.profile.address.stateProvince", s.get("user.-1.profile.-1.address.stateProvince")), t.eVar20 = s.get("user.profile.address.country", s.get("user.-1.profile.-1.address.country")), t.eVar21 = s.get("user.profile.profileInfo.language", s.get("user.-1.profile.-1.profileInfo.language")), t.eVar136 = s.get("version"), t.eVar120 = s.get("cart.cartID"), t.eVar122 = s.get("cart.price.currency") || s.get("transaction.total.currency"), t.eVar123 = s.get("transaction.attributes.paymentMethod"), t.eVar125 = s.get("transaction.transactionID"), t.server = location.host, t.prop14 = d + ":" + l + ":" + u, t.prop15 = r + ":" + i + ":" + c, t.prop31 = o.get("pagePrimaryCategory"), t.prop32 = o.get("pageSubCategory01"), t.prop33 = o.get("pageName"), t.prop47 = t._ppvHighestPercentViewed, t.prop48 = t._ppvFoldsAvailable, t.prop49 = t._ppvFoldsSeen, t.prop50 = "page title", t.prop60 = _satellite.getVar("AA-consentMetaData")("drawer"), t.prop61 = _satellite.getVar("AA-consentMetaData")("identities"), t.prop62 = _satellite.getVar("AA-consentMetaData")("settings"), t.prop63 = _satellite.getVar("AA-consentMetaData")("defaults"), t.prop64 = _satellite.getVar("AA-consentMetaData")("consents"), t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? "landscape" : "portrait", t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.campaign = _satellite.getVar("campaign"), t.eVar4 = a, a.length > 255 && (t.eVar5 = a.substring(255, a.length)), t.eVar6 = document.referrer.split("/")[2], t.eVar11 = window.location.hash.split("?")[0].split("#")[1], t.eVar12 = window.location.protocol + "//" + window.location.host + window.location.pathname, t.eVar13 = window.location.hash ? window.location.hash.split("?")[1] : window.location.search.slice(1), t.eVar14 = o.get("url"), t.eVar28 = o.get("componentSubcategory1"), t.eVar29 = o.get("pathName"), t.eVar61 = t.eVar62 = t.campaign, t.eVar63 = _satellite.getVar("AA-InternalcampaignParameter"), t.eVar64 = _satellite.getVar("AA-SearchAds360Parameter"), t.eVar132 = window.navigator.userAgent, t.eVar137 = "AEM6", t.eVar161 = "datalayer field missing", t.eVar162 = "datalayer field missing", t.eVar171 = t.Util.getQueryParam("cid"), t.eVar172 = t.Util.getQueryParam("bid"), o.update("pageSubCategory01", t.prop4), o.update("pagePrimaryCategory", t.prop19), o.update("url", t.eVar4), o.update("jcrPath", window.location.pathname), o.update("pathName", t.eVar12), o.update("pageName", t.prop1), o.update("componentSubcategory1", t.prop43), void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var b = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(b), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event971=" + json_data.timeServer, ",", 1), t.events = t.apl(t.events, "event972=" + json_data.timeServerReact, ",", 1), void 0 !== json_data.lcp && (t.events = t.apl(t.events, "event973=" + json_data.lcp, ",", 1)), t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.events = t.apl(t.events, "event975=" + json_data.timePageReady, ",", 1), void 0 !== json_data.fid && (t.events = t.apl(t.events, "event968=" + json_data.fid, ",", 1)), void 0 !== json_data.cls && (t.events = t.apl(t.events, "event969=" + json_data.cls, ",", 1), t.events = t.apl(t.events, "event967=" + json_data.clsTotal, ",", 1)), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash"), void 0 !== json_data.fidHTML && (t.eVar67 = json_data.fidHTML), void 0 !== json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML)), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } var p = s.get("event.eventInfo.eventPoints", s.get("event.-1.eventInfo.eventPoints", "0")); if (t.events = t.apl(t.events, "event970=" + p), s.get("event.eventInfo.eventName", s.get("event.-1.eventInfo.eventName")).indexOf("form") > -1) { t.prop6 = s.get("page.category.primaryCategory"), t.prop7 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")); var g = s.get("event.eventInfo.effect", s.get("event.-1.eventInfo.effect")); g.indexOf(">") > -1 ? t.prop8 = g.split(">")[1].trim() : t.prop8 = g, t.prop9 = s.get("event.attributes.form.stepAmounts", s.get("event.-1.attributes.form.stepAmounts")), t.prop10 = s.get("event.attributes.form.formVariant", s.get("event.-1.attributes.form.formVariant")), t.prop11 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.prop16 = s.get("event.attributes.form.stepName", s.get("event.-1.attributes.form.stepName")), t.prop17 = s.get("event.attributes.form.rfxID", s.get("event.-1.attributes.form.rfxID")), t.prop18 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.linkTrackVars = t.apl(t.linkTrackVars, "prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18", ",") } var f = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")); "video" != f && "audio" != f || (t.prop36 = s.get("event.category.subCategory1", s.get("event.-1.category.subCategory1")), t.prop36 = t.prop36.indexOf("%") > -1 ? t.prop36.slice(0, -1).split("_").slice(0, -1).join("_") : t.prop36, t.prop37 = s.get("event.category.subCategory2", s.get("event.-1.category.subCategory2")), t.prop38 = s.get("event.eventInfo.type", s.get("event.-1.eventInfo.type")), t.linkTrackVars = t.apl(t.linkTrackVars, "prop36,prop37,prop38", ",")); var v = s.get("event.attributes.search.unit", s.get("event.-1.attributes.search.unit")), h = s.get("event.attributes.search.state", s.get("event.-1.attributes.search.state")), P = s.get("event.attributes.search.label", s.get("event.-1.attributes.search.label")), j = s.get("event.attributes.search.term", s.get("event.-1.attributes.search.term")); "datalayer field missing" != j && "datalayer field empty" != j && (t.products += ",search;search;;;;" + m + "eVar30=" + v + "|eVar31=" + h + "|eVar32=" + P + "|eVar33=" + j), _satellite.getVar("setTronProductString")(t), _satellite.getVar("setTronEvent"), t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events, ","), t.linkTrackVars = t.apl(t.linkTrackVars, "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events", ",") } catch (t) { _satellite.logger.error(t, e.$rule.name) } } }, trackerProperties: {} }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkType: "o" }, timeout: 8e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4a5f8f4df88a4ae5978b2b0d4e883a53", name: "TPT - AU - AEM - DoubleClick - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc7274b6fe1664220810e6a0b8da93124-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeb220f839d0f4b02b9d98e5a8fd3291f", name: "TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1c7e34f4492145658e97c16d464ae74d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa7d92eaae71b461f8ba00bc80e096daf", name: "TPT - ZA - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1f147089b0c34125a612fc4ada4dd784-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL94c822e337cd49bea2fee515ae1d1496", name: "TPT - JP - AEM - Usabilla NPS 3.5 version - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "NO-SURVEY" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.co.jp" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i) ? "MOBILE" : "DESKTOP", t = _satellite.getVar("topLevelDomain").split("."), s = t[t.length - 1].toUpperCase(), a = { JP: { buttonCode: { DESKTOP: "92977586f250", MOBILE: "d84bdb2f1964" }, NPS: { DESKTOP: "85a49479c91e", MOBILE: "101f944c997e" }, CES: { DESKTOP: "7552071ac07b", MOBILE: "f25819ad1a04" }, random: { NPS: 20, CES: 0, Psyma: 56, Other: 24 } } }; return null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]) ? (npsValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].NPS[e]), npsValue = npsValue.split("/"), noNPS = "T" != npsValue[0]) : noNPS = !0, null != localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]) ? (cesValue = localStorage.getItem("usbl." + a[s].buttonCode[e] + ".c." + a[s].CES[e]), cesValue = cesValue.split("/"), noCES = "T" != cesValue[0]) : noCES = !0, noNPS && noCES } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5432e9521304a71b3ff6cea30bc913e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0007e6c13b9b41e8a45fe0c09693821d", name: "HT - ALL - NSC - AA - ActivityMap for link and region", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 100 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { var t = _satellite.getVar("KIT-helpers").privacyManager, s = (_satellite.getVar("consentMap"), { GIVEN: "GIVEN", REVOKED: "REVOKED", UNKNOWN: "UNKNOWN" }), a = function () { var a = _satellite.getVar("consentMap"); t.registerOnConsentChange(a.AdobeAnalytics, (function (t) { t === s.GIVEN && e() })) }, o = function () { var a = { ANALYTICS: "advertising" }; t.registerOnConsentChange((function (t, o) { o === a.ANALYTICS && t === s.GIVEN && e() })) }; t.type === t.ENUM_TYPE.EPAAS_SPLIT ? a() : t.type === t.ENUM_TYPE.EPAAS_NON_SPLIT && o() } catch (e) { } } }, ruleOrder: 30 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: 'try {\n    function removeParam(stringValue) {\n        var key = ["vin", "token"];\n        for (var i in key) {\n            if (stringValue.indexOf(key[i]) > -1) {\n                stringValue = stringValue.split(key[i])[0];\n            }\n        }\n        return stringValue;\n    }\n\n    _satellite.logger.log("ActivityMap: Initialized"), s.ActivityMap.superLink = s.ActivityMap.superLink || s.ActivityMap.link, s.ActivityMap.link = function (t, e) {\n        if ("false" === _satellite.getVar("isAdobeAnalyticsAllowed")) return !1;\n        if (typeof t != "object") {\n            return !1;\n        }\n        if (e) return _satellite.logger.log("ActivityMap: linkID from linkName:" + e), e;\n        var i = "";\n        if (!t) {\n            t = "";\n        }\n        try {\n            if (t && (i = t.getAttribute("data-tracking-linkid") || t.getAttribute("data-name") || (t.getAttribute("href") && t.innerText ? t.innerText.replace(/[:>\\s\\/\\n]+/g, " ").trim() + ":" + t.getAttribute("href") : null)) || (i = this.superLink(t, e)), i) i = i.toLowerCase().replace(/[\\s\\/\\n]/g, " "), _satellite.logger.log("ActivityMap: Custom linkID: " + i);\n            if (i) {\n                i = removeParam(i);\n            }\n        } catch (g) {\n            _satellite.logger.error(g);\n            i = "";\n        }\n        return i\n    }, s.ActivityMap.superRegion = s.ActivityMap.superRegion || s.ActivityMap.region, s.ActivityMap.region = function (t) {\n        if (typeof t != "object") {\n            return !1;\n        }\n        var e;\n        try {\n            _satellite.logger.log("ActivityMap: getting RegionID");\n            for (var i = t; i && (i = i.parentNode);) {\n                console.log(\'hhh first ae\',i.getAttribute("data-tracking-regionid"))\n                //var a = (i.getAttribute("data-component-name") ? (i.getAttribute("data-component-name") || "") : i.getAttribute("data-component-path") ? ((i.getAttribute("data-component-path").match(/components\\/([^\\/]*)/i) && i.getAttribute("data-component-path").match(/components\\/([^\\/]*)/i).pop()) || "") : "") + ":" + (i.getAttribute("data-tracking-regionid") ? (i.getAttribute("data-tracking-regionid") || "") : "") || i.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();\n                var a = (i.getAttribute("data-tracking-regionid") ? (i.getAttribute("data-tracking-regionid") || "") : "") || i.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();\n                if (a == ":" || a == "") {\n                    _satellite.logger.log("hhh first a ->",a)\n                    a = "";\n                }\n                if (a && ":" !== a && (e = a + (e ? ">" + e : "")), "BODY" == i.nodeName) {\n                    e != undefined && e.match(/^(HEADER|MAIN|FOOTER)/i) || (e = "main" + (e ? ">" + e : ""));\n                    _satellite.logger.log("hhh first e ->",e)\n                    break\n                }\n            }\n        } catch (r) {\n            (console.error || console.log).call(console, r.stack || r)\n        }\n        if (e) {\n            e = removeParam(e);\n        }\n        e = e ? (e || "").toLowerCase().replace(/[\\s\\/\\n]/g, " ") : this.superRegion(t)\n        var aa = e.split(">").length;var ff = e.split(">")[aa-1];\n        return e = ff,console.log("final value",e),e\n        /*return e = e ? (e || "").toLowerCase().replace(/[\\s\\/\\n]/g, " ") : this.superRegion(t), _satellite.logger.log("ActivityMap: Custom regionID: " + e), e */\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "PLR",\n        type: "ActivityMap",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}', language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85871a1433db41d8aeb993de2ca4cd7f", name: "TPT - IT - AEM - Adform - SignIn - SingUp - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb9adfe2fe51e4b80bbddecda6710a089-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9e41fbd66ca74812a7901ad556a47169", name: "TPT - SI - AEM - GtagDC - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea2a652474a74f30af05dec2f9c39737-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL58d1e5ed3c474eb5bd73fb283c7c452b", name: "TPT - GR - AEM - GtagDC - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC40f62c50120248caa9c1f6a638fc3931-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f210a2ff23d47409bca1a3d2186ec4e", name: "TPT - GR - AEM - Facebook - Configuration Land - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/el_GR/configure", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce5a666a4bbe4189b1c2468bb1a78300-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2228570e45054e48a3e670a476d3b973", name: "TPT - DE - FORMS - Adform - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/de/publicPools/success-pool/success-page-rfi.business-forms.html" }] }, negate: !0, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5e6de84d63f84050942da5136ebf2d70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, {
        id: "RLe92dab3fb4ea46b895f500900f489bde", name: "TPT - ID - AEM - Facebook - Contact Email Button - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="contact.id@bmw.co.id"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: {
                source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1b6cb3231f2e407898de1a95521a4e48-source.min.js", language: "javascript", isExternal: !0
            }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RL9935fbddf8254a48baa9379f593fa960", name: "TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC66f19e480f6e4407a40b1bb869dbd421-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe5b9444c1aab468a80500881bda27d22", name: "TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f1e0f3a8e274244b0f08479b8f801bf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL329a44415870463d93995871431d5acf", name: "TPT - ES - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3260cbd849ff43bca2ebe1045583517a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9ddadd2175a4baaad74156316b4d7f9", name: "TPT - PL - AEM - AdWords - TDA - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event", elementProperties: [{ name: "title", value: "TDA" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2bafa4eeac25494e85ae02a5abc707bb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL854fb06dc82142b0bfddbcc11932bb85", name: "TPT - DE - AEM - Criteo - Multiple - PLR - p15r[l]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "pageview-cleansed" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "TPT page view" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 2e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb26ea36e5c77489faa85554f59a0281e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 2e3, delayNext: !0 }] }, { id: "RLd4a2b63b653143c7bd339146467010c3", name: "TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC53f076911b9b4692be9238454314ee36-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4fd0f04c0fb84ef7945dd1d8920d175f", name: "TPT - PT - AEM - Adform - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc32e097e671149e5975ddf1eb1c528db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9b90b96d5291464eb07fb9c31c16a164", name: "TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa20e5723ab6c46d49b808291363046db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8b5b56a14e564eec82b0315219c8a8b6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf1b8943f7e5448369886674c8a3f107a", name: "TPT - NL - AEM - Facebook - iFrame ROI Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0eba52dc3e6643828e562611a9f9a8b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9918a7be4509412bbed1286492c4ec27", name: "TPT - PL - AEM - AdWords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC22808f3c6afb4534a2292be622a55f56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf821a99bf1f34504b48767071b3e8250", name: "TPT - CZ - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4b55a27326ba4008ab0060d8e27c342c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb29333b10a59461d85811ed263ff5492", name: "ACDL GROUP - DE,UK - ANY - DLP - 0060 - hashed visitor ID", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC875cf5ba2d1f4836970857e2cebf944d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd956775ab58c4c2c9a3c1ec41bd89326", name: "TPT - BG - AEM - Adwords - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe9daac9a173e476eada4a6485af6b925-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc6d71e37bb924a7d93bf134fadc22ecf", name: "TPT - LU - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "pageload_datalayer_ready" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/forms/rfi/catalog.de.html#/" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0e11c4744de64e1daf711e3bfb8ef32a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL770cd3fdc9b5453a9b4cd3e6e2de661e", name: "TPT - HU - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC619e085b39d34d6ba66384df4592048a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL294a6a27930c46739b0f3f6a080a4f84", name: "TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC98ea600a74c748c3bf60408aaa82f6b6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC33c81a7e26474506bceeb41d9a443fd6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ff416a49ebf4784a0e03a66668041df", name: "TPT - MY - AEM - DoubleClick - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC86f685707bd3449dbb4b22324c5a1095-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e7b3a7473ba40678955212495407302", name: "TPT - RO - AEM - Facebook - Site Search - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc298702872e344309d7913f3a2d9daba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9a938bc2ee574a3782fb189161e0a9ab", name: "TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d84c58a6f864359819610b2cec82517-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4af6e053e5a44138bfc98f686ddf0423", name: "PLR - ZA - AEM - Custom Code - Campaign String to Cookie", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var t = _satellite.getVar("consentMap"); return "true" == ("true" == _satellite.getVar("splitConsentEnabled") ? consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString() : _satellite.getVar("isRegulationAccepted_Tags")) } catch (t) { _satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie" + e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC17f5c0e974ab48139357ec40fb2a742d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa726ea5c6801401995b82dfca0c73279", name: "TPT - GR - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8bb8daee2b77460289884c68155c3c63-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5d9eed09eb0b42dfaf0360f0c47f81c2", name: "TPT - AT - AEM - FacebookChat - All Pages  - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc4d1040fcc13476bb69af7e4b069256b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLddede304c21b465a9313f25ab3d9f929", name: "TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa80b14a914374f8aa46d5a572519e0ce-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf17cee082d3e45a39aec0b52072926bf", name: "TPT - HU - AEM - Facebook - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/hu/fastlane/dealer-locator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC120dd7ce06404268b993e2591659f967-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL177d3d9e5c4a43fabe969ad9aa5dadd6", name: "TPT - JP - AEM - Adform - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw.co.jp/ja/topics/service-and-accessory/accessories/catalog/downloads.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC65b51f39b8bb499da5644c334bdd11ea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL409f435e864f45fa88bbfb5ae487fd6e", name: "TPT - SE - AEM - Live Chat - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "(avdelning\\/tj%C3%A4nster\\/finansiera|finansiering$)", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9dea6ab56a654615ac18c17604ae7e6c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL882b0f73d1a449e7a4bff492c98ccad2", name: "TPT - JP - AEM - Facebook - All Pages - PLR -p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0f6f395161ea4f2e819840c430b0759f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb7215dc5c9c74478a247cd42c55afba6", name: "TPT - DE - AEM - Adform - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63ceb9ccd3184b56b2a6d5479d846c33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa0b10cb5363846138e8a94e43680c271", name: "TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC49ee8e2773f14247ad54a95bdcc7646f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaede4a649048462fbdd58688abba8c3e", name: "TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a13496635d24f95b2fa6bd286906d18-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc5a8232e31cb4e749e9d336590cf4b19", name: "TPT - LU - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0293b3de8b70480780571d4ad8cfe04f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9d4a066125d64e74b88cb1b0402545b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4bfb90ff77d5450cb1013608f8deceee", name: "TPT - AT - AEM - Pinterest - All Pages  - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbfc097c2b21a4b0caf69632f276f72b0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfbc500abdf0d4a1881654f751aca3644", name: "TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcce6eb5810cd4fb78894e743b94f627c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0e2d081b2c4e4a8287bf303f8fa6a97a", name: "TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[title=dlo]", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5d4faba3696d4e309640e58193b1429f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3046f8b6745d417b9d14c2d4fc488717", name: "TPT - FR - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2ec59697ce2d4850b80cfb8a7df4947f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL642889a18bdb4bf1b5b19c23d135efc4", name: "TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1815e39abdac4bf8a69e5319e0156b37-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7de772cac1014f5d95b559a95fc01606", name: "TPT - FR - AEM - GTagDC - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0845935fcf014436a198843c4beeb3db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9e455ea4dbc0426aa79de6ab4ddbff1e", name: "TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/autumn-winter-accessories.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbcc5058adfc24af79bfa3bcc47a19c2b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd0e79f2effa846c38120a120da1c21d6", name: "TPT - LU - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc0de228974a041feb64ba265e88b8254-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6e589d4767da44339ac0552b6e028178-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ac63733dbdc4191a6e620c801045ff7", name: "TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }, { value: "p152.bmw.com", valueIsRegex: !0 }, { value: "m152.bmw-int3.com", valueIsRegex: !0 }, { value: "m152.bmw-int1.com", valueIsRegex: !0 }, { value: "m152.bmw-int9.com", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC95768938d3a74a37bd034ddcd6f94d9a-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9d979074a5ab478aa7d98c2778652267", name: "TPT - SI - AEM - Facebook - Configuration Land - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/sl_SI/configure", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCefafede649814d04996d6703948b4a76-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL595a1ff41d404c399554d68f0219955d", name: "TPT - IT - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9f22d3ec004943f58cf95618943da3ef-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc3d64ca322d144a28ba2f1c590e2c760", name: "TPT - BE - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa5983b28c3b94b028aecdab6ef61e788-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf9456639d064417098502124f753604b", name: "TPT - ES - AEM - Adform - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb2fb4b3111ea4e7d9d38948e44cb48e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL46171ec2fc514db28e924e78ed1bd777", name: "TPT - FR - AEM - ContentSquare - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc12db0ae89924c0d9e8c0a2fe37c6bca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLcd8422bde8854f5dbe381e5764027e93", name: "ACDL GROUP - ALL - ANY - DLP - 0050 - previous value manager", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 50 }], conditions: [], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd3db7867e12247bf8e97d119e3b37522-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3,
            delayNext: !0
        }]
    }, { id: "RL3518b126f7d64392b8d1ef43e878a7c9", name: "TPT - NO - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4744ca39971f4adf8e8f8cf237f3eb94-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6a18ce01cb164bee8633caa6e821f35e", name: "TPT - NL - AEM - Adform - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5df20924421d4a74a8df32a2a51fdc0a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc77d551973ca4facad479b45d745be23", name: "TPT - DE - FORMS - Facebook - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf0b87cb87fb54be6b67f2932d0272700-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLd97d8acc84a643c0b38321101e85e489", name: "TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdb3226add3c64182be35ccdf909e80a9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL56a5554f90ce4ff1969dacb5b1e73808", name: "TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (void 0 === _satellite.getVar("triggeredCall")) return !0 } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0be4afb01ec141148d250044ec16fb38-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb21df80224ea4b8cb98acb7330df6bc8", name: "TPT - SK - AEM - Facebook - Configuration Land - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/sk_SK/konfigurator.html" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4014665efc4643e8aaa7c619aa5a87b4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL72dbcf2d7b554fbb8571906cc0f47542", name: "TPT - IN - AEM - Marketo - Multiple Pages - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try {\n\n    var pathname = window.location.pathname;\n\n    if (pathname == '/en/test-link.html' || pathname == '/en/all-models/x-series/x7-test/2018/test-link.html' ) {\n    (window.p15r = window.p15r || []).push({\n        processingId: 'AdobeMarketo',\n        action: 'register',\n        callback: function(pid, paramObj, cfg) {\n         (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n c[a].a=i;c[a].e=e;var g=h.createElement(\"script\");g.async=true;g.type=\"text/javascript\";\n g.src=f+'?aid='+i;var b=h.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(g,b);\n })(window,document,\"rtp\",\"//snrtp-cdn.marketo.com/rtp-api/v1/rtp.js\",\"bmwindiasandbox2\");\n \nrtp('send','view');\nrtp('get', 'campaign',true);\n        },\n        config: {\n            defCat: \"advertising\"\n        }\n    }, {\n        processingId: 'AdobeMarketo',\n        action: \"execute\"\n    })\n}\n} catch (err) {\n    _satellite.logger.error(\"TPT - IN - AEM - Adobe Marketo - All Pages - PLR - p15r[l]\", err);\n}", language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2fe08e7effb4001a831050324cbcbfb", name: "TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-dlo-search--button-container", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "Pesquisar" === $(".ds2-dlo-search--button-container button").text() } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC715d2f6b79f145edb7426d57173b1ab5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL05f709feded341489d887a5fdf26bcb2", name: "TPT - BE - AEM - GtagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4b9a24cbccd24722b2e44fe22003f220-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa3d40c8c1d1d459f9f5d795b5d3c5a5e", name: "ACDL GROUP - ALL - ANY - AA - 1000 - pageview-Cleansed", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "pageview-cleansed" }, ruleOrder: 1e3 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { t.clearVars(), e.message.eventInfo.tools = e.message.eventInfo.tools || {}, Object.assign(e.message.eventInfo.tools, { launch: { prop_rule: _satellite.property.name + "|" + e.$rule.name } }), adobeDataLayer.mapper.mapSatellite({ dataLayer: e.fullState, event: { event: e.message.event, eventInfo: e.message.eventInfo }, s: t }), t.isFromACDL = !0, t.t() } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34ce76fce9464d64881ddbbd21713b70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RL154feab434d245deb7c40828b6d0b29b", name: "TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd1646dd9b74b411d9afedc05d5922d8a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc10e67233f844010ace350aea3e19d19", name: "TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd377e47f97014c9a89fcf6d5d4e23963-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd0fa24e8dbb84d9a888c74895fda4f95", name: "TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCec18173617df447abd6edd3c5372178f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RL924d91a6902842ce959b55e1904a6d5f", name: "TPT - BG - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ecad60ceaec4422bddcef64b49f6928-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL63146e71ef9a4b85bf7165fe7b50ff30", name: "TPT - DK - AEM - Adform - BrochureDownload - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "pageload_datalayer_ready" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCabfe0c071a1f463da90b142040a6581c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa247fcb44f544707ab58c8441e999be0", name: "TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3c17d49a151342c6a3036b431e9a425d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdf4e7910c7d24e86926485949a6203c8", name: "TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_campaign" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0b0c4790cf444b758485d424815f10de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf7943a74e80a43a98dad377ef3958d2e", name: "TPT - MX - AEM - Applink - Multiple - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4ecfbcc9dbef46dfa04a6e79a458bd91-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1bab4a47247e48a685138c094690fe91", name: "TPT - AT - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2965f0997a374ea388a11cbcd32f6e66-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL04b40b79f05f4725ae478286d969e87b", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - prefixing", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7ae5df83218749e69ff910fba02d7aca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL903f9f095dda47e1afeed7fb2773ec58", name: "TPT - AT - AEM - Pinterest - iFrame TDA Submit - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea0a78567e8a4a13b141fad14e66c58b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL71be8dbe5fe14c199391d7f92c758670", name: "TPT - BE - AEM - Facebook - TDA/RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC76f5a9a5963142f0b14e47b0f847f9b3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL58225e881b234967b3b201b69b5d7ec6", name: "TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc182d4ddab4045b1b4be47b750756b62-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7390e0d1941b4338a002dccd4ee88753", name: "TPT - CH - AEM - GtagDC - RFO Stock Locator FormSubmit - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0b4e2676ddc44cbd85975c77373882bc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2dfee6bc47254ef487ec021193e480e1", name: "TPT - LU - AEM - DoubleClick - History Change Configurator Steps & Save Event - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0 } catch (e) { _satellite.logger.error("TPT - LU - Programmatic - History Change" + e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea5396fa3a4340a8b20e99063a0dbfdd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL48ad6aa4ae1645caa160a1bbb2d5e729", name: "TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7b3d90d2b0b24cfa945ace944bf3cf6a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9b66e90d28144615993ac0bdd13f0e35-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7ce70ddec3fa409bac6e95ee62634570", name: "TPT - PT - AEM - GTagDC - BMW Prime Subscription - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "Client-src-prime-subscription-components-DynamicTable-DynamicTable__button--1_GkB", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCffa4c470ca314b299f7aff36d2faaf7c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL78a7992b296b4b98a5c09bf2e57bb76f", name: "TPT - RO - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3dd3389d455747dda0674fa70fbb3448-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfceba132995048418f1890e37943e017", name: "TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa7553077089e4765bd9f76d580d2242c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc59a1d8622fe490baa3f6318c15bee74", name: "TPT - PL - AEM - Adwords - Adobe form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6ee1fab048094aa884a8328148f99a6d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf5087038d7dc4a20880f604b484def70", name: "TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC69621a260aba4d778550cf8371f65f84-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLff192bdae6b043f19316819e637c978b", name: "TPT - CZ - AEM - Adform - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC72c300b103584c6f8149fd512de81793-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcfba43dd53fd4e5a95468e243e09ca26", name: "TPT - IE - AEM - GTagDC - All Pages - PLR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC39929dafbd83494b8aaa121c2a271686-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe812a66bb89545e0bf4158d09fbe5b45", name: "TPT - PT - AEM - GTagDC - App Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-buttonlist--item.ds2-buttonlist--max-width > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pt/topics/offers-and-services/visao-geral-aplicacao-bmw.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3fe13ae4362542819ace083de38edf1e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa56a0b69ec2f4afc9d1080026460f5c3", name: "TPT - FI - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.FI", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC094b9fc73434474b8afcfea1488b1cdd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL48a5fd00e39548908fcdea9b6482e1f8", name: "TPT - NL - AEM - GTag_DC - iFrame_NSF_Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_nsf" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC652caa65ed8d491484cf4d2d827eebac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL66eebf6bb9054206961d244bbe4a2f73", name: "ACDL GROUP - ALL - ANY - DLP - 1000 - end data layer processing and push to ACDL", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 1e3 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC385aee39d63f45c6b338b5a3f3596aeb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLf2391149d1d4419e9f4156ecdb9a8f88", name: "TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/fastlane/dealer-locator.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC625907b65933402fb79de23ecd113463-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL66d003dd0e914096889eedbe1d796742", name: "TPT - ZA - AEM - Effectivemeasure - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb19aaa6c86c44f18bfe84d467c9e015e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4105dc32e3b64103969c49f310a48de3", name: "TPT - RO - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c07afef16d4456ba5886e1c20e1e658-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL305e7af661624eb48ba8d2eeccbbaa27", name: "TPT - FI - AEM - Adform - ConfigurationLand - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fi/rakenna-oma-bmw.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1fb47cfc41a4405698f14944b90f1316-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbc951568ddc544309f98a460643f6d70", name: "TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7b586775b75b480aaa215c64f3b585da-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7eeeb42570b841e3b40e34513ddf2bd9", name: "TPT - DE - AEM - ContentSquare - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc3a2bd5faa1044eeb1d3aa30e7215ffe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfbcb39c18bce439f9aae6faa2d920575-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL26555ce13da04ecbb17c478c6053e452", name: "TPT - NL - AEM - Facebook - Multiple Pages - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2b94aad357594a9a86ca0e4924351cf2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc1406d4d5c15473d98c3d0043b2166de", name: "TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6f9b56a240254a5191e4c48c4cfd3d07-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe7adc5145d9e4d1e8fa1d0d2b07a4f17", name: "TPT - BE - AEM - Facebook - RFI - FormView - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5057ecd351b14354aeef6a5743a3a5b1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLca4b71e1439a4f198eedeb3a0a96ccc4", name: "TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]", events: [{
            modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" },
            ruleOrder: 50
        }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdb9a8ab5d14a42ab828a2466047644de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLa18b8c399a65415dad4a81106f03d802", name: "TPT - BG - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf7ded76c1e22484b880a7383de09cf8a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9e2565a32f5740f89ec72c8c0207d140", name: "TPT - FI - AEM - DoubleClick - Open Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC752868f4122846a08c57a447c37184ca-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe561a6008b694978b672d4e08a8d957b", name: "PLR - All - AEM - AA - 3rd Party Event Listener", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { document.addEventListener("tracking: fs offer widget", (function (t) { t.detail && (_satellite.setVar("StockLocatorEvent", t.detail), e()) })), window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking:recall-search") > -1) { var s = JSON.parse(t.data); "tracking:recall-search" == s.methodName && (_satellite.setVar("StockLocatorEvent", s.detail), e()) } })) } catch (e) { _satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener", e) } } }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("StockLocatorEvent"); t.prop44 = s.component[0].componentInfo.componentID, t.prop19 = s.component[0].componentInfo.componentName, t.prop41 = s.component[0].category.componentType, t.prop42 = s.component[0].category.primaryCategory, t.prop43 = s.component[0].category.subCategory1, t.prop56 = s.event[0].eventInfo.eventName, t.prop57 = s.event[0].eventInfo.eventAction, t.prop58 = s.event[0].eventInfo.eventPoints, t.prop53 = s.event[0].eventInfo.type, t.prop12 = s.event[0].eventInfo.timeStamp, t.prop52 = s.event[0].eventInfo.cause, t.eVar34 = s.event[0].eventInfo.effect, "stock > sl > vehicle" === t.pageName && (t.pageName = "stock > vehicle"); var a = _satellite.getVar("setDefaultProductVariables"); void 0 !== s.custom.product && (a.id = s.custom.product[0].productInfo.productID, a.category = s.custom.product[0].category.productType, a.merchEvars.eVar53 = s.custom.product[0].category.primaryCategory, a.merchEvars.eVar54 = s.custom.product[0].category.subCategory1, a.merchEvars.eVar52 = s.custom.product[0].productInfo.productName, t.products += "," + a.toString()), t.linkTrackVars += "prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,products,pageName" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: { props: [{ name: "prop1", type: "value", value: "stock >  vehicle" }], pageName: "stock >  vehicle" } }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "3rd party component (3CT)", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }] }, { id: "RLb97b46153a3441639cec86720ddccf44", name: "DCR - All - AEM - AA - Bounce Timer", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "bounce_timer" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); if (_satellite.getVar("setDefaultVariables", e)(t), 0 != s.get("product").length) { for (var o in s.get("product")) if (!isNaN(+o)) { var n = s.get("product." + o + ".attributes.mmdr", s.get("product." + o + ".attributes.internalCode")), r = s.get("product." + o + ".attributes.mmdrVG", s.get("product." + o + ".attributes.internalCode")), i = s.get("product." + o + ".attributes.modelCode"); eVar10 = "G26E" == n || "G26E" == r || "71AW" == i || "31AW" == i ? "G26E" : "G70E" == n || "G70E" == r ? "G70E" : s.get("product." + o + ".attributes.mmdr", s.get("product." + o + ".attributes.internalCode")) } var c = _satellite.getVar("setDefaultProductVariables"); c.id = eVar10, c.category = "new vehicle", c.merchEvars.eVar52 = s.get("product.-1.attributes.modelName"), c.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), c.merchEvars.eVar10 = eVar10, c.merchEvars.eVar51 = s.get("product.-1.attributes.bodyType"), t.products = c.toString() } t.linkTrackVars = t.apl(t.linkTrackVars, "products,prop1"), t.events = t.apl(t.events, "event976"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event976"), t.eVar34 = "nsc > bounce timer", -1 == t.linkTrackVars.indexOf("eVar34") && (t.linkTrackVars += ",eVar34"); var d = _satellite.getVar("AA-componentDefaultValues"); "digital checkout solution" == s.get("page.category.primaryCategory") ? (t.prop1 = t.pageName = a, t.eVar34 = "sales > bounce timer", t.prop1 && t.prop1.indexOf("sales >") < 0 && (t.prop1 = t.pageName = "sales > " + t.prop1)) : d && "configurator all models" == d.componentName ? t.prop1 = t.pageName = "nsc > all-models-con-entry" : t.prop1 = t.pageName = a && -1 == a.indexOf("nsc >") ? "nsc > " + a : a, t.linkTrackVars = t.rfl(t.linkTrackVars, "campaign"), t.linkTrackVars = t.rfl(t.linkTrackVars, "eVar61"), t.linkTrackVars = t.rfl(t.linkTrackVars, "eVar62"), t.linkTrackVars = t.rfl(t.linkTrackVars, "eVar63"), t.linkTrackVars = t.rfl(t.linkTrackVars, "eVar64") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "bounce timer", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfa2270e58b574dfba7a9b2cdc0d6abb9", name: "TPT - BE - AEM - Facebook - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC416d32da0c614fa8a82b611e7e678485-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd896d1d5f86044f88fdf8a32bd7770b3", name: "TPT - BE - AEM - AdWords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5f785a27d4634fdd9dbc0a16070df174-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL27eb6c4feb4a4e99b361f51190d7c4ef", name: "DCR - All - AEM - AA - Central Forms", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "error" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="Cat\xe1logo Lifestyle"],a[title="Ver colecci\xf3n"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/Content/RoadAhead/BMWFS0190_Lessee_Privacy_Engsml_May-2021.pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.category.subCategory01"), o = s.get("page.category.subCategory02"), n = s.get("page.category.subCategory03"), r = s.get("page.pageInfo.pageName"), i = s.get("event.-1.eventInfo.eventName"), c = s.get("event.-1.eventInfo.eventAction"), d = s.get("page.attributes.accessoryID"), l = s.get("product.-1.productInfo.productID"), u = s.get("transaction.transactionID"), m = s.get("page.attributes.accessoryName", "generic"), b = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"); if ("small_teaser" == b || "multicontent" == b || "new_pre_configuration" == b || "offers" == b || "line_component" == b || "new_gallery" == b || "highlight" == b || "uxs-highlight" == b) return void (t.abort = "true"); function p() { t.prop1 = "nsc > " + r, t.prop42 = "nsc website", t.prop43 = "forms", t.prop19 = "central form", t.prop56 = "form", t.prop6 = "central form", t.eVar41 = s.get("page.attributes.dealerName"), t.eVar42 = s.get("page.attributes.dealerID"), t.eVar39 = s.get("page.attributes.outletName"), t.eVar40 = s.get("page.attributes.outletID"), t.eVar20 = s.get("user.-1.segment.userSelectedCountry"), t.eVar23 = s.get("user.-1.segment.userSelectedPreferredContactMethod"), t.eVar24 = s.get("user.-1.segment.userSelectedGender"), t.eVar25 = s.get("user.-1.segment.userSelectedYearofBirth"), t.eVar26 = s.get("user.-1.segment.userSelectedCurrentVehicle"), "Form Start" == r ? (t.eVar34 = "nsc > form started", t.prop8 = "form started") : "Form Success" == r ? (t.eVar34 = "nsc > form finished", t.prop8 = "form finished") : (t.eVar34 = -1 != r.indexOf("nsc >") ? r : "nsc > " + r, t.prop8 = r), t.prop53 = "central form", t.prop11 = t.prop54 = a.toUpperCase(), t.prop10 = "dedicated forms", t.prop16 = r, t.prop17 = u } t.events = "", _satellite.getVar("setDefaultVariables", e)(t); var g = s.get("product.-1.attributes.mmdr"); function f() { var e = _satellite.getVar("setDefaultProductVariables").merchEvars; return window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html") > -1 ? e.eVar53 = "new car" : e.eVar53 = s.get("product.-1.category.primaryCategory"), e.eVar52 = s.get("product.-1.productInfo.productName"), e.eVar60 = s.get("product.-1.productInfo.manufacturer"), e.eVar10 = g, e.eVar51 = s.get("product.-1.attributes.bodyType"), e.eVar50 = s.get("product.-1.attributes.serie"), e } function v(e) { switch (e) { case "Form Start": var o = { RFA: "event3,event4,event29,event30", RFS: "event3,event4,event69,event70", RFC: "event3,event4,event33,event34", TDA: "event3,event4,event85,event86", RFO: "event3,event4,event61,event62", RFI: "event3,event4,event45,event46,event53,event54", CR: "event3,event4,event97,event98", Registration: "event93,event94,event3,event4" }; t.events = t.apl(t.events, o[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, o[a]); break; case "Form Step": t.events = t.apl(t.events, "event7,event8"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event7,event8"); break; case "Form Success": var n = { RFA: "event15,event16,event31,event32", RFS: "event15,event16,event71,event72", RFC: "event15,event16,event35,event36", TDA: "event15,event16,event87,event88", RFO: "event15,event16,event63,event64", RFI: "event15,event16,event47,event48,event55,event56", CR: "event15,event16,event99,event100", Registration: "event95,event96,event15,event16" }; t.events = t.apl(t.events, n[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, n[a]); break; default: "Request" != s.get("page.category.primaryCategory") && "Requests" != s.get("page.category.primaryCategory") || "start page" != s.get("page.category.pageType") || "Error" == s.get("event.-1.eventInfo.eventAction") ? "Request" != s.get("page.category.primaryCategory") && "Requests" != s.get("page.category.primaryCategory") || "end page" != s.get("page.category.pageType") || (n = { RFA: "event15,event16,event31,event32", RFS: "event15,event16,event71,event72", RFC: "event15,event16,event35,event36", TDA: "event15,event16,event87,event88", RFO: "event15,event16,event63,event64", RFI: "event15,event16,event47,event48,event55,event56", CR: "event15,event16,event99,event100" }, t.prop8 = "form finished", t.events = t.apl(t.events, n[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, n[a])) : (o = { RFA: "event3,event4,event29,event30", RFS: "event3,event4,event69,event70", RFC: "event3,event4,event33,event34", TDA: "event3,event4,event85,event86", RFO: "event3,event4,event61,event62", RFI: "event3,event4,event45,event46,event53,event54", CR: "event3,event4,event97,event98" }, t.prop8 = "form started", t.events = t.apl(t.events, o[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, o[a])) } } if ("Form validation error" == i || "Error fallback page is shown" == i || "Back" == i || "Error fallback page" == r) { if (p(), t.prop56 = "error", t.prop52 = s.get("event.-1.eventInfo.cause"), t.eVar34 = -1 != i.indexOf("nsc >") ? i : "nsc > " + i, t.prop53 = "", t.prop8 = "", t.prop6 = "", t.prop11 = "", t.prop10 = "", t.prop16 = "", t.events = t.apl(t.events, "event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event931,event932"), "datalayer field missing" != l) { (x = _satellite.getVar("setDefaultProductVariables")).id = l, x.category = "vehicle"; var h = f(); x.merchEvars = h, t.products = x.toString() } "Error fallback page" == r ? t.prop56 = t.eVar34 = "" : "Back" == i && (t.prop56 = "interaction", t.prop53 = "ux", t.events = t.apl(t.events, "event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918")) } else switch (a) { case "Registration": case "CR": case "RFO": case "TDA": case "RFC": p(), "datalayer field missing" != l && ((x = _satellite.getVar("setDefaultProductVariables")).id = l, x.category = "service", (h = f()).eVar84 = s.get("product.-1.attributes.fin.downPayment"), h.eVar85 = s.get("product.-1.attributes.fin.mileage"), h.eVar86 = s.get("product.-1.attributes.fin.monthlyPayment"), h.eVar87 = s.get("product.-1.attributes.fin.term"), x.merchEvars = h, t.products = x.toString()), t.prop7 = "generic", v(r); break; case "RFS": p(), "datalayer field missing" != l && ((x = _satellite.getVar("setDefaultProductVariables")).id = l, x.category = "service", (h = f()).eVar84 = s.get("product.-1.attributes.fin.downPayment"), h.eVar85 = s.get("product.-1.attributes.fin.mileage"), h.eVar86 = s.get("product.-1.attributes.fin.monthlyPayment"), h.eVar87 = s.get("product.-1.attributes.fin.term"), x.merchEvars = h, t.products = x.toString()), t.prop7 = o + ">" + n == "datalayer field missing>datalayer field missing" ? "generic" : o + ">" + n, v(r); break; case "RFA": p(), "datalayer field missing" != d && ((x = _satellite.getVar("setDefaultProductVariables")).id = d, x.category = "after sales", h = f(), x.merchEvars = h, t.products = x.toString()), t.prop7 = m, v(r); break; case "RFI": p(), "datalayer field missing" != l && ((x = _satellite.getVar("setDefaultProductVariables")).id = l, x.category = "vehicle", h = f(), x.merchEvars = h, t.products = x.toString()), t.prop7 = "generic", v(r), "Download your brochure" != i && "Download" != c || (t.prop56 = "interaction", t.eVar34 = -1 != i.indexOf("nsc >") ? i : "nsc > " + i, t.prop53 = "ux", t.prop6 = "", t.prop11 = "", t.prop10 = "", t.prop8 = "", t.prop16 = "", t.prop7 = "", t.events = t.events.replace("event15,event16,event47,event48,event55,event56", ""), t.events = t.apl(t.events, "event917,event918,event903,event904"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event903,event904"), t.prop74 = "bmw .next - nsc|DCR - All - AEM - AA - Download") }"cr" != t.prop4 && "CR" != t.prop4 || (t.prop4 = "campaign"), "cr" != t.prop11 && "CR" != t.prop11 || (t.prop11 = "campaign", t.prop54 = "campaign"); try { var P = document.getElementById("formrfo").getAttribute("gcdm-lead-context"); if (-1 != P.indexOf("PREDOC-G26-BEVE-E") || -1 != P.indexOf("predoc-g26-beve-e")) { t.prop11 = "roi", t.prop7 = P; var j = s.get("product.-1.attributes.motorization", s.get("product.-1.attributes.engine")); if (j) { var C = /[0-9]{3}[a-z]{1}/i, y = /xdrive[0-9]{2}[a-z]{1}/i, w = /sdrive[0-9]{2}[a-z]{1}/i, R = j.match(C) || j.match(y) || j.match(w); j.indexOf("i3 (120 ah)") > -1 || j.indexOf("i3 (120ah)") > -1 || j.indexOf("i3 120ah") > -1 ? j = "i3 (120 ah)" : j.indexOf("i3s (120 ah)") > -1 || j.indexOf("i3s (120ah)") > -1 || j.indexOf("i3s 120ah") > -1 ? j = "i3s (120 ah)" : R && R.length && (j = R[0].toUpperCase()) } (x = _satellite.getVar("setDefaultProductVariables")).id = "g26", x.category = "vehicle", x.merchEvars.eVar10 = "G26", x.merchEvars.eVar56 = "e", x.merchEvars.eVar57 = "beve", x.merchEvars.eVar44 = s.get("product.-1.attributes.productionYear"), x.merchEvars.eVar45 = s.get("product.-1.attributes.yearOfRegistration"), x.merchEvars.eVar46 = s.get("product.-1.attributes.vehicleStatus", s.get("product.-1.attributes.vehicleSelection")), x.merchEvars.eVar47 = s.get("product.-1.productInfo.color", s.get("product.-1.attributes.color")), x.merchEvars.eVar48 = s.get("product.-1.attributes.modelCode"), x.merchEvars.eVar49 = s.get("product.-1.attributes.gearing"), x.merchEvars.eVar50 = s.get("product.-1.attributes.series"), x.merchEvars.eVar51 = s.get("product.-1.attributes.bodyType"), x.merchEvars.eVar52 = s.get("product.-1.productInfo.productName", s.get("product.-1.attributes.modelName")), x.merchEvars.eVar53 = "model_navigation_hp" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") || s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer") > -1 ? "new car" : s.get("product.-1.category.primaryCategory"), x.merchEvars.eVar54 = s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer") > -1 || "need analyzer" == s.get("page.pageInfo.pageTitle").toLowerCase() ? "build to order" : s.get("product.-1.category.subCategory1"), x.merchEvars.eVar55 = s.get("product.-1.category.subCategory2"), x.merchEvars.eVar58 = j, x.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), x.merchEvars.eVar65 = s.get("product.-1.attributes.modelName"), t.products = x.toString(), "form started" == t.prop8 ? (t.events = t.events.replace("event97,event98", ""), t.events = t.apl(t.events, "event73,event74"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event73,event74")) : "form finished" == t.prop8 && (t.events = t.events.replace("event99,event100", ""), t.events = t.apl(t.events, "event75,event76"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event75,event76")) } } catch (e) { _satellite.logger.error("css script error in Central Forms", e) } if (!t.products) { var x = _satellite.getVar("setDefaultProductVariables"); if (window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html") > -1) { var E = _satellite.getVar("setDefaultProductVariables").merchEvars; E.eVar53 = "new car", x.merchEvars = E } t.products = x.toString() } t.eVar125 = "", t.linkTrackVars += "events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1," } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%pa_cat_subCategory01%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc541eeb8e01c4668a12922ef238fda23", name: "TPT - PL - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c807d0b3ea249e8af6fc66239454646-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf43f9c2a2069422298406c1f4064bc45", name: "TPT - NO - AEM - Adform - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19aed5865867409ab01a50b157764857-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdddfe7909a12417aa686b62d64a265f0", name: "TPT - PT - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3d9b0be621e94d94ae0e7d33f4693da3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL017bb523dc02482fa02b9edcc7b34ccb", name: "TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4d3dbb43f12243e7afc5eddb27079c6e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3a8f3db3ac7645d6b6a54ed28401f04e", name: "ACDL GROUP - ALL -  ANY - DLP - 0020 - media mapping", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC45fa24fbce424900b274f0b9c5867d7b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RL682187cd44b645a1b6072b4a6aea2579", name: "TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC223dcccee6e34960b386e0328cd5595d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf5f963b92234409ea5e8e56bf2d678ce", name: "TPT - IE - AEM - Adform - Download Brochure - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[title='Brochure Download']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb9f89528f25b49f391406c36325cb0f5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL987dc149c6a0406ea272627a9378f3ed", name: "TPT - NL - AEM - GtagDC - Service Inclusive Form Completed - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCab0c31e64fab4e4da0e0bee10c8930a2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4259c30ab8e44dd68fc608f610954716", name: "TPT - IT - AEM - Content Square - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC998d3504677d4447b6befeb91709ec96-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL646119995d954c708ecb36a3c428c007", name: "TPT - DK - AEM - DoubleClick - Find BMW Accessories - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "bmw-efterar-vinter-tilbehor.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC872c64dfc40d472095a9508c641fa88a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc5eb32809a864706abc922ff53ce0db3", name: "DCR - All - AEM - AA - New All Models", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "internal_click" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("snapshotDL"); t.prop1 = t.pageName = s.get("page.pageInfo.pageName"), t.prop1.indexOf("nsc >") < 0 && (t.prop1 = "nsc > " + t.prop1); try { var a = _satellite.getVar("AA-componentDefaultValues"); a && "configurator all models" == a.componentName && (t.prop1 = "nsc > all-models-con-entry", t.pageName = "all-models-con-entry", t.prop2 = s.get("page.category.pageType", "page"), t.prop4 = s.get("page.category.subCategory01", "con entry"), t.prop3 = "models", t.prop28 = s.get("page.attributes.virtualPage")) } catch (e) { var o = { from: "AA", type: "Rule", name: "dcr - all - aem - aa - new all models" }; _satellite.logger.error(e, o) } if (t.eVar34 = s.get("event.-1.eventInfo.effect"), t.eVar34.indexOf("nsc >") < 0 && (t.eVar34 = "nsc > " + t.eVar34), t.products) t.products.indexOf("search") > -1 && (n = _satellite.getVar("setDefaultProductVariables"), t.products += n.toString()); else { var n = _satellite.getVar("setDefaultProductVariables"); t.products = n.toString() } t.linkTrackVars += "prop1,eVar34,products" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "all models", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }] }, { id: "RL8fbd85727e564c2289e26d1c248af353", name: "TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf848a8b3b0364c55ac7cb45cdad18be3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLda5784642dae4c198b55115ca14ec740", name: "TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1b2a484c28f746429d74dd671ed72c1d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7c1c9be161be483abb8fce144334c402", name: "TPT - NO - AEM - Adform - BrochureDownload - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC12586660394641799adc68fa6a83a2d8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLda1e633b1e2e414981cc78eeafe2df82", name: "TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div#custom-dealer-container a.location__detail-website", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 500, elementSelector: "a", elementProperties: [{ name: "title", value: "Book a service" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("URLNoParam"); "www.bmw.co.uk/en/all-models" == e ? _satellite.setVar("ruleType", "floodlight_price_list_item") : "www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html" == e ? _satellite.setVar("ruleType", "floodlight_dealer_confirmation") : "www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html" == e && _satellite.setVar("ruleType", "floodlight_find_your_bmw") } catch (e) { _satellite.logger.error("TPT FloodLight UK", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCec664abadad442c9a2c88ed946cf9011-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL39fbfd569581412097a7997e5841ee86", name: "TPT - DE- AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0f33abc6fea64f78bb0b1a5abd7928f2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL5602e71a7612454b9edeb79005ba2cc0", name: "TPT - GR - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC37927147d00a49eda2304d5c17f75a4a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLcd59160fcac84530b73dba7fa91ddaf0", name: "TPT - PL - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCee421f0e3fff46f78dd25d395be53995-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc1624ca140724a8891504d658bbf10d4", name: "TPT - SK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe339a9f0ef324cc2a861b776ba9853ea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL130d5a014aa546e79d23e318e18e1fb8", name: "TPT - BG - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7af4151609a3449d9a52f5d83fbec5e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL82de834846db423281f9f949408ebecb", name: "PLR - ALL - NSC - AA - share MID with IUCP", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a1949d4d8fe42a8ac3cd9ed964c2fe4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbd8312b889484686b273800977286b16", name: "TPT - ES - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC48d5f59d5a0a419ab31ab856a4ba0f98-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4a7b139b7710406b896dccb85103c658", name: "TPT - UK - AEM - Adform - Download Brochure - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[title='Download a brochure']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe4ffe2b5878c47f78978dc327182a8a6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL62c84c25292045f99551c2beddf473da", name: "TPT - JP - AEM - Adform - Outbound Click - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd8b94ef09eea49469e682a2c9b426b6d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL586248c65aa94385be796bf8fbd535c2", name: "TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".btn-primary", elementProperties: [{ name: "id", value: "bmw_send_form" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IE" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/ssl/discover-enquire-now.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCac60e8162d854725895360d38b408889-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa17455b7929b40faa083417dcefe6686", name: "TPT - JP - AEM - Adform - iFrame RFI - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC76ce2d730dac4517812aaf5f724dc860-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d77279122cf49b088c3ecd9c0cffa8c", name: "TPT - IE - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC50a9beafac96449b8ee45027788ad465-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7cdc56fd6fe746ce925f0f73cc0ab677", name: "TPT - PL - AEM - DoubleClick - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.pl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6418ec27fd924c41bbdfcc99628e7443-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1705717bf1e949189238bf8fe26218da-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe7857d14c73542b787214a184549cc72", name: "TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCff67e31be73a43e2a1ec53c97bba6924-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc8a41b33eb8648fe9d1e572226f486c6", name: "DCR - ALL - NSC - AA - Ignition One Tracking", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "ignitionOneTracking" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.logger.log("Rule: ", e.$rule.name, " fired identifier ", e.identifier); var s = e.detail && e.detail.ignitionOneData ? e.detail.ignitionOneData.eventType : window.ignitionone.eventType, a = e.detail && e.detail.ignitionOneData ? e.detail.ignitionOneData.formType : window.ignitionone.formType; a = a && "contact" == a.toLowerCase() ? "RFC" : a, window.ignitionone.previousFormType = window.ignitionone.formType, window.ignitionOne = window.ignitionOne || {}, window.ignitionOne = Object.assign(window.ignitionOne, window.ignitionone), delete window.ignitionone.previousFormType, _satellite.getVar("setDefaultVariables", e)(t); var o = _satellite.getVar("snapshotDL"); switch (t.prop5 = "dedicated forms", t.prop6 = "ignitionOne", t.prop9 = "step 1/1", t.prop10 = window.ignitionOne.isCombo ? "combo forms" : "dedicated forms", t.prop41 = "pop-up", t.prop42 = "locally developed", t.prop43 = "forms", t.prop53 = "ignitionOne", t.prop56 = "form", "Impression" != s && "impression" != s || (t.prop8 = "form started", t.prop16 = "ignitionOne form", t.eVar34 = "nsc > form started"), "Start" != s && "start" != s || (t.prop8 = "first form interaction", t.prop16 = "ignitionOne form", t.eVar34 = "nsc > first form interaction"), "End" != s && "end" != s || (t.prop8 = "form finished", t.prop16 = "request success", t.eVar34 = "nsc > form finished"), t.prop1 = o.get("page.pageInfo.pageName").indexOf("nsc > ") > -1 ? o.get("page.pageInfo.pageName") : "nsc > " + o.get("page.pageInfo.pageName"), t.prop2 = "form", t.prop3 = a, t.prop7 = "generic", t.prop11 = a, t.prop19 = a, t.prop28 = "virtual page", t.prop29 = o.get("page.pageInfo.version"), t.prop54 = a, t.eVar4 = o.get("page.pageInfo.destinationUrl"), t.eVar135 = o.get("page.pageInfo.devEnv"), s) { case "Start": var n = { TDA: "event5,event6", RFI: "event5,event6", RFC: "event5,event6", RFO: "event5,event6", ROI: "event5,event6", "FS RFO": "event33,event34", "not set": "" }; t.events = t.apl(t.events, n[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, n[a]); break; case "Impression": var r = { TDA: "event3,event4,event85,event86", RFI: "event3,event4,event45,event46", RFC: "event3,event4,event33,event34", RFO: "event3,event4,event61,event62", ROI: "event3,event4", "FS RFO": "event3,event4,event102,event103", "not set": "" }; t.events = t.apl(t.events, r[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, r[a]); break; case "End": var i = { TDA: "event15,event16,event87,event88", RFI: "event15,event16,event47,event48", RFC: "event15,event16,event35,event36", RFO: "event15,event16,event63,event64", ROI: "event15,event16", "FS RFO": "event15,event16,event104,event105", "not set": "" }; t.events = t.apl(t.events, i[a]), t.linkTrackEvents = t.apl(t.linkTrackEvents, i[a]) }t.linkTrackVars += "prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Ignition One", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL40957ca0f43e438ebc649df25f7d214f", name: "TPT - BG - AEM - Facebook - Site Search - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1c1a5c82b2cc479a8e2377adc60bff48-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3515f29a90ab41e99b6a863af5587d4d", name: "TPT - PL - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC237699196eaa4f8d8bee9f3344f3ec3d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2a3850448b7047bf84b1176a30aafb58", name: "TPT - ID - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4865a48a9e9c49da9bcb53c4faa56c85-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL55009ba3fcaa48059e83b36b8fbe82bc", name: "TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/book-a-video-consultation.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC38dfa2b1918a4732a24ea02ebd729720-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc45c37db32ac4b21892706e28b903d24", name: "TPT - CZ - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe80478d0b6ed434e8ccfe9dd0cc0bab4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbdcee7fa12de4b4ebbdcd00e42662452", name: "TPT - LU - AEM - Adform - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92d21b06639b45b48cd421f5da76d5de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL60c4684f47f64178846f50560f68ce11", name: "TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c559578418d4c62bcbdf4f137c575f3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL791ae8641f9743cf8df59c331a1fa98c", name: "DCR - All - AA - Custom Code - JS error tracking", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "track_js_error" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = ["bmw.ch"], t = _satellite.getVar("topLevelDomain"); return e.indexOf(t) > -1 } catch (e) { var s = { from: "AA", type: "Rule", name: "DCR - All - AA - Custom Code - JS error tracking" }; _satellite.logger.error(e, s) } } }, timeout: 8e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("setDefaultVariables", e)(t); var s = e.detail; t.prop56 = "error", t.prop53 = "component", t.prop57 = "call", t.eVar34 = s.message, t.prop52 = s.filename, t.prop54 = "js error", t.prop58 = s.lineno, t.eVar71 = s.filename, t.linkTrackVars = t.apl(t.linkTrackVars, "prop12,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,eVar34,eVar71"), t.events = t.apl(t.events, "event933"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Error Tracking", linkType: "o" }, timeout: 8e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 8e3, delayNext: !0 }] }, { id: "RL9d1b9939d50848b9a337f3906d484415", name: "TPT - BE - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC30993b80863249348135653a52918ac2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6cce4f8d4b6c4d3f913bff4736729832", name: "TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26231fb9a670450dae533f701b6f6dc9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7f48c1bfa489461cb64e278c867d7bc8", name: "TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2f6f945e41d9443fb8eb1b7a82002ede-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL50cfbcf8b8ef4e6899c73b4c17a7001e", name: "TPT - IT - AEM - Adword - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".js-track-download", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC427067604199499f859e4c1abc65b47e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2386ec2748bf43e0b8e7de3ec7d79278", name: "TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_payment" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2586a55e704941298091f0dc7885d020-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe214b550f89d458584ecea640e81dc1c", name: "TPT - AT - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "isAdobeAnalyticsAllowed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC105d892e42c34612b2cc504c36b2d735-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL519fff133d134152a29a6f1b280b1dbb", name: "TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/fastlane/dealer-locator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0c426e47b91e485bb2ecab9e1b85493e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf0bb9bd01d94455a8dc6f32081e1dada", name: "TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC43d054cb8dcd4d60bc1a4020db363ddb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe024830dc4d84e43a8d876ca45f1330a", name: "TPT - DE - AEM - ContentSquare - MINI DCS - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "mini.de" }] }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/shop/dcs/" }] }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC24b92c13055b417f8a8a3559419b6673-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc1c8b099adc6471a91e5cbf43b70137e", name: "TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-icon", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/topics/produkt-tilbud/tilbud/kampanjer.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1c7a28082c7147d2bc035420937737e2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc90ab29d825349249102d9c3460d7744", name: "TPT - AT - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc785e7a7f1d1491aaa05c003da7ab61f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL843850fa110c412e9e6f1f5a23bc43ce", name: "TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/redirect/discover-get-a-quote.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://discover.bmw.ie/get-a-quote/" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/forms/rfo/get-a-quote.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC54c5c5e00eb5421d94664a5664c0d7cc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa9496536c9714f16a3218d3e669b3eaf", name: "TPT - PL - AEM - AdWords - Broucher - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event", elementProperties: [{ name: "title", value: "RFI" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd10447d8ce0e4770979ff3caa3dfcd3b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2765f23733f942dc9283a32a44e27b63", name: "TPT - PT - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC725d2ddc47ff4ed7917aa2df2d2524fe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLae291527fdf64c69a853f06ce0614f56", name: "TPT - NL - AEM - GtagDC - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdf1a46401e374b6fb256027af2aa67db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL383883ca411345e9b276872ac12b7af8", name: "TPT - IT - AEM - Facebook - Multiple - Form Submission - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IT" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb0829fdc3884423b801a8af847c60386-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL435b6b8035f9411d8b21394bf14594b6", name: "TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96ae43edec2e4531a15723654f48bb4b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8f29c9952d2347d48e2aadc195e1afff", name: "TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfe78b53e29c649fc89c8dfa5e5614ef2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34bb335cd0ec440582cae168dafb0f24-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLc2d40bfae00e4e58a96d53606f494ae3", name: "TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IE" }, timeout: 5e3 }, {
            modulePath: "core/src/lib/conditions/subdomain.js", settings: {
                subdomains: [{
                    value: "bmw.ie", valueIsRegex: !0
                }]
            }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4da30067649f430a9a5a439a93fa90e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL72a5a0f4a9e744289c8e212cc0fa7c3e", name: "TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4260385729fd42a1bbb341525845215e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL003e5e3f17564865af4e01d7f3aaf98d", name: "TPT - SG - AEM - Adwords - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC916b5bb932e74b9993b732aa50b2e44c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe1a488bb368c4c91be99914f3771ee90-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLecc953d9faf34c32bee71daf068bbdbb", name: "TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4dfbdde9b26e40eab8a1727dff89de30-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdbd82dd798c649389c033fca897064bc", name: "TPT - RO - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC587ef95942254c96bd1ce746c70cc506-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL87d4f3f57759418bb1f52e2f02ae87fa", name: "TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC764253c752384bd2aab3c816c7d468f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL08caa2777baa4cfbab2b2f09b366812b", name: "TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8472b490a6e44d09948b4d3b24914310-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe2bc0a3c9ff54215b58a358e39f7b8de", name: "TPT - PL - AEM - Adform - RFC Form iFrame - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc9e42ee30aaf46cf9f5d939db2b1c58b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0f1f57d71e3c4cf1adedd04c303408e8", name: "TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC288402ff0c3d4a499749b1a833715414-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC324242e349254960ab10e5d9b635b1d9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7dcb11d95c8040a18e6090f40be841e1", name: "TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2bc49d63be794f05a069cbbc0276bd02-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ff004c73e83452f99c40aadc2c0d945", name: "TPT - CZ - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5da9c851e4134dc6ab153c79bca34abe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL61c14bb466b8409cbd4bfcd888519aff", name: "PLR - All - AEM - AA - DCS Event Listener", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = ["bmw.de", "bmw.it", "bmw.be", "bmw.fr", "bmw.es", "bmw.nl", "bmw.lu", "bmw.ch", "bmw.pl", "bmw.pt", "bmw.at", "mini.de", "mini.it", "mini.fr", "mini.at", "mini.be", "mini.es", "mini.nl", "mini.lu", "mini.ch", "mini.pl", "mini.pt", "bmw-int4.com", "bmw-int5.com", "mini-int7.com", "bmw.co.kr"], t = _satellite.getVar("topLevelDomain"); if (e.indexOf(t) > -1) return !0 } catch (e) { _satellite.logger.log("Error in PLR - All - AEM - AA - DCS Event Listener", e) } } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.logger.log(\"Khubruy event fired for event DCS\");\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.logger.log(\"Khubruy event fired for pageload DCS\");\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript" }, timeout: 2e3, delayNext: !0 }] }, { id: "RL21f9bbf37d944047ac3636a1b1eb3b46", name: "DCR - All - AEM - AA - Onsite Search", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = ""; var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.eventAction"), n = s.get("event.-1.eventInfo.cause"), r = s.get("event.-1.eventInfo.effect"), i = s.get("component.1.componentInfo.componentName"), c = s.get("component.-1.attributes.onsiteSearchResults"), d = (s.get("component.-1.attributes.onsiteSearchType"), s.get("component.-1.category.subCategory01"), s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName"))); if (_satellite.getVar("setDefaultVariables", e)(t), t.prop56 = "search", t.prop53 = "content", t.eVar34 = "", t.prop51 = i, t.prop54 = "onsite search", t.prop55 = c, t.prop19 = "onsite search", t.prop42 = "nsc website", t.prop43 = "search", t.eVar136 = "2021 - 02- 19 onsite search", t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.prop13 = "bmw", t.prop1 = t.pageName = -1 == d.indexOf("nsc >") ? "nsc > " + d : d, t.prop28 = "simulated page" == s.get("page.category.pageType") ? "virtual page" : "real page", t.prop44 = s.get("component.-1.componentInfo.componentID", s.get("event.-1.attributes.relatedComponentID")), t.eVar134 = "web", t.prop53 = "content", t.prop24 = c, t.prop57 = s.get("event.-1.eventInfo.eventAction"), t.prop52 = n, t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.evar71 = o, t.events = t.apl(t.events, "event331,event332"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event331,event332"), "search intent" == r) { t.prop56 = "search", t.prop53 = "content", t.prop52 = "default", t.prop57 = n, t.prop51 = s.get("event.-1.category.subCategory1"), t.eVar34 = prefix + r, t.prop55 = s.get("event.-1.attributes.searchResults"), s.get("event.-1.category.primaryCategory"); var l = s.get("event.-1.attributes.searchTerm"); t.events = t.apl(t.events, "event917,event918,event331,event332"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event331,event332") } s.get("page.category.primaryCategory").indexOf("Error") > -1 ? (t.prop56 = "error", t.prop53 = "web links", t.eVar34 = "nsc > " + d, t.events = t.apl(t.events, "event925,event926,event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event925,event926,event931,event932")) : "More Search Results" == a && (t.eVar34 = "nsc > onsite search more results clicked", t.prop55 = t.prop24 = r, t.events = t.apl(t.events, "event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918")); for (var u = s.get("component"), m = 0; m < u.length; m++)if (u[m].attributes && u[m].attributes.onsiteSearch && "General" === u[m].attributes.onsiteSearch) { var b = "true"; break } "true" == b && (t.prop51 = u[m].componentInfo.componentName, t.prop55 = t.prop24 = u[m].attributes.onsiteSearchResults, t.prop57 = s.get("event.-1.eventInfo.eventAction"), t.eVar34 = "nsc > onsite search results shown", t.events = t.apl(t.events, "event925,event926,event331,event332"), t.prop44 = u[m].componentInfo.componentID, l = u[m].attributes.onsiteSearchTerm, t.linkTrackEvents = t.apl(t.linkTrackEvents, "event925,event926,event331,event332")); var p = _satellite.getVar("searchDefaultProduct"), g = _satellite.getVar("setDefaultProductVariables"); g.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), g.merchEvars.eVar53 = "new car", t.products = g.toString(), t.products += ",search;search;;;;" + p + "eVar30=datalayer field missing|eVar31=user selected|eVar32=" + s.get("event.-1.attributes.onsiteSearch") + "|eVar33=" + l, t.linkTrackVars = t.apl(t.linkTrackVars, "products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop24,prop57,prop52,prop58,eVar71") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Accessory Configurator", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL430a2048e08b49c592ceeec7bab8b428", name: "TPT - RU - AEM - Clever Data - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }, { value: "m122.bmw-int6.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19fd7bf2d51b457e8733bf1b40ddbc6a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3baba6ccb2674b3ca2c74c8cc0402157", name: "TPT - BG - AEM - GTagDC - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d5b47970110497ab59dcc2a85581a33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdfb7bfe6e4574cbb9dc12e6b61bacabe", name: "TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC614ba93c851f410c83f668785f02ffeb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL003a1700a790490db0e08a679e70401a", name: "TPT - BR - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce7b3c4e0cc24213b71166dcccd2292c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9d1281bc0852446d89166b950a33eb2a", name: "TPT - RO - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04c216f1cd5c4bbb8a06e3a1b74205a1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0040d5da10384169a21b06ab2c384352", name: "TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9760e3ffcd4247de845adf22b3b7953d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL62ba252559574f42a7b0ae94171fca0d", name: "TPT - SI - AEM - Facebook - Site Search - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC65d959e1b6e64fdd9a8db09ad0c86a4d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL235edbacb1b64033a7ca856420f7f61f", name: "TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1190a5d5dbf44b3b8ad379878978aa8b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb0c11f29b14148d6be2b435471aff845", name: "TPT - JP - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5f947e4e377744fc907903c1259e8d78-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9bbf26c63cfc405b86c062bccc4dbed8", name: "TPT - PL - AEM - Adform - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb38c8a0dd98b414299002f6b145e1f27-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL83cf0f45913541f9842b67e20b57acc5", name: "TPT - MY - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7e36b099a4bc419bbd450732dcc8768b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLccaf17af982c4e1787f72d6b06257229", name: "TPT - FR - AEM - Facebook - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3c6b71d427024b2a9fe48bfee0c0eb37-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL56f92d27f8f6419b8ce0d6adcc822653", name: "TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe1cefc386fcc4e29bfb5da31a77ee824-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL37d249e6975e4e879451f338b8c5a726", name: "TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc730fece62b74d4c8a6f7fdb68cec8eb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7030ec38688743d2a795367317a9bc8a", name: "PLR - ALL - NSC - AA - TRON generic event listener", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try {\n\n    // Listener for TRON Custom Events\n    window.addEventListener('TRON: generic event listener', function(e) {\n        //_satellite.logger.log(e, \"TRON PV listener\");\n        var _eventName = Array.isArray(e.detail.event) ? e.detail.event[0].eventInfo.eventName : e.detail.event.eventInfo.eventName\n       // _satellite.logger.log(\"DEBUG:\",\"LISTENER:GENERIC\",\"eventName:\"+_eventName,\"eventEffect:\"+e.detail.event.eventInfo.effect,\"Type:\"+e.detail.type);\n        if (_eventName == 'page view') {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n            // direct call set to trigger tron pageview rule\n            _satellite.track('tron_pageview', {\n                'webDL': dlParam\n            });\n        } else {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n            // direct call set to trigger tron event rule\n            _satellite.track('tron_event', {\n                'webDL': dlParam\n            });\n\n        }\n    });\n\n    //Capture the events sent by iframe\n    window.addEventListener('message', function(e) {\n        //_satellite.logger.log(e, \"TRON POST MESSAGE LISTENER INTERCEPTED\");\n        if (e.data && typeof e.data == 'string' && e.data.indexOf('TRON:') > -1) {\n            if (e.origin.indexOf(window.location.host) < 0) {\n                //_satellite.logger.log(e, \"TRON POST MESSAGE LISTENER\");\n                //_satellite.logger.log('TRON POST MESSAGE', e.data.origin);\n                var eventCaptured = JSON.parse(e.data).detail;\n                var _eventName = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.eventName : eventCaptured.event.eventInfo.eventName;\n                var _eventEffect = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.effect : eventCaptured.event.eventInfo.effect;\n                //_satellite.logger.log(\"DEBUG:\",\"LISTENER:POSTMESSAGE\",\"eventName:\"+_eventName,\"eventEffect:\"+_eventEffect);\n                // Delete keys which are available in page datalayer\n                delete eventCaptured.custom;\n                delete eventCaptured.cart;\n                delete eventCaptured.transaction;\n                delete eventCaptured.dealer;\n                delete eventCaptured.user;\n                delete eventCaptured.page;\n                delete eventCaptured.product;\n\n                //Datalayer from parent page  \n                var oldDL = _satellite.getVar('webDL');\n\n                //Datalayer from tron which is in iframe\n                var newDL = eventCaptured;\n\n                var dlParam = Object.assign(oldDL, newDL);\n                if (_eventName != \"page view\") {\n                    // direct call set to trigger tron event rule\n                    _satellite.track('tron_event', {\n                        'webDL': dlParam\n                    });\n                } else if (_eventName == 'page view') {\n                    // direct call set to trigger tron pageview rule\n                    _satellite.track('tron_pageview', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n\n        }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"TRON: Event listener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript" }, timeout: 2e3, delayNext: !0 }] }, { id: "RL980dd639552d4c32bc249c992e41e9e9", name: "TPT - IN - AEM - TDA Form Submit/ Success - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04ee2e40998d4052bd1530ce81f5a44f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5c5a58069dad472ca6ff6631d4a06aba", name: "TPT - SG - AEM - Tradedesk - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/ssl/online-service-booking.html", valueIsRegex: !0 }, { value: "/en/ssl/auto-service-booking.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/service-workshop/service-maintenance.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/latestpromo.html", valueIsRegex: !0 }, { value: "/en/topics/fascination-bmw/contact-BIS.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/service-workshop/bmw-services.html", valueIsRegex: !0 }, { value: "/en/ssl/find-a-retailer.html", valueIsRegex: !0 }, { value: "/en/ssl/contact-pml.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/ubi-service-centre.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/bmw-care-packages.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9bacba63b29b4dfb9437cf27027fc9c1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe8a39d744dc8452b9aa0564069afc4d3", name: "TPT - BE - AEM - GtagDC - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCffdbdc937c1c4ab8b96238dfb9ee3dd5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdbcd84f9d8a04f9ba757ffcfe28fde7d", name: "TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-tracking-js--event", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.ar", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "es/footer/footer-section/contact-us.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1791e66fb2fd4524b4d3829b5c5d92ab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb577e928781f4cff8cad23434d5fd6e0", name: "TPT - DK - AEM - Adform - Kampagne Other Buttons - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "a", elementProperties: [{ name: "title", value: "Priser", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "a", elementProperties: [{ name: "title", value: "Specialmodeller", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: "a", elementProperties: [{ name: "title", value: "Find forhandler", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/da/generelt/produkt-tilbud/tilbud/kampagne.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc08e6232b6aa46b0a864c2c4735f0137-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe17fd32463da4e94b6c7beb445f83273", name: "TPT - NL - AEM - GtagDC - BrochureDownload - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href $= "pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1f21e8ddd30645bea355dfdc6bcec484-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLbcdc2405bc2f4f61afa1385597a63eb1", name: "TPT - AT - AEM - DoubleClick - Test Drive Appoinment - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/elementExists.js", settings: { elementSelector: ".siloIntendedContent , h2" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (window.location.pathname.indexOf("test-drive-appointment.html") > -1) return !0 } catch (e) { _satellite.logger.error("TPT - AT Custom condition floodlight - retriggering", e) } } }, timeout: 5e3 }], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC316ba67c41004ccf979da0232809ffa6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RL2055f43fa32f4c4ba1ad064f5685c68d", name: "TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c75dc9c6cce4a019c8f05038fff3148-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc3dda901417b4b528c66f66e27243265", name: "TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c811cb16e034b24a627ff42660ded33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd2f341038bc14c4298695b2b50c592b5", name: "TPT - SK - AEM - GtagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC568fd459ad24404fb2f9ee2299b9315d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9a537448c83145a890eeea5db206d336", name: "TPT - IE - AEM - GTagDC - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5a3b443c839847508f3d1d1d3ea39885-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL074cfae2888b40dc880169f7cad9fad7", name: "TPT - BE - AEM - GtagAW - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdcf7ec9316784b988cce2e7545a080ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL72586a4afe944c308cfa86ec5a7ed215", name: "TPT - AT - AEM - DoubleClick - iFrame TDA - DCR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC804fdacce9d54c84b2f8030bc6562e5a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL516c1a4432bc48e1a5b3fc223134d710", name: "TPT - BG - AEM - Adform - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href $= "pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcb92df467f5d4805a62ad30c54427800-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL76488beaac42477ba58b3eccb2c81449", name: "TPT - ZA - AEM - DoubleClick - Test Drive - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/submit.js", settings: { elementSelector: "form[id='bmw-form formstrap']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/G05/2018/testdrive", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe2bb6f90cc42477891d4ae790ec2d89d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL55775fce32f24ae6a676d9de8eb4d0bd", name: "TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9261aa89ee8e4ced9a8294ead4bfd054-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf69269e5c67f45d29f178ac9f0114d0b", name: "TPT - AT - AEM - Pinterest - RFO - FormSubmit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "de/publicPools/success-pool/success-page-rfo.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC83a74492e56b484193b8c98a6f1c25da-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9938112f9b7442f5a2603a75f1ab8e40", name: "TPT - BG - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC764307e57b2e42ba9fdf79fa30212462-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe34945dd00443fab9bc8469d9a6e6be", name: "TPT - NL - AEM - LinkedIn - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf256c5aefed445b080f640e643af464b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfa47fc35c5a44431b5eb4756e4858bb3", name: "TPT - ZA - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCab99224625ed4bfba9b11db027dd141c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL302e810f04224584a7803194cad78d21", name: "TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC21ea079d34044f2cb1329a6260f8bb8a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4369124ad06e4a55b2083d65a8f2a442", name: "TPT - AT - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19079ac9c030420890da4f0f56d45a55-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL01ae68d830f945d5a429f1c1e5cee874", name: "TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfb4e3b3d63b04d40b01d73e7afa4946e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcf130a9c9cd04ecda94c8735d51f0343", name: "TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd19f9df86c124bb69817f58c0e9c1485-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb5c8931fcec44c23946b1750936902af", name: "TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe06637b88bad46ca9bb501e3b58b6cf4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc926d8a5de5c4202a26a09e376936b37-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ff7b78fef674dbf971610946bbc0397", name: "TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC69de7b76abd046c1a3dfaaf7df614423-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL16ccb7fe853548269a60f6ef0ada961d", name: "TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2544a91995c74e03b1f07ea82f318ac7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL993d246fa179493880ecca2f49f59af4", name: "TPT - RO - AEM - Adform - SignIn/SignUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3ec5d6bff0b5477492ddc47a7a671036-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6bfe9ca7d958474cb5e5d3eab5d49125", name: "TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC40008bb9064f406c9c758156bdef168a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdea7a537395d43468ea3e3f74c6cc5f7", name: "PLR - DE - All Pages - Custom Script - New Visitor Reco Script", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 200 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { function t(e) { var t = window.epaas.api.getPersistence(e); return JSON.parse(t) || {} } t("v_reco_data").sDur > 0 && e(), window.addEventListener("re-trigger", (function (t) { t.detail && t.detail.processing == _satellite.getVar("consentMap").AdobeAnalytics && e() })) } catch (e) { _satellite.logger.error("Visitor Reco Script", e) } } }, ruleOrder: 45 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.de" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC833842b9012644d49e17f0cfab83aedf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa4d8565dbfbb4e5db6f0cdfc0be13186", name: "TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce4d46cdc6204521ac59dece58cae681-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ecd3cc4a21f4f369047c81e748320b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL232295627c5148228268cf527112a519", name: "TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%Usabilla_vs_IgnitionOne%", rightOperand: "IgnitionOne" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0533414329f7417a87787e4e5ca7dde3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd310c15f0d4d401c9280550a45b31db2", name: "TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c09a2a3791047c88bb4a3269681508c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb0ae560939e14fb8924a1e3dee064a52", name: "TPT - ES - AEM - Global chat - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/es/ssl/prueba", valueIsRegex: !1 }, { value: "/es/ssl/oferta", valueIsRegex: !1 }, { value: "/es/coches-bmw/serie-1/5-puertas/2019/F40-KMI.html", valueIsRegex: !1 }, { value: "/es/coches-bmw/serie-1/5-puertas/2019/RFC.html", valueIsRegex: !1 }, { value: "/es/informacion/promociones/ofertas", valueIsRegex: !1 }, { value: "/es/ssl/formulario", valueIsRegex: !1 }, { value: "/es/topics/mundo-bmw/bmw-empresas/", valueIsRegex: !1 }, { value: "/es/informacion/financia/financia" }, { value: "/es/informacion/financia/faqs" }, { value: "/es/informacion/financia/bmwfinancialservices.html" }, { value: "/es/informacion/promociones/ofertas/", valueIsRegex: !0 }, { value: "/es/topics/mundo-bmw/bmw-empresas/", valueIsRegex: !0 }, { value: "/es/ssl/", valueIsRegex: !0 }, { value: "/es/informacion/financia/calculadora-financiera.html", valueIsRegex: !0 }, { value: "/es/coches-bmw/serie-2/gran-coupe/2019/", valueIsRegex: !0 }, { value: "/es/campanas/", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC771444b9380d4bcaa827e0940499be96-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLce96ac32ec0e44cfa62c1d1a9f34acec", name: "TPT - MY - AEM - Sizmek - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC06bfc8477cf145b5a38285cd35430ced-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c608c9696af4df9b249f4ef6321dad4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9f59907b75fe4e33bb5b2a03d9c9d22e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7b0d56824ad940c586a9c3b57e30d766-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2d50c181e7a840dbb7bcd1e61db8bf25", name: "TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe91208e335f94ee68a32ea7a46f6e77e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLed5768c603e54c2b9988f370645362dc", name: "TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC232d3bb22ec4477484b5dbc9105e1053-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8151005bdc9b4ab3aaa7357f1f5715d2", name: "TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f74a673597340f98518445d2f540861-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC01ffa49b853741ed9d4d4fac80d277ed-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9eecab468f9449e9479328a351ab5bc", name: "TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC31f9d90b6037469d9bc819f531b6f429-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL883986887b9143e5bd6594393d672ae5", name: "TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC61127c4ede9f4619878ec875be770bae-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e14516a964445819c494061410fb854", name: "TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCefe06083927e4f4d8a6f64ee11d7132f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5132b99badd74bbd9162eeec5fb839fb", name: "TPT - MY - AEM - Sizmek - History Change - EBR", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa1d348c9de004abeae811abfc36bf969-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL74a4ed5ec7a84c629d4ed4ab34c3c6b4", name: "TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC849a47eea8574e2fa35255745df3db70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC37ce32757f7d4177905accd93339313b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC514a122ff7b94364b0d91b025d758edf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL782408598a6f4891914d3f518ab0b91c", name: "TPT - BE - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC388f7eb67ead4592a19066e911a9196d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe0de24fe6344ff88278551b252d91a7", name: "TPT - CA - AEM - DoubleClick - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2963ca54c68a4f1bb3a07423ac211afe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL761b2052e8df4cdab554c294e3228170", name: "TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92ee797433ab498b9cdd1f8c4cad3dc3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLec3bef2b93294013980b57c88c581d17", name: "TPT - KR - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.kr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC01f383269e46455bb34d91e8284981b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ff70fe0f72e4f7c8c3dc601c247ebf8", name: "TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/en/all-models/m-models.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfa31ad868cf24c68b5fe700f8327e15e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLd435e1b8bbec4fd6b3341940aa1ab47f", name: "PLR - AT - All Pages - Custom Script - Visitor Reco Script", events: [{ modulePath: "core/src/lib/events/pageBottom.js", settings: {}, ruleOrder: 200 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger", (function (t) { t.detail && t.detail.processing == _satellite.getVar("consentMap").AdobeAnalytics && e() })) } catch (e) { _satellite.logger.error("Visitor Reco Script", e) } } }, ruleOrder: 45 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.at" }, timeout: 5e3 }], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: {
                source: 'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n\n   \n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n          var e = getParsedCookie("v_reco_data"),\n                 i = JSON.parse(JSON.stringify(e.device_type || {})) \n          navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.device_type = "mobile": navigator.userAgent.match(/iPad|Android|Touch/i) ? e.device_type = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.device_type = "desktop": e.device_type = "misc"),updateBucket(score_obj, "device_type", e.device_type),window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration || 0\n            59 >= i ? updateBucket(score_obj, "session_duration", "leq59") : 299 >= i ? updateBucket(score_obj, "session_duration", "g59_leq299") : 599 >= i ? updateBucket(score_obj, "session_duration", "g299_leq599") : 1799 >= i ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 3599 >= i ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : i >= 3600 && updateBucket(score_obj, "session_duration", "g3599")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration", "leq59") : 60 == r ? updateBucket(score_obj, "session_duration", "g59_leq299") : 300 == r ? updateBucket(score_obj, "session_duration", "g299_leq599") : 600 == r ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 1800 == r ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : r >= 3600 && (updateBucket(score_obj, "session_duration", "g3599"), clearInterval(o)), i.session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration_configurator || 0\n            if (i && (70 >= i ? updateBucket(score_obj, "session_duration_configurator", "leq70")\t : 350 >= i ? updateBucket(score_obj, "session_duration_configurator", "g70_leq1350") : i >= 351 && updateBucket(score_obj, "session_duration_configurator", "g350")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration_configurator || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration_configurator", "leq70") : 71 == r ? updateBucket(score_obj, "session_duration_configurator", "g70_leq350") : r >= 351 && (updateBucket(score_obj, "session_duration_configurator", "g350"), clearInterval(o)), i.session_duration_configurator = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n          window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n     \n        }\n\n       \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.distinct_page_visits || {})),\n                t = 0,\n                n = !0,\n                a = !0\n     var hostname=window.location.host\n      if(hostname.indexOf("www.")>-1)\n        hostname=hostname.replace("www.","")\n    var pathURL = hostname+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : 4 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g2_leq4") : 7 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g4_leq7"): t > 7  && (updateBucket(score_obj, "distinct_page_category_visit", "g7"), t > 8 && (a = !1)), a && (e.distinct_page_visits= i,/*setCookie("v_reco_data", e)*/window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n      \n       \n        }\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n          \n        }\n       function check_model_viewed() {\n              var e = getParsedCookie("v_reco_data")\n         \n              if (e.model_visited && "yes" == e.model_visited) updateBucket(score_obj, "model_visited", e.model_visited)\n              else if ( URL.indexOf("/all-models/") >-1){ \n               e.model_visited="yes"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n             }\n              else{\n              e.model_visited="no"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n       function check_configurator_viewed() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.con_section_visited && "yes" == e.con_section_visited) updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             else if ( URL.indexOf("configure.bmw.at") >-1|| URL.indexOf("/konfigurator.html")>-1) {\n               e.con_section_visited="yes"\n               updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             }\n         else{\n           e.con_section_visited="no"\n          updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n       }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {},\n                b = {},\n                c = {}\n            if (addDimension(s, "always_on", weight_value(-3.662118, 1)),\n\t\t\taddDimension(i, "leq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.99889)),\n\t\t\taddDimension(i, "g2_leq4", weight_value(2.502553)),\n            addDimension(i, "g4_leq7", weight_value(2.588481)),\n            addDimension(i, "g7", weight_value(3.986874)),\t\t\t\n\t\t\taddDimension(o, "leq59", weight_value(0)), \n\t\t\taddDimension(o, "g59_leq299", weight_value(2.55341)),\n\t\t\taddDimension(o, "g299_leq599", weight_value(2.449621)), \n\t\t\taddDimension(o, "g599_leq1799", weight_value(3.07738)), \n\t\t\taddDimension(o, "g1799_leq3599", weight_value(2.790434)),\n\t\t\taddDimension(o, "g3600", weight_value(2.382506)),\n\t\t\taddDimension(r, "leq70", weight_value(0)), \n\t\t\taddDimension(r, "g70_leq350", weight_value(-0.903169)), \n\t\t\taddDimension(r, "g350", weight_value(-1.248686)),\n\t\t\taddDimension(t, "new", weight_value(0)), \n\t\t\taddDimension(t, "returning", weight_value(0.092474)), \n\t\t\taddDimension(n, "mobile", weight_value(0.400441)),  \n\t\t\taddDimension(n, "desktop", weight_value(0.115943)), \n\t\t\taddDimension(a, "paid_search", weight_value(-0.326148)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n            addDimension(b, "yes", weight_value(0.329901)),\n            addDimension(b, "no", weight_value(0)),\n            addDimension(c, "yes", weight_value(-1.763288)),\n            addDimension(c, "no", weight_value(0)), \n\t\t\taddDimension(score_obj, "distinct_page_category_visit", i), \n\t\t\taddDimension(score_obj, "session_duration", o), \n\t\t\taddDimension(score_obj, "session_duration_configurator", r), \n\t\t\taddDimension(score_obj, "user_type", t), \n\t\t\taddDimension(score_obj, "device_type", n),\n\t\t\taddDimension(score_obj, "last_channel", a), \n\t\t\taddDimension(score_obj, "intercept", s), \n            addDimension(score_obj, "model_visited", b),\n            addDimension(score_obj, "con_section_visited", c),\n\t\t\tcheck_device_type(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n            check_model_viewed(),\n            check_configurator_viewed(),\n\t\t\tcheck_visitor_type(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}', language: "javascript"
            }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RLdfb3d64693b5409db2499b72994f1fc3", name: "TPT - HU - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96d7278a68ba45769ad6c6e9ce74e477-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd940d1d16be7468db85265ff4169d6ca", name: "TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd4b5b567f69e4c09a4fd6792bf364a23-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb0eceae0fd7c44be98fee4c294fd2a79", name: "TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-icon", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "Veja mais informa\xe7\xf5es" === this.innerHTML } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa427bfa721f14126abc5a67ad8308275-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5f87ab6074474b56bb39b4eff0b54799", name: "TPT - SK - AEM - Facebook - Form Submission - RFO - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2766de6ecc2946e4b3994a7cc5762676-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb8f5d4c264d545dd93f45e4fa4c6a60b", name: "TPT - MX - AEM - Retargetly - All Pages - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8f6c7ce99ffb46358757a4474ef29322-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d393cc83d2e4793a10557bc839ddf88", name: "TPT - JP- AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1874047ee0784ce7a1937e320d035127-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf12f180618cf4b1491f803d1cafbcbe5", name: "TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCda0f82f69a214faab37654f6db7090a0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL75c0e25cbbe74c92b25f6629591ec3c8", name: "TPT - PL - AEM - GTagDC - Video - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa08e8783bcd443d8bee9943af0baeab8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL61255dbf0cd14d95a6fe4d2b9aee5425", name: "TPT - HU - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6d5c58bc383346d0a4e4b1eff91f1320-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL89e8d280d48145a1b1f2d8e12e2de21f", name: "TPT - ES - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf5c06dfb0f8042e792f81df8a18e6c12-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9324a574a06748cba30c378dfc89c980", name: "TPT - LU - AEM - Adform - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/submit.js", settings: { elementSelector: "button next-best-action ds2-dlo-dealer-details--button dlo-button ng-binding ng-scope", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc0f3986ca2ff4d119217c09d3f9b045e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc5f6bb469996492cbf1177c5058c094d", name: "TPT - AT - AEM - DoubleClick - iFrame - RFO Forms - DCR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC194b13bc91e3469e8eb81b5544ff3f2a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa68173cb3b11404a80a03dc8ca265d42", name: "TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[title=dlo]", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdb5bc74abec04ae2a4bbfd45633923b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd98f3a5ce4ea4131be1bf2e4ccf5677a", name: "TPT - SI - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6e0635f693454cb6a14cb665c4d66296-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL74e3e54f2ad144d9812045aaf878a0e4", name: "TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", elementProperties: [{ name: "href", value: ".*\\/pricelists\\/.*", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pricelist-brochure-download.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe65c8f4bffef458daa0e2ee808d8abff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb3d3173d23bd41019d82145a62d18284", name: "TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "pageview-cleansed" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "TPT page view" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa2a9644f00fb4835b244707b147ac0ad-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2982d20de67b4079adf08ff813e02b32-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLec00469531504a6898d7da22ea42acb7", name: "TPT - AT - AEM - GtagDC - iFrame Forms ROI - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC69a4c099cfd74d5789aa54e8f45b69be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL867163e77a724676b7f294f518749110", name: "TPT - SK - AEM - Facebook - Form Submission - RFC FormView - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6441f0f8a2264b27b90d076b5e0b3f9a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc085c9bad4a548bebe46f40555422ead", name: "TPT - LU - AEM - gTagDC - RFO Form Submit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC755f6413a3f24d5b9bfa012595e01848-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd542af9540ab4245bcc429d89a86a6bb", name: "TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="Build and Price"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC121f9792173f4e3a92a43b67e2caa2f8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6f0c3426882d4da3afa38fb2ac156ca9", name: "TPT - DE - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c0ce064d7164a45955db67dff5c1c9c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3bc75746b4fc432396ecfe4d93145b0c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe41c561c63c14e62804c7027e8a30d7f", name: "TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC32520f76a19c46babba54fa6b3f2a7d2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0674e47596d74dbea1bcb8d8a477f571", name: "TPT - AT - AEM - Pinterest - iFrameRFO Submit - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC272f93230fda416cacf03ede3c1130a9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL71b44ae4d326471d9e191e50d1b0330c", name: "DCR - DE - All Models -  Adobe Target - Send Visitor Reco", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "send_reco_value" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.de" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/neufahrzeuge", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC83b19470acd146be869cbd85153f4865-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf8d28d54719647f99372e731e200ab02", name: "TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC201212905ad84d5f8632777d351e0116-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdb65896a74104b5997fc1b2231746d90", name: "TPT - LU - AEM - GTagDC - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6a21e361645f4af594328cbc8cf96d80-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9702acfcf38d4b68b89ed1dd3f584e8a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd3f4220cfc94499e92b6fcba139aa3c1", name: "TPT - SI - AEM - Adfrom - Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC70d0d2ad0f514a7eb2f0e031b0b15ab0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8f684d9637d146a5985b5b51ab0f33aa", name: "TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_dc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe74e7a90e5354c2bbef9d8b05f638d4f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL8ed5a315b9c242719dd1fff0ee040183", name: "DCR - All - NSC - AA - Dealer Locator", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_integrated" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_switch_map" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            var s = _satellite.getVar("snapshotDL"), a = "nsc > ", o = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); _satellite.getVar("setDefaultVariables", e)(t); var n, r, c, d, l, u, m, b, p, g, f, v, h, P = s.get("product.-1.attributes.mmdr"), j = _satellite.getVar("setDefaultProductVariables"); j.id = s.get("product.-1.attributes.mmdr"), j.category = "new vehicle", j.merchEvars.eVar52 = s.get("product.-1.attributes.modelName"), j.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), j.merchEvars.eVar10 = P, j.merchEvars.eVar51 = s.get("product.-1.attributes.bodyType"), t.products = j.toString()
                                ; var C = s.get("event.-1.attributes.relatedComponentID"); for (i = 0; i < s.get("component").length; i++) { var y = i.toString(); s.get("component." + y + ".componentInfo.componentID") != C && s.get("component." + y + ".componentInfo.componentId") != C || (_satellite.logger.log("related component - " + y), r = s.get("component." + y + ".componentInfo.componentName", s.get("event.-1.attributes.relatedComponentName", s.get("product.-1.attributes.relatedComponentName"))), n = s.get("component." + y + ".componentInfo.componentID", s.get("component." + y + ".componentInfo.componentId")), s.get("component." + y + ".category.subCategory01"), c = s.get("component." + y + ".category.componentType", s.get("component." + y + ".componentInfo.componentType")), d = s.get("component." + y + ".attributes.errorMessage"), l = s.get("component." + y + ".attributes.errorID"), u = s.get("component." + y + ".attributes.onsiteSearchBrand", s.get("component." + y + ".attributes.onSiteSearchBrand")), m = s.get("component." + y + ".attributes.onsiteSearchTerm", s.get("component." + y + ".attributes.onSiteSearchTerm")), b = s.get("component." + y + ".attributes.onsiteSearchResults"), p = s.get("component." + y + ".attributes.onsiteSearchResultsFilters"), s.get("component." + y + ".attributes.onsiteSearchResultsType"), g = s.get("component." + y + ".attributes.distanceFromDealer"), h = s.get("component." + y + ".attributes.dealerName"), f = s.get("component." + y + ".attributes.outletID"), v = s.get("component." + y + ".attributes.dealerID"), variant = s.get("component." + y + ".attributes.variant")) } var w, R = s.get("event.-1.eventInfo.eventName"), x = s.get("event.-1.eventInfo.effect"), E = s.get("event.-1.category.subCategory01"), T = s.get("event.-1.eventInfo.eventAction"), I = s.get("event.-1.eventInfo.cause"), _ = s.get("event.-1.eventInfo.target"); if ("home dealer locator teaser impression" == R || "home dealer locator teaser click" == R) t.eVar34 = "home dealer locator teaser click" == R ? a + x : a + R, t.eVar136 = "2020 - 06 - 15  dealer locator teaser", t.prop43 = "teaser", t.prop51 = "home dealer locator teaser click" == R ? R : x, t.prop55 = E; else { var A, k = "", L = _satellite.getVar("searchDefaultProduct"), O = "DLO Errors" == R ? "datalayer field empty" : "user selected"; L = _satellite.getVar("searchDefaultProduct"), "datalayer field missing" == u && "datalayer field empty" == u || (A = "search;search;;;;" + L + "eVar30=datalayer field missing|eVar31=" + O + "|eVar32=brand|eVar33=" + u, k = t.apl(k, A)), "datalayer field missing" == p && "datalayer field empty" == p || "string" == typeof p && p.indexOf(",") > -1 && (A = "search;search;;;;" + L + "eVar30=datalayer field missing|eVar31=" + O + "|eVar32=" + (p = p.replace(/"/g, "")).replace(/,/g, "~") + "|eVar33=" + m.replace(/,/g, "~"), k = t.apl(k, A)), "" != k && (_satellite.logger.log("dlo search - inside s.Products", k), t.products = t.apl(t.products, k)), t.eVar34 = "DLO Errors" == R ? a + d : a + x, t.eVar40 = f, t.eVar41 = h, t.eVar42 = v, t.eVar136 = "2020 - 06 - 15 Dealer Locator", t.prop43 = "search", t.prop50 = E, t.prop51 = g, t.prop55 = "DLO Errors" == R ? l : b } t.prop1 = t.pageName = -1 == o.indexOf("nsc >") ? "nsc > " + o : o, t.prop3 = r, t.prop19 = r, t.prop53 = "dealer", t.prop24 = b, t.prop41 = c, t.prop42 = "nsc website", t.prop44 = n, t.prop27 = s.get("page.pageInfo.pageID"), t.prop4 = s.get("page.category.subCategory01"), t.prop5 = s.get("page.category.subCategory02"), t.prop2 = s.get("page.category.pageType"), t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop54 = s.get("event.-1.category.primaryCategory"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), "DLO Errors" == R ? (t.prop56 = "error", t.prop53 = "backend 3rd party") : (t.prop56 = 1 == ("Select Dealer" == R || "Dealer Interaction" == R || "home dealer locator teaser impression" == R) ? "interaction" : "search", t.prop53 = 1 == ("Select Dealer" == R || "Dealer Interaction" == R || "home dealer locator teaser impression" == R) ? "ux" : "dealer"), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar31,prop57,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,prop41,pageName,products,eVar32,eVar33,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55"); var S = { "DLO Errors": "event931,event932", "Brand Selection": "event917,event918", "DLO Start": "event271,event272", "Select Dealer": "event277,event278,event917,event918", "Select Preferred Dealer": "event285,event286,event917,event918", "Delete Preferred Dealer": "event917,event918", "Dealer Interaction": "event917,event918", "home dealer locator teaser impression": "event925,event926", "home dealer locator teaser click": "event907,event908,event917,event918", "find dealer": "event271,event272,event275,event276", "visit dealer": "event277,event288" }; w = t.apl(w, S[R]), w = t.apl(w, S[x]), "DLO Start" == R && (t.prop56 = "interaction", t.eVar34 = "nsc > " + x, t.prop53 = "success", t.prop52 = "automatic", t.prop57 = T, t.prop55 = E), "Select Dealer" != R && "Select Preferred Dealer" != R || (t.prop56 = "interaction", t.eVar34 = "nsc > " + x, t.prop53 = "ux", t.prop52 = I, t.prop57 = T, t.prop55 = E), "DLO Search" == R && (t.prop56 = "search", t.eVar34 = "nsc > " + x, t.eVar32 = t.prop53 = "dealer", t.prop52 = I, _ && _.indexOf("type=") > -1 && (t.prop57 = _.split("type=")[1].split("&")[0]), _ && _.indexOf("term=") > -1 && (t.eVar33 = _.split("term=")[1].split("&")[0]), t.prop55 = b, (p = p.toString()).indexOf("Location") > -1 ? w = t.apl(w, "event273,event274") : p.indexOf("Dealer") > -1 && (w = t.apl(w, "event275,event276"))), "Dealer Interaction" == R && (t.prop56 = "interaction", t.eVar34 = "nsc > " + x, x && x.indexOf("@") > -1 && (t.eVar34 = "nsc > dealer e-address clicked"), x && 0 == /[a-zA-Z]+/.test(x) && (t.eVar34 = "nsc > dealer phn number clicked"), t.prop53 = "ux", t.prop52 = I, t.prop57 = T, t.prop55 = E, "Contact Information Show" == x || x.indexOf("@") > -1 || x.indexOf("http") > -1 ? (w = t.apl(w, "event279, event280"), t.eVar34 = "nsc > value-rejected") : "Plan Route" == x ? w = t.apl(w, "event281,event282") : "DLO Online appointment" == x ? w = t.apl(w, "event283,event284") : "07322 96390" == x && (t.eVar34 = "nsc > value-rejected")), t.events = w, t.linkTrackEvents = t.apl(t.linkTrackEvents, w)
                        } catch (s) { _satellite.getVar("catchblock", e)(t, s) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "DLO", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL7ee6b2474cda41a59aae6746823da167", name: "TPT - JP - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6af42acb085a4fd4987c4fcd5d111d13-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa51433c2dea41a3b8615ffe60cf6101", name: "TPT - NO - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4bd1aba143f74bc1a729f02fa786e6cd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe2f50b96731148eab1d93d4cd96dfbbd", name: "TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6ef03e0bed9f4a2bb7013afde66dc767-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4aa4de375a60471c9193acb310b6409a", name: "TPT - FI - AEM - DoubleClick - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7df9cfcf5bda4e07b14a1ae1aab5e746-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL248429aa8b874b8a92b3e5785c2905ab", name: "TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#formtda [gcdm-form-submit]", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3b1854df733b4099b9abb1a3398af272-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2506173f589e43808c4a14561e6c37bd", name: "TPT - UK - AEM - GTagDC - TDA Form View - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96ca669b90ea496e9a732c6cc530e29c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL22f066f8a2c64c2e883ef03e21b65362", name: "TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0555948c8211429c860563dffd597c67-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb3ab43c0ff3649809fd81e40c9f1bc04", name: "TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1232e56e19984fdaa0b0be876eb96a57-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9fc5514547e24fae99e94639e749f319", name: "TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "TPT page view" }, ruleOrder: 50 }, { modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "pageview-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0dedf48e618e48f1ab4dac33fa8f3834-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd18bb05acd2d45ada7fe0e3b9a675810", name: "TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%pageInstanceId%", rightOperand: "/ssl/requests/rfo-bmw" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8e06e61907fb4958b5459f5d3f8edd73-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL441916ce40ce4b9bbbb181033cae28ad", name: "TPT - HU - AEM - Facebook - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/hu/konfigurator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe56827f90aae475b9cbadda97f16615e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3acc89e15eef4d908aa8196b3d9dc02c", name: "TPT - SG - AEM - Adform - E- Offers and services - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div.ds2-detail--interactive.large-6 > div > ul > li > a > span", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-third-party", (function (t) { t.detail && e() })) } catch (e) { _satellite.logger.error("TPT: Finance Offer ", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "SG" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb1e240e5a2a84b5da26d71fc65ab192a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL78e9c903d0914eeea5c158bc5914e041", name: "TPT - RO - AEM - Facebook - Form Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe13e6885f49d4f1bacdbaf0a22c11921-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3fe4ce44ad5e4db98ab7de9d50d9e63d", name: "TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5ae9542e7844677990a0018129d546a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe80cad06d77c43e48745ce040135ba1b", name: "TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "body > div.successpagerfidownload__base > form > div > div > ul > li > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc656c315c2eb4c1cb5cb8e4e5accdc0c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL090368793b8749c8b69115d5b1723c79", name: "TPT - AT - AEM - DoubleClick - GCDM Forms - EBR - p15r[c] copy", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#brochure-submit", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34dca722c5914ca48cf62654e928f5f3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f91f27ad04248be82fdbd93510f01c3", name: "TPT - DE - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8fc9ea90c1a74861a5c805f4173a5749-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf29666df5afe4f1fb5d68edbeee65f0e", name: "TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd5d9e79cdf864e4a99dc227a78e16754-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd43d30e76df6476da0cf0c259004ba1b", name: "DCR - All - AEM - AA - DCS PV", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("smartPreviousValueManager"); _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var a = _satellite.getVar("snapshotDL"); if (t.prop27 = a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", a.get("page.pageInfo.pageID")), t.eVar135 = a.get("page.pageInfo.sysEnv"), t.prop50 = "page title", t.prop17 = t.prop44 = t.eVar71 = t.prop54 = t.prop11 = t.prop7 = t.prop8 = t.prop6 = t.prop55 = t.prop51 = t.prop24 = t.prop52 = t.eVar34 = t.prop57 = t.prop56 = t.prop58 = t.prop12 = t.prop53 = t.eVar23 = t.eVar24 = "", "undefined" == t.products && (t.products = ""), t.prop1 = a.get("page.pageInfo.pageName"), t.prop1.indexOf("sales >") < 0 && (t.prop1 = "sales > " + t.prop1, t.pageName = t.prop1, a.get("pageInstanceId").indexOf("error-pool/") > -1 && (t.pageName = t.pageURL, t.pageType = "errorPage", t.prop1 = t.pageName)), t.prop4 = a.get("page.category.subCategory1"), t.linkTrackVars += "prop4", t.eVar151 = a.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"), t.eVar152 = a.get("page.attributes.solutionSpecific.deliveryMethodAvailable"), t.eVar153 = a.get("page.attributes.solutionSpecific.paymentMethodsAvailable"), t.eVar154 = a.get("component.-1.attributes.referringComponent"), t.eVar155 = a.get("cart.attributes.offerID"), t.eVar156 = a.get("page.attributes.checkoutID"), s.update("pageName", t.prop1, !0), t.prop42 = "vehicle sales platforms", t.prop43 = "indirect sales", t.prop44 = a.get("component.-1.componentInfo.componentID"), t.prop19 = "digital checkout solution", s.update("pagePrimaryCategory", t.prop19, !0), s.update("componentSubcategory1", t.prop43, !0), s.update("url", t.eVar4, !0), t.eVar14 = s.get("url"), s.update("pathName", t.eVar12), t.eVar29 = s.get("pathName"), t.prop31 = s.get("pagePrimaryCategory"), t.prop33 = s.get("pageName"), t.eVar28 = s.get("componentSubcategory1"), "sales > dcs: order-confirmation" == a.get("page.pageInfo.pageName")) { var o = a.get("page.attributes.checkoutID"); t.events = t.apl(t.events, "purchase"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "purchase"), t.purchaseID = o } if (void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var n = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(n), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash")), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf74fb5c826914af19f64df87e2b9428c", name: "TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%pageInstanceId%", rightOperand: "/ssl/requests/rfo-bmw" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC99d73277c91b4b8086a9786c0ed81b73-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC895d0973515749eab8681b3b9c12a9de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcd65d2b3932547eaa43b76564718e7ed", name: "TPT - SG - AEM - DoubleClick - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c27480f4a0e4b5abf6831f9d1dada88-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5307ce5df7164f5f9878205f0569d6f0", name: "TPT - NO - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC16afe8f09d1948689358d30467884af7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ae0cb7fa183464087d9444fa50acaf9", name: "TPT - CZ - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf1b8cd4d3b314ed49e7fdd5236fe4be3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfcafea2c8d3f46408c394f37673d4f46", name: "TPT - SI - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2eb98b5f383349c78c728eef5c42967d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6d34604bd690429fa47b5efedac6b7ed", name: "TPT - DK- AEM - Adform - SignIn - SingUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc6e875a028094efe969734d5d8d76494-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbfbf06c707204458b1c70f450d8e43a2", name: "TPT - PT - AEM - Facebook - FormTracking - TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC320a1e75b8ed4ae998e90b4aade654ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL61329958b3164c9e99338eb0f399c15f", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - fix references.linked", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04f351f1b90a43a387baca1ffaf3a7a0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, {
        id: "RL615dcfd97934400690b23ae54a0364bb", name: "PLR - ALL - NSC - AA -BMW Canada | Tracking Roadhead", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{
            modulePath: "core/src/lib/actions/customCode.js", settings: {
                source: "try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking: fs ca roadahead') > -1){\n        _satellite.logger.log(\"Tracking Roadhead : message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking: fs ca roadahead\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('Tracking Roadhead', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"Tracking Roadhead eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"Tracking Roadhead eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript"
            }, timeout: 5e3, delayNext: !0
        }]
    }, { id: "RL907b89c7827f4379b8f0fd8584c85731", name: "TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/es/informacion/promociones/ofertas/", valueIsRegex: !0 }, { value: "/es/ssl/landing-renting/", valueIsRegex: !0 }, { value: "/es/topics/mundo-bmw/", valueIsRegex: !0 }, { value: "/es/topics/presentacion/", valueIsRegex: !0 }, { value: "/es/informacion/promociones/ofertas/select/", valueIsRegex: !0 }, { value: "black-shadow.bmw.es/es/bmw-serie-2-grand-coupe", valueIsRegex: !0 }, { value: "/es/informacion/financia/", valueIsRegex: !0 }, { value: "/es/ssl/catalogos.html", valueIsRegex: !0 }, { value: "/promocion/heroes", valueIsRegex: !0 }, { value: "/es/coches-bmw/", valueIsRegex: !0 }, { value: "/es_ES/configurator.html", valueIsRegex: !0 }, { value: "/es/ssl/formulario-showroom.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC288c102eb1af4adb856a44cb8e224abe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL77f8c6dc3b564430875706925fceb689", name: "TPT - BG - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6f0f45dbbda6465db561e2dabf577bfb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL687c0cce86c842c39bfa4b92fc47d4b0", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_bmw_bus_demo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7b4da4e6bd7c4ab681c4a0736e243ef3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d20326cebb240509ce2b103b33a2139", name: "TPT - SE - AEM - Adform - Site Search - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCee36a976c95c43ccbd1761ad6a7a8adf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe1be51c7c764446cacffb1ca3d864b78", name: "TPT - NL - AEM - Adform - SignIn/SingUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2980f01364d3414fb4bf37a04e02a8d3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL13abc93e41fb4bc6aa212ce0f3081163", name: "TPT - UK - AEM - Adwords - Form Submit - PLR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5978c8240d7444b7a045775af08c3e18-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2a0bcd17ef794291bc86f40ee70551d4", name: "TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1e02ad10fa0544f8bdf65c803278b5f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL71fc9df7a37c4e7794e27b4afaabe399", name: "TPT - NL - AEM - Adwords - Site search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf4e9f7d28d2d47f5954881f76f657e36-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfd7c942fccc9458eb372f8edb5575985", name: "TPT - LU - AEM - Adform - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19f36c4af0754dfab35c3e41f6fb3f23-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL10051cd63ef44f1983034c1e30069266", name: "TPT - FR - AEM - ContentSquare - MINI DCS - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "mini.fr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/shop/dcs", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbfcafbd9cd3a4ae8a5ed47f0fcd6f81e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL57f2a8f575454b6fb5814fc624c67dac", name: "W - All - AEM - AA - BMW Registration Start", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span", bubbleFireIfParent: !0, bubbleFireIfChildFired: !1 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); if (_satellite.getVar("setDefaultVariables", e)(t), t.prop1 = t.pageName = -1 == a.indexOf("nsc >") ? "nsc > " + a : a, t.prop11 = "Registration", t.prop8 = "form started", t.eVar34 = "nsc > form started", t.prop19 = "registration", t.prop6 = t.prop53 = "central form", t.prop7 = t.prop55 = "My BMW Registration", t.prop17 = s.get("transaction.-1.transactionID"), t.prop54 = "registration", t.prop56 = "form", t.prop10 = "dedicated forms", 0 != s.get("product").length) { var o = s.get("event.-1.category.mmdr"), n = _satellite.getVar("setDefaultProductVariables"); if (n.id = s.get("event.-1.category.mmdr"), n.category = "vehicle", n.merchEvars.eVar10 = o, t.products = n.toString(), "undefined" != t.products) { var r = "", i = 0, c = "", d = ""; i = (r = t.products).indexOf("eVar"), c = r.substring(i, r.length), d = r.substring(0, i), i > 0 && c.length > 0 && (t.products = d + c.replaceAll(/[,]/g, " ")) } } t.events = t.apl(t.events, "event93,event94,event3,event4"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event93,event94,event3,event4"), t.linkTrackVars = t.apl(t.linkTrackVars, "prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "regi_Start", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9d67872ff254e52b8493e8f186b400f", name: "TPT - IT - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.it" }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/publicPools/search-results/search-results.html|/it/topics/test-drive-now/panoramica.html|/it/topics/richiedi-preventivo/panoramica.html|/it/topics/offerte-bmw/panoramica.html|/it/topics/bmw-cataloghi.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4124517338d9462bb33387d85e48466b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2956ad252b434278858a4e9938e02689", name: "TPT - SG - AEM - Precision - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6e81b1e7cad3498eb1bd0535602b88b8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa271f246e1244399bf1a7d05c16291c9", name: "TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19215bd93ddb414da0034d7bc1698375-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc74c7580560441749e686924270ac29d", name: " TPT - IE - AEM - Gtag_DC - iX3 Build and Price Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.buttonLarge.ds2-tracking-js--event", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/x-series/iX3/2021/bmw-ix3-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC607afa0a83124ef08cdb4739014d1ec6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL10cadf0a98ce42d19bebc8f72ad61c4f", name: "TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf7fef1a6bf334b928cc13d8923628b65-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb6a026c3b7d446bea899ce7a0b6b0adb", name: "TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/configurator", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC074dbbe2823f49e8bd984a40199af14f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1216e888cde247cd9e2cbbf161502590", name: "TPT - JP - AEM - Adform - iFrame TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6109128a3dd943ffa084142a2d72dc58-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL269167bcb4884bfd8bc54e2b3a8c1a5c", name: "TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe1f152f511fe441787adc74222e32b73-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb168b2bd1fe5424c8715b6c9eada8652", name: "TPT - DE - AEM - ContentSquare - Popup Save configuration - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "popup_save_configuration" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC25af39d4a3734d4eb4e1b56e1f3e9010-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc0b2c112b9bb458fbcfd6b34ae53124b", name: "TPT - SK - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC47caa5a5544b4d15832573b86d2a9169-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2ce5e63db64499f8421373f42a6eab6", name: "TPT - HU - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC180731a69a2f4608a969e44e71363b30-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL46d182e7bd0444709f803fccd9379664", name: "TPT - IE - AEM - GTagDC - Download Brochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfd7a6c263b14441a98b6f333ecaeb604-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ea96151ba74464cae179b58752b6db1", name: "TPT - NL - AEM - GtagDC - Service form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe1f0dc034d3349bfb4232cef4323d618-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8782bab0491548e781fe074247616ebb", name: "TPT - RO - AEM - Adwords - Download Brochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb35e10d3aca24ca88b24c564c8096f56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCae36ddca7eba4493ab0136e22c363ad5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL384c4028446c4630bc6c38c61389d8d8", name: "TPT - AU - AEM - Facebook - Finance Offer - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd4bfadfde96e4ae8bd49defc2f64a8e8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL72446c093ec24028b3aef08599808cd1", name: "Test DCR", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "tracking:dealer calender", elementSelector: "#returnVechicleDate", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { t.eVar1 = "hi" } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 5e3, delayNext: !0 }] }, { id: "RL117d3e6d6f8a49f29650154eeae333b2", name: "ACDL GROUP - ALL - ANY - DLP - 0900 - clean datalayer field missing/empty", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 900 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2b367d0dea4a4f0cb45211e7f30b9b9b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc30e2b3588af42a0bf9dd41653c48014", name: "TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC938c6324394741e5acd77704e661f418-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc25092473cd148a393003913097a9e18", name: "TPT - UK - AEM - Facebook - Forms Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC85f368857fe54f13bde4bc1efc408a97-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3b22530da5fb4c6db2b56ca3ef248fe6", name: "TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2297e21ebaee47068d2f950039acd68d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7294b5e149414ca381165081f849d801", name: " TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://www.bmw.ie/en/configurator.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea8ef9294be24d80a57abf5129cae3ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85a41bed472d4d50be95cfa82cefabc4", name: "TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd3cbca9f0f864880a8384ff6eabe58dc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf9c14524554c46cc940c6106fd44d2ea", name: "TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5ab5e7a5fc974470b95021ff4e6ed892-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLff60dd360c0a4a6da227e4a61ce69dc9", name: "TPT - BG - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaa349197aa434697abeeb914eb7f4df1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6344941bffe64f35bcdb11f390af2089", name: "TPT - NO - AEM - Adform - SiteSearch - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5a0e451c2ef4b6bab39ed6176bd3451-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe91bd6689cc7491a929e48f7b7f124bc", name: "ACDL GROUP - DE,IT,UK,JP,ES,BE,LU,FR,SE,FI,NO,DK - ANY - DLP - 0060 - Hashed UCID sync For BMW Campaign", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26e61a4ed9524e15b2e4233fca635b5d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfb26a093bcca4e81b783262770517566", name: "TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "body > div.successpagerfidownload__base > form > div > div > ul > li > a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c8b6f147d5a4213ad54484c67ec0d7a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL71293efa60744e62808d4997e8e0b125", name: "TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "mini.it", valueIsRegex: !0 }] }, timeout: 5e3 }, {
            modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/it_IT/home/shop/dcs/nuovi-veicoli/checkout/", valueIsRegex: !0 }] },
            timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC38531700b26e473188f529fb8afa4dc5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLcf1cfdfc6b7d439ea3f0659c388ae1bf", name: "DCR - All - AEM - AA - Tech Hub", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_filter" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_series_selection" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_body_selection" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_load_more" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_layer_open" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_layer_close" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_layer_link" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tech_hub_link" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (t, s) { try { var a = _satellite.getVar("snapshotDL"), o = _satellite.getVar("smartPreviousValueManager"), n = a.get("page.pageInfo.pageName"); _satellite.getVar("setDefaultVariables", t)(s); var r = _satellite.getVar("setDefaultProductVariables"); r.category = "new vehicle", r.merchEvars.eVar53 = "new car", r.merchEvars.eVar54 = "build to order", s.products = r.toString(), s.prop59 = a.get("product.-1.attributes.configID"), s.eVar59 = a.get("product.-1.attributes.configLink"), s.eVar135 = a.get("page.pageInfo.devEnv"), s.prop1 = -1 == n.indexOf("nsc >") ? "nsc > " + n : n, o.update("pageName", s.prop1); var i = _satellite.getVar("AA-componentDefaultValues"); s.prop2 = a.get("page.category.pageType"), s.prop3 = a.get("page.category.primaryCategory"), s.prop5 = a.get("page.category.subCategory02"), s.prop19 = a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), s.prop42 = i.primaryCat || "datalayer field empty", s.prop43 = i.subCat || "datalayer field empty", s.prop44 = a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"); var c = a.get("event.-1.eventInfo.eventName"), d = a.get("event.-1.eventInfo.effect"), l = a.get("event.-1.eventInfo.eventAction"), u = a.get("event.eventInfo.cause"); switch (s.prop12 = a.get("event.-1.eventInfo.timeStamp"), s.prop13 = "bmw", s.prop50 = a.get("event.-1.eventInfo.element"), s.prop52 = "default", s.prop53 = "ux", s.prop54 = a.get("event.-1.category.primaryCategory"), s.prop55 = c, s.prop56 = "interaction", s.prop58 = a.get("event.-1.eventInfo.eventPoints"), s.eVar17 = a.get("user.-1.profileInfo.visitorID"), s.eVar34 = "nsc > " + d, s.eVar71 = a.get("event.-1.attributes.requestedURL"), s.eVar136 = "2020 - 06- 15 tech_hub", l) { default: s.prop51 = l, s.prop57 = "internal click"; break; case "tech hub series selection": s.prop51 = l, s.prop57 = "drop-down menu"; break; case "tech hub layer open": s.prop51 = l, s.prop57 = "open content"; break; case "tech hub series selection": s.prop51 = l, s.prop57 = "close content"; break; case "tech hub link": s.prop51 = u, s.prop57 = "internal click" }s.linkTrackVars = s.apl(s.linkTrackVars, "products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59"), s.events = s.apl(s.events, "event917,event918"), s.linkTrackEvents = s.apl(s.linkTrackEvents, "event917,event918") } catch (a) { _satellite.getVar("catchblock", t)(s, e) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Tech Hub", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5e2ea9f8e9ac47b29195642ff535f6dd", name: "TPT - AT - AEM - gTagDC- Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCabc2631d05814f41a8d838c6b8b6f5c2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e39b5ac503b4ba4a7b6dc3915194487", name: "TPT - AT - AEM - DoubleClick - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "isAdobeAnalyticsAllowed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbb0749e8848e446abff3d1da61ea23f1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0720060feab74f19afef1060c94aae23", name: "TPT - NL - AEM - DoubleClick - Used Car tool Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (void 0 === _satellite.getVar("triggeredCall")) return !0 } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdf92cf3183f4413fa1c6e202056580c4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc3548bbe346c494995be0e7de1035577", name: "TPT - LU - AEM - GTagDC - DLO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa7ea40bfe3a94100a16a18514a4a7650-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCec427f776fe142bdadcb39eef15ace73-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2292c27cb8904914ad0104ba3638559c", name: "PLR - All - AEM - Custom Code - Performance timing", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function () { try { if ("hidden" != document.visibilityState) { window.perfTime = window.perfTime || []; var e = a(); if ("ok" == e || "unavailable" == e) o(); else var t = 0, s = setInterval((function () { t++, "ok" == (e = a()) || "unavailable" == e ? (clearInterval(s), o()) : t > 100 && clearInterval(s) }), 50); function a() { try { var e = window.performance || window.webkitPerformance || window.msPerformance || window.mozPerformance; return "unavailable" != (e || "unavailable") ? e.getEntriesByType("navigation")[0].duration > 0 ? "ok" : "wait" : "unavailable" } catch (e) { var t = { from: "AA", type: "Rule", name: "PLR - All - AEM - Custom Code - Performance timing" }; _satellite.logger.error(e, t) } } function o() { try { var e = window.performance || window.webkitPerformance || window.msPerformance || window.mozPerformance; _satellite.logger.info(e); var t, s, a, o, n, r, i, c, d, l = {}; "unavailable" != (e || "unavailable") && (t = "ok", _satellite.logger.info("SATELLITE : performance tracking : " + t), s = document.location.protocol + "//" + document.location.hostname + document.location.pathname, a = document.location.search, o = document.location.hash, n = e.getEntriesByType("navigation")[0].requestStart, r = e.getEntriesByType("navigation")[0].responseStart, i = e.getEntriesByType("navigation")[0].domInteractive, c = e.getEntriesByName("first-contentful-paint")[0].startTime, (d = e.getEntriesByType("navigation")[0].duration) < 0 && (d = 0), l = { status: t, path: s, query: a, hash: o, timeServer: n, timeServerReact: r, timeDOM: i, timeContent: c, timePageReady: d }, (n < 0 || n > 6e4 || r < 0 || r > 6e4 || i < 1 || d < 0 || c < 0 || i > 1e5 || c > 1e5 || d > 2e5) && (l.status = "error"), "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && window.epaas.api.setPersistence("bmwdtm_hq_perf", JSON.stringify(l))) } catch (e) { var u = { from: "AA", type: "Rule", name: "PLR - All - AEM - Custom Code - Performance timing" }; _satellite.logger.error(e, u) } } } else "hidden" == document.visibilityState && _satellite.logger.log("khubruy performance timing hidden!!") } catch (e) { var n = { from: "AA", type: "Rule", name: "PLR - All - AEM - Custom Code - Performance timing" }; _satellite.logger.error(e, n) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }] }, { id: "RL19499fde50e54e4b8c42c21c3a5e9d94", name: "TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0a7a2cef06af4495b2536f6b0c4bdaf3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1672691ef7db4d36bfb57ed502048d79", name: "TPT - BG - AEM - GTagDC - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC17a7c7d4425645de857587ac3a1d5f25-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4366af6cab0340a091ff206fd1c7c644", name: "TPT - RO - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0338500b760d4d938cf7eb915bf86e31-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7a58e112628342dfa8372a15f12a0e9c", name: "TPT - AT - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6666c88a4c94470ea58c6a32f651d582-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3facb32d1fdd4e3990fb02fd1d8fd54d", name: "TPT - FI - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fI", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc4565f5841b24243a9b98d779a8fdffa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL97909f479263411ebfec0157ef1e89b5", name: "TPT - SK - AEM - Facebook - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC35a287b81e8f40f4a0fc04eb42a1c73b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLadf85f467960439898cdbf2db26e2f12", name: "TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC603fd2f0a3bc4ff4858e75b23cbfce3b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe98aa5513a2463ebbc1c1823c02d97e", name: "TPT - DE - AEM - Pinterest - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.de" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC19917495acd1487080a5d3b3712ef4cd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL10c8937e23c14cc69c98dbed40bc7dc1", name: "TPT - SE - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1df46a5326b349f7a36066fc4ee08853-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe6c88d896f6044b79835936abfadaa89", name: "TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6e87bf1041cd4910972c170d1a0527dd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL566a400eb45c44749947d18f7e2d002a", name: "TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0c8030b7e97145709449b5927ef9dda4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe8634a9b3fa34f13a28d1d75d6446391", name: "TPT - IT - AEM - GTagDC - Form Submit - TDA - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/success-pool/success-page", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2418c1af8ce14eaba5da10ff693852f3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcc00fe94934b41f9b9a6271fb548d674", name: "TPT - RU - AEM - DoubleClick - Started DLO - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4e977e887ce348e1a1114455d2ca4f0a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3d00c364eda04cb7a99522dea95c956f", name: "TPT - NZ - AEM - Facebook - CON Test Drive - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "input", elementProperties: [{ name: "name", value: "c-submit", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa0822c2c52ad4e51b51799372f1ae167-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL15e31b0117ac409cadd1f16667926c17", name: "TPT - GR - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdb0633aaf45a460d9195f092437e1461-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL92fe3ca473904c41b191eed658eb0bd7", name: "TPT - AT - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC80dc180f19744c7084ccbdde60575222-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6b3681cbb7ed41f9855a271d1ebab64c", name: "TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC677e3482d5d44d869a51550e74c7d71e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLee406909a88c46f68fca3308cd7178f6", name: "TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC757819fc1e7e4c1a80247a640e98823c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf28627dd26b6497a9adfec73e0bde0c3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc8b7ca971164428e8bf3cb369927f5b3", name: "TPT - IE - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC76548c00cab04425990c0ec5f13b0847-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8a82c6b2deba426eb9e7e2c7bb6ba58a", name: "TPT - BG - AEM - Facebook - Download - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC171527699a994a44ae31328ec8f1b08c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL29fc20b8e3d149679b4014f1d8468b69", name: "TPT - PL - AEM - Adform -Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea77359c110e415ebe484d136af9edc6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfbd5e03047054f44b3c482b0ecfbcc2c", name: "TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCac3a13ec6ebb4824813fefeb1b2bcb97-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd64fb5d785e042be83c6aa074c25585c", name: "TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0aa058ef887c4031bb56853581abe038-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2ec2dc60200543a696b17cc1a4d3a9b4", name: "TPT - IE - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4356c0fdfbb44efc960239e98d4617c7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLffc065aa2c04489390402b905e0b501d", name: "HT - All Pages - Consent Cookie Transfer", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-cookie-transfer", (function () { e() })) } catch (e) { _satellite.logger.error("PLR: Cookie consent transfer ", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = ["bmw.pl", "bmw.se", "bmw.no", "bmw.dk", "bmw.sk", "bmw.hu", "bmw.gr", "bmw.cz", "bmw.ro", "bmw.bg", "bmw.no", "bmw.si", "bmw.fi", "bmw.com.br"], t = _satellite.getVar("topLevelDomain"); return e.indexOf(t) > -1 || "true" != _satellite.getVar("splitConsentEnabled") } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3565361985be4ded8162a0c00cb9e5a2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbf6ce455b2794626bc7ced386ae2e1e7", name: "TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3d19beff81b1443c8a3c4c58e632b590-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb4a0f59dd8ae44918bd890989c73cd5c", name: "TPT - RO - AEM - Facebook - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcfa8c501d5f64114a8173948e45d6676-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL72284316a9f54e8fab31204a77290e15", name: "TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9cba915b256d416887d1178def55ce2a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL58676c9b5f7d4fe2bc392483ab557248", name: "PLR - All - AEM - Custom Code - Page Speed Tracking 3.1", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCaf94e7d3d2994fa3bc5d0017110283ce-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaf3c2a0e910847fe8e8b1b423f194fe5", name: "TPT - NZ - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC95d4b21eb8f1482c8261ed8f1deeea70-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL56224c3ed596492087c7ff1235594be7", name: "TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7c4e420639a348b5a76496760994b962-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6ac9136e1b104346b119e23545fce581", name: "PLR - DE - AT - Session based Vibe segments", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger", (function (t) { t.detail && t.detail.processing == _satellite.getVar("consentMap").AdobeAnalytics && e() })) } catch (e) { _satellite.logger.error("Visitor Reco Script", e) } } }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "isAdobeAnalyticsAllowed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/domain.js", settings: { domains: ["bmw.de"] }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCba68d8ae951e46e4877bbfc09820f3d7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RLd250959a40684f1281e308901419cbc9", name: "TPT - HU - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC48ff6d5a58994b1d9e5cc5d678e6dbda-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL87130787516e41769a08a9cc5f4c202d", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_general" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3f6b9b40683d477192751d7dd8dbc1e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb373ebdde83241ab89dd5e625553f484", name: "TPT - PT - AEM - DoubleClick - iFrame Form RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3e71ac2acd3c4628941c54275f56f228-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLff665d521aa74cef9c878cdfdaea1e3e",
        name: "TPT - SI - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0327d6d94c454609a9ed0654bf6d1d83-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLd734d87ff69f4fa09709dcd43f7a7b93", name: "TPT - LU - AEM - GTagDC - BrochureDownload - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 90 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9e620559829240aa9e466e27a841633c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL863d704fa8dd44939f24ea7e6e13c277", name: "TPT - BG - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC44e7bdbd4f9d4403bd7c074eee63042f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0c1da701aca04ccdafc9f87a0fe08f82", name: "TPT - FI - AEM - Adform - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC15e2632e2a85450fbf7d5610cf57df1e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0b5519ccd6df4ab099771e0acd65460e", name: "TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://discover.bmw.ie/get-a-quote/", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcbbb0670de0d43a79e695bb3bacd158f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8127136112b04bb98872a253651b97eb", name: "TPT - BG - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc3e0463d1d2f485abbe4374ed9b86c02-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLed4b87d0598648e898b11c5e7cf80f04", name: "TPT - ID - AEM - LinkedIn - Contact Email Button - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[title="contact.id@bmw.co.id"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd6fd2b18435e449f821cf6c35b1d0ad0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc0a9fd5bda0d416eadae1193eb6abe07", name: "TPT - NL - AEM - GTagDC - Site search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6410eeca14484283a03f57137a4efca7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85cce74e1926469c98aa6a1acd0c75e5", name: "TPT - UK - AEM - Facebook - iFrame Form ROI - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC717a52d4721b4620836957dcbab31753-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3e4abd80168049df8a64baeea3a79fe9", name: "TPT - BG - AEM - Adwords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7feb42dfd1f143c2a9383f1cec7436d9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL885903fb829c4f08af0a1d27b4e16fdb", name: "TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-button--responsive-line", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1cc8a36ec43f443fa4ed741486eba8fd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb79856dbae304c6e8994a80821ea4b01", name: "TPT - BE - AEM - Facebook - Make Appointment - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfafc946be20e48dfa1301326aaa9b569-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa1b2487649144d539a8d83392ac44bb9", name: "TPT - HU - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7a899ee2422d4c3db927456eb01a7c47-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc9f922efe7d94ef1b6709f9561b6c482", name: "TPT - AU - AEM - Floodlight - Outbound Link - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe3a2fffcaea9457d8de11fc5aa94ddd7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6788d21d0d05457c8e65c5e287fa63fe", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - generic deduplication", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa874d520ef2f43ba97df4ac15ef62060-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL203fc3d8e7d14039845f9dd14900e6e1", name: "TPT - RU - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa6d0e85f75cf4d63b6689fce47f70afc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d67bbfe4c0c47338247d1f47d0f8904", name: "TPT - BE - AEM - Adform - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC64788f5ac4324145bbb3226e4170e169-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeee868b5ea334dc7bba76b4525453efb", name: "TPT - BE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6f735a7d7ee74b79b69fd0513d92743d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7f7f11415b2f42f6911fa8fb4402218d", name: "TPT - RO - AEM - Adwords - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC06e2e0bbb35448ff83a7128a62bc0ec8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbdd25d6bad224f0d9d991723e41eed55-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe2958a464d9044868c7ac8a45320ccc8", name: "TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5f3dc4e027904238a6d8ad76625cc6c3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC69221e27f7c141ceb7305694296d0ed0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb5e9476f539847258c69a2a29b4bc636", name: "TPT - BE - AEM - Facebook - Site Search - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/publicPools/search-results/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4eed7641da154a8d83dc66190b11ccd7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL498685432d474040bccdccaff0c0975e", name: "TPT - DK - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbb485c24a7de4840a82aaccd2b740bb5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL33665d6746b84af2bfecbaae6d9e020c", name: "TPT - IT - AEM - Floodlight - Form Tracking - RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC23840de0e9fa4a0bade018fa2b2215b1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL62324a0dbb2e431788a5be7b04cc4861", name: "TPT - RO - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3a02935aa36847b08a0f4173c5343ead-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ee9511a8220417f9c6916dc7e68499e", name: "TPT - SI - AEM - Doubleclick - History Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC05a50439630a4b5592018782adde8d69-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL32d84122389b4493be5bfc35c0a275a3", name: "TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "bmw-efterar-vinter-tilbehor.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34605d9cbc064906936d5fda7cadcd8f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2de264b51c294defaa489e241cd105db", name: "TPT - NL - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC26105cfc68004f1fb701251d1c454355-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe8d7b3483c3e46508a81bc550900c348", name: "TPT - SK - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa076b6c4b4ef4aebb1dd2fdd0f8d8855-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf45a0da50baa40979ed0e5a2ad1ca384", name: "TPT - BE - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe188e85c27504610b7e3e8a699b864ec-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3a03df43b8be4bc6bc482371d80762b1", name: "TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb797f940766247ff978d45b8cab9fca9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf6d036e1b8ce47e896db979a5183d23e", name: "TPT - IT - AEM - Gtag AW - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IT" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf01fb20430746af9ca3af987b26ee32-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL990f4c213d5a42aca920294c03d91137", name: "TPT - FR - AEM - Facebook - DCS Form View - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC958089e17e174f1d861c18461d6298e2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL74e1e8a4abcd4709a28c4759e3f6841a", name: "TPT - IT - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC797ae5acb1274e63b247224a06114e9b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL171ae6d90c804ff7ab2486fc90ce2b67", name: "TPT - CZ - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC338e273659024276a625776eac150046-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLee70727decd1469db03a403e4835403c", name: "TPT - BE - AEM - Adform - BrochureDownload - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "pageload_datalayer_ready" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/publicPools/success-pool/success-page-rfid.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf3005dde5eef4c479b57c2d5f940f012-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2e6d1218e6384675ac62fc0a826126e8", name: "TPT - SK - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCed1d175343444753a1a9f7479b6fe7e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ba24a04a9f14aa1845adeb31cfd9ef4", name: "TPT - AT - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC294d8f32e4e447459880480569d6829d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa90ae098c94d46709b776e01a8632d36", name: "TPT - GR - AEM - Facebook - Download - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63029786ffc240d493fb0da725e67c32-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbbc6f84d489c41da95c19a6eed2f5644", name: "TPT - JP - AEM - Adform - iFrame RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1a308bcdf0c4482994795972006c728c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2f1d8b93c094774bcf6492e2a12699a", name: "TPT - NZ - AEM - DoubleClick - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0b186963e3fb442c9bd93be8a9d755d6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2b5df35a2df04a6ca5920a1539071f18", name: "TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd05f408b79cb40b9b73528700c82f940-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7529a0552a224672a5b91a89e0d8df8f", name: "TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC32b2d43d6a8044fd93294e6459d1c2be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6195a6c0cd1643d59204646c8d1741bd", name: "TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd14de292df3340b2b82d07da83826ad4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa8adf98dfa494ddca877949870cb9816", name: "TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5e9240aff7814fec867f9cdb6d6b4c33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6f744f76da704da6a61a75e809b1dfff", name: "TPT - DE- AEM - Adform - SignIn - SingUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1bfa894e00f242cf8a47acba86f14f7b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL962ef7a4def34c7fa8cd81201d485c0b", name: "TPT - GR - AEM - DoubleClick - Adobe Form - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0a4113fc214a45d7b596cebd440c3f62-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9cbf93e3d74346f295df2aea8b9044c3", name: "TPT - UK - AEM - GTagDC - iframe_forms_auc - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_auc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc057f7b7461a4466b8e91147d13ad41e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL254eee74a7b64342875b49eb1450e9da", name: "TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcc4a14b0655b4daebea7d4069d0da76f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3d4d4072eda14906b8fb1037b483f65b", name: "TPT - RU - AEM - DoubleClick - Configurator Last Page - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div", elementProperties: [{ name: "className", value: "h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8baa62113a244dfd91d70abec0b91f9e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLc3d8f69a800444c2903c63022d0b1d14", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_invoice_copy" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c177d6a91e14003a59e393a624dd31f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLc7d873dcb8a1401c88846dd5458a920d", name: "TPT - IT - AEM - GTagDC - Iframe Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa6915a20973a4e5b9506d70020f456d8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf096917e65d1488dbe3cba2116e4a076", name: "TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2ceb3a907c054aceae05bb5b946f87cf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL52016587fb7142a5b91ad86684fbf028", name: "TPT - RU - AEM - DoubleClick - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8fb9e089b24148eea7123b9ad64bac7c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8a5efdd16aaf43a9b4bcc82ea86f2d49", name: "TPT - NL - AEM - Facebook - iFrame - RFS Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfs" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd48c750dade64123b6e3cd205f620303-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL99b53ea9302f4fba855a2a0019f4643f", name: "TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdcad3e84d29347b7b6de01c0a6a6db7c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2d5e8f8388064822b06d0b2d1700f807", name: "TPT - UK - AEM - Adform - iFrame RFC Download Forms - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/forms/pdi_bmw_i3056_rfc.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4852bf852a054416aff9540f88479f38-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe23e66c73ef446d981033d3bc65ec97e", name: "TPT - BG - AEM - GTagDC - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb60633883e334e16a748ed3ebcdddce4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL10b2797493a64e31a815b75423b62a86", name: "TPT - UK - AEM - Facebook - iFrame Form RFI - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4f4f0cdddffe46e59a0d57d9972f6c92-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbd3ff93f1324424794bcf5d863108659", name: "TPT - GR - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC64513407090a45d59707525483e02e16-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0a57a7682f9d4fb7aa97a8016f7d6296", name: "TPT - CZ - AEM - Adform - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf6fd20ad60854777ba1e7e9bad57dd19-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc2296f67b4384ae1bf1310a09e036ea3", name: "PLR - DE - All Models - Custom Script - Visitor Reco Target", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/neufahrzeuge", valueIsRegex: !0 }, { value: "/all-models", valueIsRegex: !0 }, { value: "/index", valueIsRegex: !0 }, { value: "/home", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.de" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf356265a6f4b49e484312b22ae1f4fbe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL452f56d3abd0464181e824f86032cf3c", name: "TPT - ID - AEM - Facebook - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC695262776b7e4bdcaa93b2210746753c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf560ac5142d448e188e2051f75ed9519", name: "TPT - ZA - AEM - Adform - All Models Buy Now - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "//buy.bmw.co.za", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en/all-models/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0947bec250f34a899cec5030e002604c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL77ab1d8273fa472180d6c9b4f0909fb9", name: "TPT - IT - AEM - Floodlight - Search - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC36368f42081741d8b1314eb72fce9391-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLee46311307d8469c91e632838ff384b6", name: "TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd69b76d017084d2b9f7fbd50292ad1c5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa46e4f4ad1247c4b0707525f197c806", name: "TPT - MY - AEM - DoubleClick - Multiple pages -  PLR ", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/x-series/x7/2021/bmw-x7-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3693b3225f574ed488b52197c37e9051-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ba56377424a4f86a9f298ea0e14583e", name: "TPT - ES - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7d8fc7ef06184f6fbc9e95b4cafa6198-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6008a2e0d6ba4e19993bf94adceff649", name: " TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/redirect/retailer-enquiry.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdf41daa423f5485aa1d81de9205be278-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL23a31218dd30461e8027301e0c5474ff", name: "DCR - All - AEM - AA - DCS Canada", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "tracking: fs ca roadahead", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.effect"); if (s.get("event.-1.eventInfo.eventName"), t.prop27 = s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", s.get("page.pageInfo.pageID")), t.eVar135 = s.get("page.pageInfo.sysEnv"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop1.indexOf("sales >") < 0 && (t.prop1 = "sales > " + t.prop1), t.pageName = t.prop1, t.prop4 = s.get("page.category.subCategory1"), t.linkTrackVars += "prop4,", t.eVar34 = s.get("event.-1.eventInfo.effect"), t.eVar34.indexOf("sales >") < 0 && (t.eVar34 = "sales > " + t.eVar34), t.eVar151 = s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"), t.eVar152 = s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"), t.eVar153 = s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"), t.eVar154 = s.get("component.-1.attributes.referringComponent"), t.eVar155 = s.get("cart.attributes.offerID"), t.eVar156 = s.get("page.attributes.checkoutID"), t.prop42 = "vehicle sales platforms", t.prop43 = "indirect sales", t.prop19 = "digital checkout solution", "sales > dcs: order submit success" == a) { var o = s.get("page.attributes.purchaseID"); t.events = t.apl(t.events, "purchase"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "purchase"), t.purchaseID = o } var n = _satellite.getVar("topLevelDomain"); "mini.de" != n && "mini.fr" != n && "mini.be" != n && "mini.lu" != n && "mini.it" != n && "mini-int7.com" != n || (t.prop13 = "mini"), t.linkTrackVars += "prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID" } catch (e) { var r = { from: "AA", type: "Rule", name: "DCR - All - AEM - AA - DCS Canada" }; _satellite.logger.error(e, r) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "DCS", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL27ebdaefc9414dec82d188c626f7dd74", name: "TPT - UK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa5c913ccd87745a49fc002790ac72318-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL130adc59eece4d6e95e9a453b685d8bb", name: "TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Start - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb48641ec97a24c81b079d4571f9cb040-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa65b72b1a0f42998396ad04e97069f1", name: "TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd3fbaebfd1c94642bd3f2cab2fb2bfa6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL38e8d8703591429baa30ffc2502baa91", name: "TPT - AT - AEM - Pinterest - TDA - FormSubmit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/publicPools/success-pool/success-page-tda.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC84a96cf332284a188cd6a1529a812731-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL91c0f469172a4783879adf03db08ddc3", name: "TPT - IT - AEM - GTagDC - BookTestDrive - ButtonClick - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/it/topics/test-drive-now/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7883973b57e94bfca99818dab6ab327d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd60163b48549425b953494b8b658395b", name: "TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb0607f8862964f9f8425079fa48de300-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8270f4c8536d4a848314d95fdb16224c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa586b9a4f94d4659b2f2412f970c071f", name: "TPT - GR - AEM - Facebook - Site Search - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5a2d1e9e881f4194bb3db821da6dae7e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL87d75269fea844baa4e5a8ec45b1f418", name: "TPT - MX - AEM - IgnitionOne - All Pages - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC38bf8a9fd033438294cd939d9ac64ad3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL41459df619ba4abe9fe28fbfe4e5a7d9", name: "TPT - GR - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0eca3fdc6185484493f245bdd5b0dab4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL226c0c6f972347f0b6c6c1a8f9be40ab", name: "TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5b5ee94c74d343a58b8d1e9117bb2b23-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ce1288f690340a3a2851f88977b950c", name: "EBR - DE - AEM - AA - Finance Calculator", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("tracking:fs showroom", (function (t) { t.detail && (_satellite.setVar("financeEvent", t.detail), e()) })) } catch (e) { _satellite.logger.error("EBR: Finance Calculator", e) } } }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("financeEvent"), a = s.event[0].eventInfo.eventAction, o = s.event[0].eventInfo.eventName, n = s.event[0].eventInfo.type, r = s.event[0].eventInfo.timeStamp, i = s.event[0].eventInfo.cause, c = s.event[0].eventInfo.effect, d = s.event[0].eventInfo.eventPoints, l = s.component[0].componentInfo.componentName || "fs showroom", u = s.component[0].componentInfo.componentID || "fin > finance > fs showroom", m = s.component[0].componentInfo.componentType || "native in-page", b = s.component[0].componentInfo.primaryCategory || "finance", p = s.component[0].componentInfo.subCategory1 || "offers", g = s.custom[0].product.productInfo.productName, f = _satellite.getVar("snapshotDL"); t.prop1 = "nsc > " + f.get("page.pageInfo.pageName"), t.prop2 = f.get("page.category.pageType"), t.prop19 = l, t.prop41 = m, t.prop42 = b, t.prop43 = p, t.prop44 = u, t.prop56 = o, t.prop57 = a, (d = "na" == d ? "datalayer field empty" : d) && parseInt(d) && !isNaN(parseInt(d)) ? (parseInt(d) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(d) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + d, ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = d, t.prop53 = n, t.prop12 = r, t.prop52 = i, t.eVar34 = c, t.eVar17 = f.get("user.-1.profileInfo.visitorID"), t.prop74 = _satellite.property.name + "|EBR - DE - AEM - AA - Finance Calculator"; var v = f.get("product.-1.attributes.mmdr"), h = _satellite.getVar("setDefaultProductVariables"); h.id = f.get("product.-1.attributes.mmdr"), h.category = "vehicle", h.merchEvars.eVar52 = g, h.merchEvars.eVar60 = f.get("product.-1.productInfo.manufacturer"), h.merchEvars.eVar10 = v, h.merchEvars.eVar51 = f.get("product.-1.attributes.bodyType"), h.merchEvars.eVar48 = f.get("product.-1.attributes.modelCode"), h.merchEvars.eVar65 = f.get("product.-1.attributes.modelName"), t.products = h.toString(), t.linkTrackVars += "prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "finance_calculator", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLef4ba1854ad440ce8466bc6d709bf2fb", name: "TPT - UK - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5db24e10a91844ca93a3d06f6785c9b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0469683682a1480d8e07a1918452a7b7", name: "TPT - FR - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2e4d08c524634685a596e83040bf90ac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb2e6dacf83d041099910561aaea7866f", name: "TPT - SE - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbd88e30aad0d452099ff750a409e6046-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb1de3fb05b1744bca897a08c5bef09e6", name: "TPT - SK - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCef419979b9c44e3cb036356083c09af8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6ee2a70e2b4d4dcdb333e815a384058d", name: "TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC628b391da5a945bb9e8703231d36660f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbb298547f08246fdaf73588a3bb262ba", name: "TPT - HU - AEM - GTagDC - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC425e6443e4d443e8a41e0748cea096c0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLff85959c37f24ae8a9612aa244afe46a", name: "TPT - DK - AEM - Adform - Firmabil Other Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: ".ds2-buttonlist--item.ds2-buttonlist--max-width", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-accordion--list-item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 100, elementSelector: "a", elementProperties: [{ name: "title", value: "Bestil pr\xf8vetur i den BMW du dr\xf8mmer om", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/da/generelt/produkt-tilbud/firmabil.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC568257196d914ceaa6d6f54a37a98d2c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL50461d1e41a74150a9a15b6d3973b1c4", name: "TPT - BE - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC43088624f5344d2a9087e4c525918bc1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL455efef1fd5e4647a2738e75dfe6e9be", name: "TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC157ed5417ca84fc4ba8eb0fdb8989f0e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL85a3cb7d15294611b0054ad34a563b3b", name: "TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC60903d50068f48618766d6c5d81360ce-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL27f88bc338a347e1a82f8905b4bd2e44",
        name: "TPT - ZA - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfcf6eb09a6d049ed8027d0b95e4bd2dc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLb6d6a1b54ebb4b7e826e2fc9cfd3879d", name: "TPT - GR - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa26a1e1c5ba94334803ec4ebf403f745-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0623366c7086488ca2e00b4015a9874b", name: "TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC673aac93749e4b24b9fdcebf618ca4be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0c4d4b804b9748c98c32688aef9b7e70", name: "TPT - SI - AEM - Facebook - Form Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3eaf5f0ce1794495bba2354107250253-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL66dc9db23e39468186772833e1f11864", name: "TPT - NL - CON - Adwords - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "mini.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8de50e7beb6e457da11a400235533d93-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL059fb627bbbb4a688bb76b4bf41342f1", name: "TPT - AT - AEM - Facebook - Zum ConnectedDrive Store - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'div.ds2-accessibility > a[href="https://www.bmw-connecteddrive.at/app/index.html#/portal/store"].button.standard.expand.ds2-tracking-js--event', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdec4b24c16214986ab8012d4dcd5135d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd66d8c1a0d5f4784a11dd14b82ac7014", name: "TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2966ae40456f46f4b5fab58f20d4a4d6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLca7e16a87a3d474ba66bc729c82d85ed", name: "TPT - TH - AEM - GtagAW - Link to Used Cars - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "usedcar.bmw.co.th", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa637b5cdd776485f8edefe917ccfb4b6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa0adb397699d4f5e9f8d658aa965cfac", name: "TPT - NL - AEM - Bing - iFrame RFO Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC29dd4c349ea448bf91909383403a63c2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL137d7f2bc621445d83adc6cb537e7ef4", name: "TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/requests/brand-switch-tda/tda-bmw.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/forms/tda/test-drive-appointment.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "name", value: "guideContainer-rootPanel-toolbar-submit___jqName", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5aad604e808a4665a3b0209ee0d89898-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL97a77e07f72f4eaba8bb3f559920b651", name: "TPT - SK - AEM - IgnitionOne - TDA Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5edfa6a1a6214a6cbe756da750e2b1c0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3f5633c8d6834481a1a1ae285bf2bd11", name: "TPT - CH - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC832981fc0c81451d906f81c277eb589b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLac7a7c2978064caab8ae928419dfbdb2", name: "TPT - IE - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC601e288cb5f44a23b1a74df0931cc93e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ac998261dfd4201bae7818c398372c2", name: "TPT - SI - AEM - Adform - Site Search - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC835f293cea84496a971502239bc35724-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL582233d086a34859b3d1b12cf8822f4b", name: "TPT - NL - AEM - Gtag DC/AW - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC95308840865d48b8ae85c5cedb30c8c1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL913db67911ad40e7ae137d12dbf67211", name: "TPT - AU - AEM - GTagDC - Finance Offer - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC62bdbed6367e43ef94ebbcb935ea7123-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4ac36fb478f74d11b2442587af0df5c7", name: "TPT - NL - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.nl", valueIsRegex: !1 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa6fa91e8c6d04fa9b8c0e04bfeda4c12-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL462dfa5961a14eb2994f1cd914564c9a", name: "TPT - CZ - AEM - GtagDC - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe42113db991e424798cd5b022a7a27bf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa979f4a5202847e195158ff6778021bc", name: "TPT - GR - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7770c0fd68064fdf9d9e193cd58fb356-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8eccb4a356b34d4bbef343f8b53541ef", name: "TPT - MY - AEM - GTag_DC - Multiple - PLR ", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html", valueIsRegex: !0 }, { value: "/en/all-models/x-series/x7/2021/bmw-x7-highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC66e5dcdf6ce44441aa4079dc642b9fea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2801c88151a46758bc3a9cf368b5cf1", name: "TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9eddd83bb00d4df699c9a288d4a0cd1c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaa6daa65fa044280865b7228e7dc9114", name: "TPT - NL - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC92afbf36bd914db09234fe2766cff1a5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdfb50cc8a1b94c009416c68645860704", name: "TPT - HU - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5c5de6c3fe8a421b9566f81e2ac695e8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL251dd6b6e39b4626b5765c0f680f8715", name: "TPT - JP - AEM - TradeDesk - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5b64c082a5d64865862389295d7b0666-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa94feee934494deaa3b9c00e74047c19", name: "TPT - NL - AEM - GtagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbd3fa7370c6a4b2b9a253f8fe81ac0f8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL34cb06db6d7c42dcb8638b5df28d946a", name: "TPT - DK - AEM - Adform - Salesbar Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__item", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "DK" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/da/generelt/produkt-tilbud/firmabil.html", valueIsRegex: !0 }, { value: "/da/generelt/produkt-tilbud/tilbud/kampagne.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC904e8bdfb1be4138a3331159fb69ef53-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL60638949e96b4c0dbb8fe9b68ebbbe3d", name: "TPT - CZ - AEM - AdWords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8e27c57c24ad47618d8b172abcc5f2e2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcf7b51a67c844b73896fd89c5b3a937c", name: "TPT - DK - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9cbe8dca31aa42f8a13f450b60bb96bc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa088ff0fe30c4d17ac8cccdaf3bc0126-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04bc4e3aab3448198eb2be4a787ec669-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLba864609ae154e409f2db3fca0d42bc0", name: "TPT - NL - AEM - Bing - iFrame Forms FS RFO - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_fs_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC76dcb899df5646c4a530d1a824a68474-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe5fb93f957564594b35392dda8f77f7c", name: "TPT - SK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb3480ed586e846269e73896709fd5714-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0dc4fbd899e34b748fbc9ff6b817e605", name: "TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1a034d84111e43d58c0a53b1613a85f2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1e1e1bc9c4aa4f3fa72d88bcaa717853", name: "TPT - CH - AEM - DoubleClick - Dealer-Partner_Loctor_Selection - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe87fccdfa2ef40c0af34937680b000fe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc3e16f65b5484fd2acfd49e5b2d5261c", name: "TPT - CH - AEM - GtagDC - RFO Stock Locator FormSubmit - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfaf671982602434597aad4703f44aa84-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6a24faa732bb4b73985363d9a19ac80d", name: "TPT - HU - AEM - Adform - Make Appointment - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC594e8eb9c1c142d691977a88bfa67b83-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL59feaa78df554278a7b987f971eecc89", name: "TPT - NZ - AEM - ContentSquare - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/configurator.html", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe6b6ed21d1454ef0996e15c9b8f192b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLccb2eb446bc04badbcb55f596863f9e2", name: "DCR - All - AA - Custom Code - TRON Error Tracking", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("TRON:electric range calculator", (function (t) { _satellite.logger.log(t, "error register on Electric range calculator"), "error" == t.detail.event.name && (_satellite.setVar("errObj", t.detail), e()) })), window.addEventListener("TRON:all models list", (function (t) { _satellite.logger.log(t, "error register on All Models List"), "error" == t.detail.event.name && (_satellite.setVar("errObj", t.detail), e()) })), window.addEventListener("TRON:dynamic disclaimer", (function (t) { _satellite.logger.log(t, "error register on Dynamic disclaimer"), "error" == t.detail.event.name && (_satellite.setVar("errObj", t.detail), e()) })), window.addEventListener("TRON:visualizer", (function (t) { _satellite.logger.log(t, "error register on Tron visualizer"), "error" == t.detail.event.name && (_satellite.setVar("errObj", t.detail), e()) })) } catch (e) { _satellite.logger.error("TRON Error Event Listener", e) } } }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("setDefaultVariables", e)(t), _satellite.getVar("setTronDefaultVariableGeneric", e)(t), _satellite.setVar("errObj", ""), t.events = t.apl(t.events, ",event931"), t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events), t.linkTrackVars = t.apl(t.linkTrackVars, "events") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Error Tracking", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9d4011ffe5354a8fb63c6b904812969d", name: "TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_nsf" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2726731cf1eb438cac3ab5d88d5c6cda-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2c7fa8108f6545f2b15cf73b163c4afe", name: "TPT - SE - Multiple - Usabilla", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "SE" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8970a83013c4f67ac485670debd5e8c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd7fe339f386948c19ccbd6db629c4027", name: "TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_dc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5b2b3092d144c88b9df6c0d504b075e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL997fae62df3b411383de3c975afd2d9d", name: "TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%pageInstanceId%", rightOperand: "/ssl/requests/rfo-bmw" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC65459b38c65540cb912827a33bef3ee6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb2ba14ad7f694934befcc924f3111650", name: "TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex" }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf2b7175abef8491cb5e1c2c285eb4844-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3743f549558440caaf2a547d2309bffa", name: "TPT - DK - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1f5ea534ee0f4efeba37a5f8b7cb34f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd59ba8535cde427e98a0a0cb9941a8a8", name: "TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Test Drive", valueIsRegex: !1 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/exclusive-offers/attractive-financing-rates.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC80b961eee80d48498a8a2648586f1edb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL32e7952aa0c84085885f253a79b314ec", name: "TPT - FR - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{
            modulePath: "core/src/lib/conditions/subdomain.js",
            settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd7906b19aaee4451ab227d6b4e7cf7d1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLa6beef63667d4e0fb8b02603abb6e0c7", name: "TPT - HU - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC61a657b3a3c24c05aebf0bf1d8dea733-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8b15d60488dc4624b86c6faf418251f8", name: "TPT - ES - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1f025f9666ca45caa2a011eae718a2fb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLab4764b8075e4c28a3eeca9dfa8a71c2", name: "TPT - RU - AEM - RuTarget - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa0a9261536ae4581ad4a28037095332f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3444fbd7382849f283569beb356c2a72", name: "TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[bm-safe-click="downloadPDFPrint($event)"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%pageInstanceId%", rightOperand: "/ssl/configurator" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC555e6ee410df42faabb7b3607f76d68d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb0bf412cc7de417cbfee84471ec55bec", name: "TPT - CH - AEM - GTagDC - Dealer Selector - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC62f81e0870504a5a90aee5fbee0e875a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb549776660034c8bb77c91bd7c187485", name: "TPT - JP- AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb3d14231c5d148a2adbca3a25204338c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc3d6a6a5208e4a2599eb1720d94f4515", name: "TPT - BE - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC715352fb328643caaec6cd8a603e693b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL36c3d7df4a044b8c8cb1c84480bba11c", name: "TPT - SI - AEM - Adfrom - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd76b77d433cd413c88da9b4c68cbc2ee-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8998dbf9967b4c68a2dba981a26c79f1", name: "TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3690ad7d5a1b45dd850c8904523e6ec2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2de7b6c0ac73493f9ae861d1405f618a", name: "TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l] copy", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1ddc9b2c4d63426fae2c5f8d721c6703-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa4245755801549f4a8f178769dab0881", name: "TPT - BE - AEM - AdWords - Broucher - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd5bc411cc63a4ff99a68a409792cf9cf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL95af57f1b1e6414d9814462c1eef483b", name: "TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96daf7fffe384cfd8c85d6d2daf3abce-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL01e959df8bc84ae29aa9f575b13e8c1d", name: "TPT - NL - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5addcd594a4f4b0babaca366d9d7509e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL08644b0faa9841e192f406fb35a2ff64", name: "TPT - GR - AEM - GtagDC - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb788229415314c2398130d6e44e51690-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa89c11f185834dab89fce36c983a86d1", name: "TPT - AU - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4751513f2fc441f79e989ec5d8ae54be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL46b7c0a8f4554c1bbaff31f87666b552", name: "TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbda1cb00e52448359ecb7bb81381c5ee-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9d33777016804dd788fed4f42f314aab", name: "TPT - SG - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/ssl/online-service-booking.html", valueIsRegex: !0 }, { value: "/en/ssl/auto-service-booking.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/service-workshop/service-maintenance.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/latestpromo.html", valueIsRegex: !0 }, { value: "/en/topics/fascination-bmw/contact-BIS.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/service-workshop/bmw-services.html", valueIsRegex: !0 }, { value: "/en/ssl/find-a-retailer.html", valueIsRegex: !0 }, { value: "/en/ssl/contact-pml.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/ubi-service-centre.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers/bmw-care-packages.html", valueIsRegex: !0 }, { value: "/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9ae9ec650bfe47b39be29d689d2a096d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2c8be443147e408db4a58b9b8e4b12bd", name: "TPT - CH - AEM - GtagDC - TDA FormSumbmit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC93567d3a277c4061870fcb581132c47c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL53c935fc352448a1a5a6439042cb0cf5", name: "TPT - GR - AEM - Facebook - Form Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC137f2cf999f240ce999a426620eb6c7e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5f286f640b2d4d5bad470e5d957680d2", name: "PLR - All - AEM - AA - Trigger Central Forms", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 51 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9c2b53f4103b4efebbb699010c0629e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL18822fe6f40b43099e02f56b29aea6e5", name: "TPT - SK - AEM - Facebook - Form Submission - RFC Submission - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "pageload_datalayer_ready" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "sk/publicPools/success-pool/success-page-rfc.html.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC41ba3fdef6eb45aea89e6916344ed65b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd1a28fd868af468ba3587adc3fb2e747", name: "TPT - BG - AEM - Adform - Adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC709d6fdb55894446b7c433dcaa58f31e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLae088745f85842bca8e89e4e0e26d398", name: "TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8be39a1501aa449eb91859b0a883742f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL905b669659ad4fd989416828ae2f1cf9", name: "TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7db2a2a25d4e45808b3ce2f37852379f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa6272dfbbf9e4f0ebc6f8660ea6426a8", name: "TPT - SI - AEM - GtagDC - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[href$='pdf']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2bb7ebcd11a246c58df5799ec5ebe495-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL422e96781fad44abbe7cbbd17e145a6d", name: "TPT - NL- CON - Adwords - Configuration_Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "gtag_adwords_configuration_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl/nl_NL/configure/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC221b9bf753294ce88f1a873ebc6a0fd8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf734e00f95ac459c9eb07f1ac2ab0ae6", name: "TPT - RU - AEM - Floodlight - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3303596de27e43c6b2c69104dfaa561a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbba392ea8b874a3a8fd5769c896bddbf", name: "TPT - IT - AEM - Floodlight - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa4305352d090445c85bf78e6ea6b8ac2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ff27515b0ea4f1c8a80b945a483f007", name: "TPT - SK - AEM - Adfrom - Local Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7e3b371aae774184b88ba8d1b987b36a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0dc42f5782954920bb46a83898ebffd6", name: "TPT - IT - AEM - Xcally Chat - Multiple- PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2278089b210e4e7c8b012b9244ffe853-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa330999ec0a64de3b2ff5f4700c72a85", name: "TPT - AT - AEM - GtagDC - Visualizer - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "visualizer_start" }, ruleOrder: 100 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf46a9889f939491f9a07fa7e931b3fad-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL26327580862e49de948ec70f080b9379", name: "TPT - DE - AEM - ContentSquare - Confirm Save Configuration - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "confirm_save_configuration" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5e64d4cff0d3405f9fa7ac344e3638d0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe05d25070445420f90fabef8c5c6b6fe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdebf3372251b4fa6bb843a0411886095", name: "TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/ssl/configurator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7aa925da3786418b81bbfad712da4406-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLae87374ab0234dc29202c5a18b1d9d57", name: "TPT - SI - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00dfa17838f74a40aaae62bd47fb6a38-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa943a966d57641128202f4e2d9034c4a", name: "TPT - BE - AEM - Adwords - iFrame Form RFI - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fr/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb88e1da4a16b4406a1378524e01efe22-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL43ac4d35cedb44e5874292272f3aaf03", name: "TPT - ID - AEM - LinkedIn - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.id", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8d97873f9c0c42f7ba6b077e01b6b2af-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL19fabd19f01c4637add0736a336f10f5", name: "TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04b274758d924d6489ff220dbbf5a9b8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9a174651441d41998331644c38ac0778-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbe25dd7bfc3248c095396fad59045989", name: "TPT - HU - AEM - Facebook - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/hu/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe914d4a4eaa34a448dca84d3e3223176-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0825f023ed194501bba54b886e8b0f82", name: "TPT - SG - AEM - Adform - Contact email - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0f73f75c6b8440fcb63375b83dfa9f2f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf0d9f455abd44cd0a4194da1102ead7a", name: "TPT - PL - AEM - GTagDC - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/forms/rfid/rfid.html']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc235d71e895246e2a7c9b01b9de59e67-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL47fdd266ebf84dff90118e78981dfcca", name: "TPT - CZ - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC704ea3d823e0459a9ab28e113be94b5b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe639da2b8ebe43918d40424c5784d8be", name: "TPT - RO - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2cfce1bc4dab48bc9f2cb5d6ad308173-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL817b69d11f704e2499423eb25859c79d", name: "TPT - IE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (void 0 === _satellite.getVar("triggeredCall")) return !0 } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe42cb0c9a53947e793f8801dec4b44b4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL0861217cfe7048e8ac5de42fc1b0f31d", name: "DCR - All - AA - Custom Code - TRON Visualizer", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("TRON:visualizer", (function (t) { void 0 !== t.detail && "error" != t.detail.event.name && (_satellite.setVar("tronVisualizer", t.detail), console.log("tron visualizer Executed"), e()) })), window.addEventListener("TRON:video player", (function (t) { void 0 !== t.detail && "error" != t.detail.event.name && (_satellite.setVar("tronVisualizer", t.detail), console.log("tron Video Executed"), e()) })) } catch (e) { _satellite.logger.error("Tron Custom Event Listener", e) } } }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try { _satellite.logger.log("Rule: ", e.$rule.name, " fired identifier ", e.identifier); var s = _satellite.getVar("tronVisualizer"), a = s.event.effect, o = s.event.speed, n = s.component.name, r = s.custom.mediaTotalLength, i = s.custom.mediaCurrentTime; if (o = s.event.speed, _satellite.getVar("setDefaultVariables", e)(t), _satellite.getVar("setTronDefaultVariableGeneric")(t), "video player" == n) { switch (a) { case "media started": t.events = t.apl(t.events, "event351"); break; case "media milestone 10%": t.events = t.apl(t.events, "event352"); break; case "media milestone 25%": t.events = t.apl(t.events, "event353"); break; case "media milestone 50%": t.events = t.apl(t.events, "event354"); break; case "media milestone 75%": t.events = t.apl(t.events, "event355"); break; case "media milestone 95%": t.events = t.apl(t.events, "event356") }t.events = t.apl(t.events, "event357=" + r), t.events = t.apl(t.events, "event358=" + i), t.events = t.apl(t.events, "event970=" + o) } if ("visualizer" == n) { switch (a) { case "3D view started": t.events = t.apl(t.events, "event311,event313"); break; case "3D view ended": t.events = t.apl(t.events, "event315,event313"); break; default: t.events = t.apl(t.events, "event313") }o > 0 && (t.events = t.apl(t.events, "event970=" + o)), t.events = t.apl(t.events, t.events) } _satellite.setVar("tronVisualizer", ""), t.prop46 = snapshotDL.get("component.attributes.componentDevAgency", snapshotDL.get("component.-1.attributes.componentDevAgency", snapshotDL.get("page.pageInfo.author"))), t.events = t.apl(t.events, t.events), t.linkTrackVars = t.apl(t.linkTrackVars, "events"), t.linkTrackEvents = t.events } catch (s) { t.sa("bmwgroup.group.global.test"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933", ","), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74", ","), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL556618fe6ae341c6a3bc6b8b6af8d06f", name: "TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe2ddcce740eb492b8ff546451ea1b49d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6bf0fa34ffaf4f2c84889e4fde3b1be2", name: "PLR - DE - AT - Vibe segments", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger", (function (t) { t.detail && t.detail.processing == _satellite.getVar("consentMap").AdobeAnalytics && e() })) } catch (e) { _satellite.logger.error("Visitor Reco Script", e) } } }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "isAdobeAnalyticsAllowed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8c8374845e8d4cdea6c6f829f2374fbe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RL0eb6424fcc8b47b8b79b0091ec99d7b1", name: "TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#formtda [gcdm-form-submit]", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "CH" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC364a623dbc6c44a8907d7548ebe2f0ae-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd66cc9d9736c4c15b7a7962ecbabd09a", name: "TPT - ZA - AEM - MediaMath - Multiple - PLR -p15r[l]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC354baedb2faf42578e59f515c5180761-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL33398168684d485eba8c85a1e8cc9db8", name: "TPT - NL - AEM - GtagDC - My_BMW_Registration - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { return "button expand" == this.className } catch (e) { _satellite.logger.error("TPT - AT Custom condition GtagDC - retriggering", e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC39e24e3909034403bb2f305293f423e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d86c4ea05624c899d65ab9a493dd5b2", name: "TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "#formregistration .multistepline__submit div:nth-child(2) button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcea6b95106d44fa0a94c9994a95b12e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4f5c95554d584f62b5ae93580765a054", name: "TPT - PL - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbe64829f16434dad85a8f825338e4816-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL59728876214344a38f9d3e7c66638e06", name: "TPT - TH- AEM - Taboola - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa9358d9f16424766a9d5ff21c95bf46a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbb20069aa033407a8410bb3901d44776", name: "TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC711d4d4625904770ab1ba14d39d3aa33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1e12289378c94bedac20badae79f8392", name: "TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdad1bd6d4787492391c9a93267303968-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC679d5744189540d498ffa60915470236-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5c32a5544be64a9fa003f092f8ccb8c3", name: "TPT - DE FR IT ES NL AT PL - AEM - Usabilla - Adhoc Survey - DCS Customer Survey", events: [{ modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "URL" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("topLevelDomain"), t = (_satellite.getVar("snapshotDL"), _satellite.getVar("URL")); return t.indexOf("/shop/dcs/") > -1 && t.indexOf("/confirmation/") > -1 && ("bmw.de" == e || "bmw.fr" == e || "bmw.it" == e || "bmw.es" == e || "bmw.nl" == e || "bmw.at" == e || "bmw.pl" == e) && (console.log("conditions fine"), !0) } catch (e) { var s = { from: "TPT", type: "Condition", name: "TPT - DE FR IT ES NL AT PL - AEM - Usabilla - Adhoc Survey - DCS Customer Survey" }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9f22f9289cf442f8a72b9d8c78c2bd1b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL700d7039076b4bef82fed43478f857d4", name: "TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2a20e785145b477f900021543ef509a2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC27066a5e062b4122a7a7946dcbae7fea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL83464ab95cd34c66b70baa83bca27bf9", name: "PLR - FR - AEM - Custom Code - Campaign String to Cookie", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd61366fd50914695ac6f555db54bb4d1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL917438fc2a694d7c9669f1471a9ce6db", name: "TPT - UK - AEM - Adwords - Iframe Forms TDA - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2af0a132440d49b2aa1c20014a471397-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2f49739a72c24cd18941840cc335f2da", name: "TPT - LU - AEM - Adform - Multiple - Form - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC67189d20b1044cf3a2373e38832d8945-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8279ad6945f64a64ba34b82159a5abb5", name: "TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".buttonLarge.ds2-tracking-js--event", elementProperties: [{ name: "title", value: "J\xe4lleenmyyj\xe4t|Retailers", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcf30fb5c732343cab320a58e822f1dd3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL06139f4601404814a7b27c753a3b08fe", name: "TPT - IT - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC851e08c8a56d4147b525ec043f1db34a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb9b26a6f27984f009c8e3a20ea76960a", name: "TPT - SK - AEM - AdWords - TDA - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event", elementProperties: [{ name: "title", value: "TDA" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdca032e106e946398a6666625e9c4cbf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9dcb572adf5643a1bb9a0cc3d03c7c89", name: "PLR - All - AA - Custom Code - JS error event listener", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = ["bmw.ch"], t = _satellite.getVar("topLevelDomain"); return e.indexOf(t) > -1 } catch (e) { var s = { from: "AA", type: "Rule", name: "DCR - All - AA - Custom Code - JS error tracking" }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n", language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RL842aef7be4814a218a7dce9e239c884b", name: "TPT - NZ - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeee099396197430682b7bbeb37c86cb6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa95366330a2a4c1aa514011dadcffcd9", name: "TPT - NL - AEM - Adwords - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "local forms" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl" }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd0368668d32b4552b74e5dd078c12127-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe1039d57a88c4f75a7e952095171a99b", name: "TPT - NL - AEM - GtagAW - Service Inclusive Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe5f3bebdcd354d75a7b34ed2ca454e71-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLefba3cf096a64d1990774b412ad999da", name: "TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC37e72c106d624b2fb5d5466f05610da7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1565385972bf409685d5d26078c88a51", name: "TPT - SK - AEM - WebChat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC29e3a40f0f8844578a63f3ff8f04d443-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc5d76350094e4a23afaf831b41917071", name: "TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbce0d85bb42c481ca3e82b4f50225f15-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC09d0189792a14714be58c3ec6ebab6e0-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf767db33909b4734a69956c5ffa8aec8", name: "TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { if (void 0 === _satellite.getVar("triggeredCall")) return !0 } catch (e) { _satellite.logger.error(e) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa6a9fc5c72b94b23beac7ed7897ac5d5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d721eb8f0534c9f8a18d90f8323e831", name: "TPT - NZ - AEM - ContentSquare - Simulated Page - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.nz", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/configurator.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc196572e7dbf416aad11f2b18d76c24c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5c940358a4c24aa095c58193d376ca71", name: "TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC81fdead453e94fb89dc87d46a50f37de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9945523c44f4e94b210fc605fd4d742", name: "TPT - PL - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c238fb2fb2f46f1888b7c648e89ab63-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL57964c4ddf1c45a3a1654e115f940126", name: "PLR - PL - AEM - AT - Determine TargetExperience Name", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isTargetAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}", language: "javascript" }, timeout: 5e3, delayNext: !0 }] }, { id: "RL140c2c331a0b466d889743093090ea9b", name: "TPT - SK - AEM - GtagDC - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC389082cd3ef34578b567467648a7b497-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5467a1d5a69848a49bb79706477daa82", name: "TPT - NL - AEM - Adwords - Local Form RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7ff9e6b2ae9c4acab55684bb4649823e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8e8525ac69414a8c91ca3008dacd7ca8", name: "TPT - FR - AEM - GTagDC - Site search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa623081c542a45d280abc640bb5ac6c6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1a822197c8824894bf7c7b36fae104db", name: "TPT - AT - AEM - AdWords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/dataElementChange.js", settings: { name: "isAdobeAnalyticsAllowed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC875fdc4a71ea4ce6b9eb4324d2d33398-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL25e50226e4ae4f908df835458f3f8a4c", name: "TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbe8901bf4bc640dfa9eda6d1361b834e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde82c5e192fa452a836f5ab79d0b725c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL02a6111d989046be9a2848a31fb8a968", name: "TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa595f94028b546fe8dd04906a2768d3d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5a2381ea60c246d4a5c2831937d5837d", name: "TPT - NL - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC63e50a3710b74722901f4150e595932a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL27c8b4b52a3a4580a5709e6d62e82472", name: "TPT - RO - BMW - AEM - Adwords - Shop Events - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "oneshop_event" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7dcb77d9383a42d3aa92bfeef7a4f965-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLba601da380544a6d9e2e24f22b3e2185", name: "TPT - IT - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{
            modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa63dab0e0cf842f9adc13c1ebe715217-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL3996f8bac4724edaa0e15ab58ee7001b", name: "TPT - TH - AEM - GtagAW - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC43b66429c5d84b56b8d767d20119293a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe9621645709346e0b1b86f957a647bba", name: "TPT - HU - AEM - Adform - SignIn - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3c0e71ad87474961b654d788275d0d97-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3b6558e9f7584e74b7bea111ce94700d", name: "TPT - PL - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3876850f9b3343a4849fe4a2df0b0099-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL331c4111231e45beae12b78a520391b6", name: "TPT - NL - AEM - Facebook - RFI - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/nl/specials/prijslijst-brochure.html", valueIsRegex: !0 }, { value: "/nl/ssl/aanvraag/brochure-prijslijst.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6129fd70043741039919505e79536bfc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL245026f2c3e34f9bb5e55285c044942b", name: "TPT - AT - AEM - Adwords - SignIn - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6539315690d54b2889375d5efd8df663-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLae5dc847e10f4a488b283d0d5ccf04b3", name: "TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.sg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd079836455a04483bfdeacdb9c159f4e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8f2de83aa6ff436d867fa92db589b090", name: "TPT - FR - AEM - Facebook - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5cefc60746584536bdd45f174e2cc5df-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL62aecce225fd48b9a26df5976e4f4adb", name: "TPT - IN - AEM - Facebook - Form_Tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 90 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.in", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC67e0840b92494d90b578830bb6ae5362-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf39802fc04c74486b59857eeaa274ddb", name: "TPT - DE - AEM - Facebook - Mini", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "mini.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC25a85758b8014ee58daedcff908fbfe9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL93742eea0ce24c189d3734234da65c44", name: "TPT - RO - AEM - Adwords - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe4b9bbcb12604c7c9f5e115f9412a9f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLfb8891dd4fde4934941cab9f35bc2f4a", name: "TPT - IT - AEM - Adform - RFO Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfd299667de95467498e202a751b9364f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9163c53707774c13990cebfdb2b4ae90", name: "TPT - TH - AEM - GtagAW - RFO Form Success - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8b369769921140608482aaf320aa68a3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb2fe3d533cd74f16aa0d071406bb1236", name: "TPT - BG - AEM - Adwords - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd3746cd5576746b3b54eea102d6cca35-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd7b0fb057f9a49d485663cd048af5856", name: "TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8821f341252f475b8488c9d09a96657c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL89b49562679748ffaa0a5b3774d800b6", name: "TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "/en/ssl/discover-enquire-now.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/all-models/5-series/sedan/2020/highlights.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCae90ef291ac14c6d888e7c520a8d4395-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb113ba716b9c4326a3a88004dad903ee", name: "ACDL GROUP - DE,IT,JP,ES,BE,LU,FR,SE,FI,NO,DK,CH,NL - ANY - DLP - 0060 - Hashed Email ID & Hashed UCID sync", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC86bcc84ad5c7491c9ff4e21deddf8d74-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5597fe16b5b84183a981292c8a5d0bf5", name: "TPT - NL - AEM - GtagDC - Service Inclusive Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC609fe53d97724f16b7bc1ec70df743f1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2a92a89f4ec34a1cadfa79a337b49430", name: "TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1c421ee79f864f1f96261f4c5bfa5a61-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd6697f6971b14eb5bce445d45f6a85bd", name: "TPT - DE - AEM - Criteo Pixel - Scrape Form Start - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC80de8298558844d583ed13c0f9244672-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL698c6cae53414e908cd4c9c2fc27a68c", name: "TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2cec9f5c50ff4c64930452683e680c2f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7adb2d40d402417185cef558327012c0", name: "TPT - RO - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde636f00161244d59ccdaebed5143aac-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6829ba28b20547459452d5d5cf890014", name: "TPT - UK - AEM - QuantCast - iFrame RFI Download Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc6f18a6096574792b118ef5d60ea31d0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1f2c15dd6e844886a8bb2e0cb676542f", name: "TPT - FI - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbf620a9d70b74633b330650e2e517bfe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0608652de327471cab3e7962ab01f59b", name: "TPT - CA - AEM - Facebook - All pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4f879cdd960141f881ec5ec94f6f81fa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL17cca70ba9cf4cfb8e01209bb8557805", name: "TPT - CZ - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/cs/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC789e17cb57ea4a2bae2491dc2d381327-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL14cf87199a5a4f19aa41bb473946a56e", name: "TPT - SK - AEM - Adform - SignIn/SignUp - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5f9250d5b6d54f769744ddcd486e8883-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb3e19eab3d2d4ce0850ce2571f73ab84", name: "TPT - SI - AEM - Facebook - SignIn - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe4bef0de79da4b52a9b5d80e5cdc9a7d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL546dc4fdca8e4201be9e59961ba08817", name: "TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de" }] }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa8c7b34c338f4ce58ede0f00a6668ac0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RL69cace2db98648adad7e7c50f6a881ed", name: "DCR - All - NSC - AA - Adobe Forms", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "tda" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "TDA" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "rfo" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "RFO" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = (s.get("event.-1.eventInfo.cause"), s.get("event.-1.eventInfo.eventPoints"), s.get("event.-1.eventInfo.type")), r = s.get("event.-1.category.subCategory1"), i = s.get("event.-1.category.subCategory2"), c = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t), t.prop1 = t.pageName = -1 == c.indexOf("nsc >") ? "nsc > " + c : c, t.eVar34 = -1 == o.indexOf("nsc >") ? "nsc > " + o : o; var d, l = { rao: ["event25,event26", "event27,event28"], rfa: ["event29,event30", "event31,event32"], rfc: ["event33,event34", "event35,event36"], rfcd: ["event37,event38", "event39,event40"], rfd: ["event41,event42", "event43,event44"], rfo: ["event61,event62", "event63,event64"], rfp: ["event65,event66", "event67,event68"], rfs: ["event69,event70", "event71,event72"], tda: ["event85,event86", "event87,event88"], "online tda": ["event89,event90", "event91,event92"], registration: ["event93,event94", "event95,event96"], campaign: ["event97,event98", "event99,event100"], rfi: ["event45,event46", "event47,event48"], download: ["event49,event50", "event51,event52"], generic: ["event53,event54", "event55,event56"], postal: ["event57,event58", "event59,event60"], roi: ["event73,event74", "event75,event76"], "keep me informed": ["event77,event78", "event79,event80"], newsletter: ["event81,event82", "event83,event84"], "fs rfo": ["event101,event102", "event103,event104"], loan: ["event105,event106", "event107,event108"], "operational lease": ["event109,event110", "event111,event112"], "private lease": ["event113,event114", "event115,event116"], quote: ["event117,event118", "event119,event120"], insurance: ["event121,event122", "event123,event124"], lead: ["event17,event18", "event19,event20"], handraiser: ["event21,event22", "event23,event24"], evt: ["event131,event132", "event133,event134"], sws: ["event135,event136", "event137,event138"] }, u = l[n.toLowerCase()], m = l[r.toLowerCase()], b = l[i.toLowerCase()]; "nsc > form started" == o ? (d = t.apl(d, "event3,event4"), null != b && (d = t.apl(d, b[0])), null != u && (d = t.apl(d, u[0])), "RFI" != n && "ROI" != n && "FS RFO" != n || null != m && (d = t.apl(d, m[0]))) : "nsc > form finished" == o ? (d = t.apl(d, "event15,event16"), null != b && (d = t.apl(d, b[1])), null != u && (d = t.apl(d, u[1])), "RFI" != n && "ROI" != n && "FS RFO" != n || null != m && (d = t.apl(d, m[1]))) : "nsc > form finish intention" == o || "form finish intension" == o ? d = t.apl(d, "event917,event918,event13,event14") : "nsc > first form interaction" == o || "first form interaction" == o ? d = t.apl(d, "event917,event918,event5,event6") : "nsc > form interaction" == o || "form interaction" == o ? d = t.apl(d, "event917,event918,event9,event10") : o.indexOf("form step") > -1 ? d = t.apl(d, "event7,event8") : "nsc > form impression" == o || "form impression" == o ? d = t.apl(d, "event925,event926") : a.indexOf("error") > -1 && (d = t.apl(d, "event931,event932")); var p = s.get("event.-1.attributes.leadTime", "0"); d = t.apl(d, "event977=" + p), t.events = t.apl(t.events, d), t.linkTrackEvents = t.apl(t.linkTrackEvents, d), t.eVar137 = s.get("component.-1.category.application", "aem6"), t.prop55 = s.get("event.-1.category.subCategory1", s.get("event.-1.attributes.errorCode")), t.eVar23 = s.get("page.attributes.marketingConsent"), t.prop6 = "adobe form", t.prop7 = s.get("event.-1.category.subCategory1"), t.prop8 = -1 == o.indexOf("nsc >") ? o : o.substring(6), t.prop9 = s.get("page.category.subCategory1"), t.prop10 = s.get("page.category.subCategory2"), t.prop16 = s.get("page.pageInfo.pageName"), t.prop17 = s.get("event.-1.attributes.form.rfxID"), t.prop18 = s.get("event.-1.category.subCategory2"), t.eVar41 = s.get("dealer.-1.dealerInfo.dealerGroupName", s.get("dealer.-1.dealerInfo.dealerGroup")), t.eVar42 = s.get("dealer.-1.dealerInfo.dealerID", s.get("dealer.-1.dealerInfo.dealerGroupID")), t.eVar39 = s.get("dealer.-1.dealerInfo.dealerOutletName", s.get("dealer.-1.dealerInfo.dealerName")), t.eVar40 = s.get("dealer.-1.dealerInfo.outletID", s.get("dealer.-1.dealerInfo.dealerOutletID")); var g = !1, f = s.get("pages.0.page.category.subCategory2", s.get("pages.0.page.category.subCategory02")); if (_satellite.logger.info(s.snapshot), _satellite.logger.info("debug subCategory2: " + f), -1 == t.events.indexOf("event3,event4") && "success-pool" == f) { _satellite.logger.info("debug: Workaround events"); var v = s.get("pages.0.event.0.category.primaryCategory", s.get("pages.0.event.0.category.primaryCatergory")), h = s.get("pages.0.event.0.eventInfo.effect"); if (_satellite.logger.info("debug: event0 ", s.get("pages.0.event.0")), "adobe form" == v && "nsc > form finished" == h) { t.events = t.apl(t.events, "event15,event16"); var P = s.get("pages.0.event.0.category.subCategory1"), j = s.get("pages.0.event.0.category.subCategory2"), C = l[v.toLowerCase()], y = l[P.toLowerCase()], w = l[j.toLowerCase()]; null != w && (t.events = t.apl(t.events, w[1])), null != C && (t.events = t.apl(t.events, C[1])), "RFI" != v && "ROI" != v && "FS RFO" != v || null != y && (t.events = t.apl(t.events, y[1])), t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events), g = !0 } } g && (_satellite.logger.info("debug: Workaround"), t.prop7 = s.get("pages.0.event.0.category.subCategory1"), t.prop8 = -1 == s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >") ? s.get("pages.0.event.0.eventInfo.effect") : s.get("pages.0.event.0.eventInfo.effect").substring(6), t.prop11 = s.get("pages.0.event.0.category.primaryCategory", s.get("pages.0.event.0.category.primaryCatergory")), t.prop17 = s.get("pages.0.event.0.attributes.form.rfxID"), t.eVar34 = -1 == s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >") ? "nsc > " + h : h, t.eVar41 = s.get("pages.0.dealer.-1.dealerInfo.dealerGroupName", s.get("pages.0.dealer.-1.dealerInfo.dealerGroup")), t.eVar42 = s.get("pages.0.dealer.-1.dealerInfo.dealerID", s.get("pages.0.dealer.-1.dealerInfo.dealerGroupID")), t.eVar39 = s.get("pages.0.dealer.-1.dealerInfo.dealerOutletName", s.get("pages.0.dealer.-1.dealerInfo.dealerName")), t.eVar40 = s.get("pages.0.dealer.-1.dealerInfo.outletID", s.get("pages.0.dealer.-1.dealerInfo.dealerOutletID"))), t.prop42 = "nsc website", t.prop43 = "forms", ("form" == s.get("component.-1.category.subCategory01") || "form" == s.get("component.-1.category.subCategory1")) && "aem6" == s.get("component.-1.category.application") || s.get("event.-1.eventInfo.effect"), "datalayer field missing" != t.prop7 && "datalayer field empty" != t.prop7 || "form" == t.prop56 && (t.prop53 = s.get("event.-1.eventInfo.type"), t.prop7 = "generic"), "datalayer field missing" != t.prop55 && "datalayer field empty" != t.prop55 || "form" == t.prop56 && (t.prop53 = s.get("event.-1.eventInfo.type"), t.prop11 = n, t.prop55 = "generic"), t.prop10 = s.get("event.-1.attributes.form.formVariant"), t.prop16 = s.get("event.-1.attributes.form.stepName"), t.prop9 = s.get("event.-1.attributes.form.stepAmount"), a = s.get("event.-1.eventInfo.eventName"), n = s.get("event.-1.eventInfo.type"), "form" == a ? (t.prop6 = "adobe form", t.prop8 = -1 == s.get("event.-1.eventInfo.effect").indexOf("nsc >") ? s.get("event.-1.eventInfo.effect") : s.get("event.-1.eventInfo.effect").substring(6), t.prop11 = n, t.prop56 = a) : "error" == a ? (t.prop6 = "", t.prop8 = "", t.prop11 = "", t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop53 = s.get("event.-1.eventInfo.type"), t.prop55 = s.get("event.-1.category.subCategory1"), t.prop56 = a, t.eVar34 = s.get("event.-1.eventInfo.effect")) : (t.prop6 = "", t.prop8 = "", t.prop11 = "", t.prop53 = s.get("event.-1.eventInfo.type"), t.prop56 = a), t.prop19 = "adobe form"; var R = s.get("page.pageInfo.pageName"); if (-1 != R.indexOf("PREDOC-G26-BEVE-E") || -1 != R.indexOf("predoc-g26-beve-e")) { t.prop11 = "rfo", t.prop7 = R; var x = s.get("product-1.attributes.motorization", s.get("product.-1.attributes.engine")); if (x) { var E = /[0-9]{3}[a-z]{1}/i, T = /xdrive[0-9]{2}[a-z]{1}/i, I = /sdrive[0-9]{2}[a-z]{1}/i, _ = x.match(E) || x.match(T) || x.match(I); x.indexOf("i3 (120 ah)") > -1 || x.indexOf("i3 (120ah)") > -1 || x.indexOf("i3 120ah") > -1 ? x = "i3 (120 ah)" : x.indexOf("i3s (120 ah)") > -1 || x.indexOf("i3s (120ah)") > -1 || x.indexOf("i3s 120ah") > -1 ? x = "i3s (120 ah)" : _ && _.length && (x = _[0].toUpperCase()) } var A = _satellite.getVar("setDefaultProductVariables"); A.id = "g26", A.category = "vehicle", A.merchEvars.eVar10 = "G26", A.merchEvars.eVar56 = "e", A.merchEvars.eVar57 = "beve", A.merchEvars.eVar44 = s.get("product.-1.attributes.productionYear"), A.merchEvars.eVar45 = s.get("product.-1.attributes.yearOfRegistration"), A.merchEvars.eVar46 = s.get("product.-1.attributes.vehicleStatus", s.get("product.-1.attributes.vehicleSelection")), A.merchEvars.eVar47 = s.get("product.-1.productInfo.color", s.get("product.-1.attributes.color")), A.merchEvars.eVar48 = s.get("product.-1.attributes.modelCode"), A.merchEvars.eVar49 = s.get("product.-1.attributes.gearing"), A.merchEvars.eVar50 = s.get("product.-1.attributes.series"), A.merchEvars.eVar52 = s.get("product.-1.productInfo.productName", s.get("product.-1.attributes.modelName")), A.merchEvars.eVar53 = "model_navigation_hp" == s.get("event.-1.attributes.relatedComponent.componentInfo.componentName") || s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer") > -1 ? "new car" : s.get("product.-1.category.primaryCategory"), A.merchEvars.eVar54 = s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer") > -1 || "need analyzer" == s.get("page.pageInfo.pageTitle").toLowerCase() ? "build to order" : s.get("product.-1.category.subCategory1"), A.merchEvars.eVar55 = s.get("product.-1.category.subCategory2"), A.merchEvars.eVar58 = x, A.merchEvars.eVar60 = s.get("product.-1.productInfo.manufacturer"), t.products = A.toString(), "form started" == t.prop8 ? (d = t.apl(d, "event61,event62"), t.events = t.apl(t.events, d), t.linkTrackEvents = t.apl(t.linkTrackEvents, d)) : "form finished" == t.prop8 && (d = t.apl(d, "event63,event64"), t.events = t.apl(t.events, d), t.linkTrackEvents = t.apl(t.linkTrackEvents, d)) } t.linkTrackVars = t.apl(t.linkTrackVars, "products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56") } catch (t) { var k = { from: "AA", type: "Rule", name: e.$rule.name }; _satellite.logger.error(t, k) } } }, trackerProperties: {} }, timeout: 8e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Adobe Forms", linkType: "o" }, timeout: 8e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 8e3, delayNext: !0 }] }, { id: "RL26f074d76ed142f4afa51e2fcadeaba4", name: "TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.button-blue", elementProperties: [{ name: "title", value: "Zoeken" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC090c8d0a3e9e459dbc4bb8830a719301-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcee28683b75f4e25b5c6441ae85928c3", name: "TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="//www.bmwcard.at/"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1da92bf228804e109e08016d3edd5a6d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL051a661f09544927b9a5b356e49465c9", name: "TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }, {
            modulePath: "core/src/lib/conditions/customCode.js", settings: {
                source: function () {
                    try {
                        var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0
                    } catch (e) { _satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n", e) }
                }
            }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCab974dc360174311a4917baad62a770d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL114b7f8c3aab415394cbc048d2c14185", name: "TPT - CZ - AEM - Facebook - View Content - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4b2d05d6b5184c4abba2acb43e34906d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL666f67699c5e4101ab08f208a206feb6", name: "TPT - ES - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfefdde607c0d4799b57d39e73db1bc3f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL522ccf2a855f42d68c20c4235318167e", name: "TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7611d1725aec43e786e646317e02d885-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL032e22b04dbe43f69b2f42721fa66340", name: "TPT - UK - AEM - GTagDC - Download Brochure - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfd0f17b1c4054a138d828a175b4454d5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0a489fee10024a6f8ade1fe7d245fe19", name: "TPT - IE - AEM - Facebook - adobe form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa800933efbe445c7af70d1b1f33a460c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL800029f0a66b40fea66d8801e2b98198", name: "TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9da40f9765304244a580888166f992cb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL546ef02f147c4819b9b9ea8da5df1b08", name: "TPT - SK - AEM - Facebook - Form Submission - TDA - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0d59576781f245f68b44bbab8d8482b7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL01e9ebbe8ca24c658fc5717ec123f3d1", name: "TPT - LU - AEM - DoubleClick - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc07d55a1a3df409e99d3de71cb9595b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe7a634ebdf3347659ca029e7ccd3de80-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC7011f1e730fd46609074f7c2556240ff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2ba7bdff3828470891d96903ce407318", name: "TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "button", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/hash.js", settings: { hashes: [{ value: "(/DK/da/BMWI|/DK/da/BMW_BMWM)", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1dbb91e62b0740eeb16b93bd4ea85047-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL290e2be01c614e639ea006604044b709", name: "TPT - FR - AEM - DLO Search Function - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "FR" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "m.bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC709ff17d3da344848221489dbb0a1f71-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL196f475ee75943348fe99fb2da788321", name: "TPT - BE - AEM - GtagDC - form_tracking - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00e6b7c813124e1a83ab62b69870a63a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL76b4cdb8ecfd4393925fa42b0f898584", name: "DCR - All - AEM - AA - My CE", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "my_ce_interaction" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "my_ce_error" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (t, s) { try { var a = _satellite.getVar("snapshotDL"), o = _satellite.getVar("smartPreviousValueManager"), n = a.get("page.pageInfo.pageName"); _satellite.getVar("setDefaultVariables", t)(s); var r = _satellite.getVar("setDefaultProductVariables"); r.category = "new vehicle", r.merchEvars.eVar53 = "new car", r.merchEvars.eVar54 = "build to order", s.products = r.toString(), s.prop59 = a.get("product.-1.attributes.configID"), s.eVar59 = a.get("product.-1.attributes.configLink"), s.eVar135 = a.get("page.pageInfo.devEnv"), s.prop1 = -1 == n.indexOf("nsc >") ? "nsc > " + n : n, o.update("pageName", s.prop1); var i = _satellite.getVar("AA-componentDefaultValues"); s.prop2 = a.get("page.category.pageType"), s.prop3 = a.get("page.category.primaryCategory"), s.prop5 = a.get("page.category.subCategory02"), s.prop19 = a.get("component.-1.componentInfo.componentName"), s.prop42 = i.primaryCat || "datalayer field empty", s.prop43 = i.subCat || "datalayer field empty", s.prop44 = a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"); var c = a.get("event.-1.eventInfo.eventName"), d = a.get("event.-1.eventInfo.effect"), l = a.get("event.-1.eventInfo.cause"), u = a.get("event.-1.eventInfo.eventAction"); s.eVar18 = "", s.prop12 = a.get("event.-1.eventInfo.timeStamp"), s.prop13 = "bmw", s.prop50 = a.get("event.-1.eventInfo.element"), s.prop54 = a.get("event.-1.category.primaryCategory"), s.prop57 = u.replace("phone", "p h o n e"), s.prop58 = a.get("event.-1.eventInfo.eventPoints"), s.eVar17 = a.get("user.-1.profileInfo.visitorID"), s.eVar71 = a.get("event.-1.attributes.requestedURL"), s.eVar136 = "2020 - 06- 15 MyCE", "MyCE Error" == c ? (s.eVar34 = "nsc > " + d.replace("phone", "p h o n e"), s.prop51 = c.replace("phone", "p h o n e"), s.prop52 = "datalayer field missing", s.prop53 = "backend 3rd party", s.prop55 = l.replace("phone", "p h o n e"), s.prop56 = "error", s.events = s.apl(s.events, "event931,event932"), s.linkTrackEvents = s.apl(s.linkTrackEvents, "event931,event932")) : (c = c.indexOf("click") > -1 ? c : c + " clicked", s.eVar34 = "nsc > " + c.replace("phone", "p h o n e"), s.prop51 = d.replace("phone", "p h o n e"), s.prop52 = "default", s.prop53 = "ux", s.prop55 = l.replace("phone", "p h o n e"), s.prop56 = "interaction", s.events = s.apl(s.events, "event917,event918"), s.linkTrackEvents = s.apl(s.linkTrackEvents, "event917,event918")), s.linkTrackVars = s.apl(s.linkTrackVars, "products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59") } catch (a) { _satellite.getVar("catchblock", t)(s, e) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%ev_eve_eventName%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL318233eec1694de9b458e5861daea50b", name: "TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="/en/fastlane/dealer-locator.html"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb863b4d0957c447aba06bc9af65e6b52-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4c67f30296ca49928d48b61aae0264e8", name: "TPT - PT - AEM - DoubleClick - Catalog_Button_Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href$=".pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3f62697be106483ea1e891de12ca1e80-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdd68a712ce784b6f873e762981ae2704", name: "TPT - NL - AEM - Adfrom - Local Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("tracking-localform") > -1) { var s = JSON.parse(t.data), a = s.args[1]; console.log(s), console.log(a), "tracking-localform" == s.methodName && (_satellite.setVar("LocalFormEvent", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC88603225158c4a2d938b09fa296599d0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdc5c8ee532954cb68d7ad4535c6f4bbf", name: "TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1d006dd59c334b41bd184f1d736a4f8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe75dd59ed819443c8e57d4f8be6392b5", name: "PLR - All - NSC - All - Custom Code - Cookie Transfer copy", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-cookie-transfer", (function () { e() })) } catch (e) { _satellite.logger.error("PLR: Cookie consent transfer ", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = ["bmw.in"], t = _satellite.getVar("topLevelDomain"); return e.indexOf(t) > -1 || "true" != _satellite.getVar("splitConsentEnabled") } catch (e) { var s = { from: "AA", type: "Data Element", name: "AA-conWithoutConsentController" }; _satellite.logger.error(e, s) } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC34b320fbc1584e20bd2e330df5f06fa8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3e9a8ffda80646c5aefeebbac1f0831c", name: "TPT - NL - AEM - Inbenta Chat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/nl/shop/voorraad-nieuw/checkout/", valueIsRegex: !0 }] }, negate: !0, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbb5c12330e3e42abb4a72f88bb837e57-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb50c8c282cd94bbdbbee96c5cee24933", name: "TPT - IT - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc533b739bd204acc8d2c81b122e66ed3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLac25332b935e4966912f96b04179e30a", name: "TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { new Promise((function (t, s) { var a = !1; (window.consentcontroller && window.consentcontroller.api || window).addEventListener("consentcontroller.api.initialized", (function () { a = !0, console.log("epaas promise is resolved"), document.getElementsByTagName("epaas-consent-drawer-shell").length || window.epaas.api.showDisclaimer() ? (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.drawerhidden", (() => { t(!0), e() })) : (t(!0), e()) })), setTimeout((function () { a || s() }), 5e3) })).catch((function () { console.log("epaas promise is rejected") })) } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "PSYMA" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf4de4b8c530c49948fb1aab80fd4d41b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf3346182dc4942c391044c5a919f86af", name: "TPT - DE - AEM - GTagDC - DLO State Stamdalone - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC04779e55d681442aaa69b13c1b3b93b5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf3dd1c17a8284f28bb0edbec740e25c4", name: "TPT - ZA - All Pages - Set Cookie", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC41916da5d2624240a1f3b884c8470fc8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5670af2d690c4503acbba141dffdb668", name: "TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.no", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/no/topics/offers-and-services/bmw-tilbehor.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb6ac4ebca24b4fc4823c760cef245991-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL016899886e8d4cec93bf374c01e6ed8d", name: "TPT - AT - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href $= "pdf"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdbf6d6087af64c96931446b537898b2f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL60997df1c2ee4278bb3d3eb05e53992c", name: "TPT - PL - AEM - Adform - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pl/search-results.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe23c3bcd83084b048ed0b05384d2eed6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2867241ef7524dbd8d88c3ab57153085", name: "TPT - PT - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8eac507f6f7747668f49f36ab083c94f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3e7f28aaef99439a847c9f1927a0a696", name: "TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd852fe2206c74138909ddf0aa55327e5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6882f3cb3db5460ba7268c61ae04c913", name: "AT - ACDL - Form Started - Recommendations Entity Params", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = _satellite.getVar("topLevelDomain"); if ("bmw.de" == e || "bmw.fr" == e || "bmw.it" == e || "bmw.es" == e || "bmw.uk" == e) return !0 } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isTargetAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC167514d9b70b4eb5990268323da3b800-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RLee6e2177e154430ca33d4d74ffad56b8", name: "TPT - ZA - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2416c83d4ac84bb18093d241594c691a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbdaa1677340b411098ed95e99a2e296d", name: "TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[data-bm-safe-click="saveVehicleToGarage()"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "www.bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "contains" }, leftOperand: "%pageInstanceId%", rightOperand: "/ssl/configurator" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a7792e06b0c484386dd85ec895d6fab-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ee4fbf2724e41a0bc73380e84ffb22f", name: "TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/bmw-hoest-vinter-tillbehoer.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3cef733350e24078a2c856e4aeb3bdd6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2e4cc80d5793472d8d8ce079a5d71d99", name: "TPT - AU - AEM - Facebook - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("re-trigger-third-party", (function (t) { t.detail && e() })) } catch (e) { _satellite.logger.error("TPT: Search Tag ", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdd74f1c0590d4127bf93e8c1d00477bf-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL81c1a389a6dc42089545d2010da68ae8", name: "TPT - UK - AEM - GTagDC - RFI Form Sub - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8d92667a01dc4c229fdb133c3b5021ae-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbd0997f8e8354ca0a53cf395f65b0df9", name: "TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ca", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/topics/details/bmw-ukl.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4a9bd78de436401cb6f4ece104527caa-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd5c23fbda1674ab3b7bed73298d512c6", name: "TPT - BG - AEM - DoubleClick - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCacf41baf2df94d76bf206df528d3de14-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8d24ac4069d6469ab0edbbf1c004f376", name: "TPT - AT - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08561352fe244f16bb702589bd106182-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL88213ab1859448c1a077dea57bdbfdfd", name: "TPT - LU - AEM - SpeedCurve - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc31ce07aefa046e7b385ca6c952d86dc-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL177228f6c2b1489cabf3f711368f8a6d", name: "TPT - FR - AEM - Facebook - Site Search - PLR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC415f9c3d98b74dfba83eca430dba58a9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL82608252727b4f089a899448fca48f67", name: "TPT - AT - AEM - Adform - Site Search - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00368669db5e4335ac63ce3c2b01e2ea-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1350c8e8bf354532a809fb1034ee2c4b", name: "TPT - IT - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcad69bc5207942128e2d279e09da9084-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL18485732ade34eedbce262c9a4032c53", name: "TPT - BE - AEM - GTagDC - Temp Form Start - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc332628ea804419faaef21a91eebd15a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLef59d938e69541ccb000d1c55b244a14", name: "TPT - PT - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{
            modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50
        }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4be3b89a8b724dceba42eb5de7109de2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RL25d3222e25064e15b6f62b7d11852dcf", name: "TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://www.mini.com.au/corporatebenefits/"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCce7e37aee2d54ba5b06c8b6a83903b67-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeae61135df4b4b06aef988f7a9d40050", name: "TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a[href$='pdf']", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeea18b46331a48668ce4021459c62649-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL35c50da610f74f5d8047542cd850b9ce", name: "TPT - RU - AEM - IgnitionOne - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCdef614f5556f41339de097e44e02be24-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL52c853bca4064740b8bf3409d5aca82b", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_collect" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC35e9685cf7464c7f8d3e36c0843982f1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL45248a1c8e4848819b9d5bf437d86c3a", name: "TPT - HU - AEM - Facebook - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "HU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4a9770b81ee343a394c309bd618a2721-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9ab378accab545da8e3c62838a101493", name: "TPT - IT - AEM - GTagDC - SignIn - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4584cf08d2bb4cbd8d71fb9225f37cf2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1096e68fc1b346059a3e19e73536523e", name: "TPT - NL - AEM - Gtag - iFrame ROI Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "NL" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8aab82ca8d544923b4e13daf4ffdd699-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1b8060c9f132408dba980e363f4fdee7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL473b1a799d7d4654bef09301813a516d", name: "TPT - PL - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCad3f3e04d21a49d68929735f8cde2dfe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7432cca85d5846fe93ea6ed126e3ebfc", name: "TPT - BG - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "BG" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa53dd8ecb6e346c68694c39215367530-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC00039989a9df485b95c6eaa917d5ff50-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL19de80a284924934a39fb03d58b6e511", name: "TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) return _satellite.setVar("previousStepName", e), !0 } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb1f52b9d8a5e4a95929b557aa7662a5f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaeeff285ab5a445f88809c5bda9758d8", name: "TPT - UK - AEM - GTagDC - Download App Button Click - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "//b.mw/mybmwapp", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/owners/bmw-apps/my-bmw-app-overview.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb3b144b56e114013b4e339742c854fc1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4283c360d22e4da9b8d6f3c9586ca5c2", name: "TPT - PT - AEM - Adform - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3e7a7ff33ca14188a243797000ba74f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1c34dc86725a4f1bae4ab527de64f7d6", name: "TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCde88130aede944cf82a87d56f9b730de-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa09eb0678dab4427be7179724c184185", name: "TPT - IT - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd7c016f3c713420c953c37259468137e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL80ed1256d838478e9b186cfc9ad16a56", name: "TPT - IE - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6eb7fd90a57d452c862fc791531576e8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6ebc861baa9c44c1b0f60e2f40c765e9", name: "TPT - RU - AEM - VK Pixel - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa43e17fa144041119b4503eafc2497a0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL29bb6abf3c0c467db51702c30817fbb3", name: "TPT - LU - AEM - Facebook - DCS Form View - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs_pv" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC743968e1482c46b68e1c5bb14e6f5649-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7f222e354aa84c379eda6ce1688893a3", name: "TPT - RO - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6c56aed293bc485e9cc89f335472f411-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcfd886fc106a49eeb3292f50be4e03f7", name: "DCR - All - AEM - AA - LCI", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "new_pre_configuration" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_image" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "internal_click" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_content" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_layer" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "close_image" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = ""; var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.eventAction"), n = (s.get("event.-1.eventInfo.cause"), s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")), r = (s.get("component.-1.category.subCategory01"), s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName"))), i = +new Date, c = _satellite.getVar("snapshotDL").get("page.pageInfo.variant"); if ("small_teaser" != n && "multicontent" != n && "new_pre_configuration" != n && "offers" != n && "line_component" != n && "new_gallery" != n && "highlight" != n && "uxs-highlight" != n && "micro_story" != n) return void (t.abort = "true"); _satellite.getVar("setDefaultVariables", e)(t), "Close image" == o || "Open layer" == o || "Open navigation" == o || "Open showroom" == o || "Internal click" == o || "Open image" == o || "Open content" == o || "Outbound click" == o || "Download" == o ? (t.events = t.apl(t.events, "event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918")) : "Download" == o ? (t.events = t.apl(t.events, "event917,event918,event903,event904"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event903,event904")) : "Contact Form" == a ? (t.events = t.apl(t.events, "event1,event2"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event1,event2")) : "Call Center" == a ? (t.events = t.apl(t.events, "event913,event914"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event913,event914")) : "Start video" == o && (t.events = t.apl(t.events, "event917,event918,event351"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918,event351")), t.prop19 = "virtual page" === c ? "new car stock locator" : s.get("component.-1.componentInfo.componentName"), t.prop56 = "interaction", t.prop53 = "ux", t.eVar34 = "nsc > " + a + " clicked", t.prop52 = "default", t.prop1 = t.pageName = -1 == r.indexOf("nsc >") ? "nsc > " + r : r, t.prop5 = s.get("page.category.subCategory02"), t.prop2 = s.get("page.category.pageType"), t.prop28 = "virtual" == s.get("page.category.pageType") ? "virtual page" : "", t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timestamp", i), t.eVar71 = s.get("event.-1.eventInfo.target"), t.prop50 = s.get("event.-1.eventInfo.element"), t.prop54 = s.get("event.-1.category.primaryCategory"), t.eVar17 = s.get("user.-1.profileInfo.visitorID"), t.prop3 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName", s.get("component.-1.componentInfo.componentName")), t.prop55 = s.get("component.-1.category.subCategory01"), t.prop44 = s.get("event.-1.attributes.relatedComponent.componentInfo.componentID", s.get("component.-1.componentInfo.componentID")), "multicontent" == t.prop19 ? t.eVar136 = "2020 - 06- 15 multi_content" : "new_pre_configuration" == t.prop19 ? t.eVar136 = "2020 - 06- 15 new_pre_configuration" : "offers" == t.prop19 ? t.eVar136 = "2020 - 06- 15 showroom" : "line_component" == t.prop19 ? t.eVar136 = "2020 - 06- 15 line_component" : "highlight" == t.prop19 || "uxs-highlight" == t.prop19 ? t.eVar136 = "2020 - 06- 15 uxs-highlight" : "new_gallery" == t.prop19 && (t.eVar136 = "2020 - 06- 15 new_gallery"); var d = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr", s.get("event.-1.category.mmdr"))), l = _satellite.getVar("setDefaultProductVariables"); if (l.id = s.get("event.-1.attributes.mmdr", s.get("product.-1.attributes.mmdr", s.get("product.-1.productInfo.productID"))), l.category = "new vehicle", l.merchEvars.eVar52 = s.get("event.-1.attributes.productName", s.get("product.-1.attributes.modelName", s.get("product.-1.productInfo.productName"))), l.merchEvars.eVar60 = s.get("event.-1.attributes.manufacturer", s.get("product.-1.productInfo.manufacturer")), l.merchEvars.eVar10 = d, l.merchEvars.eVar53 = "new car", t.prop51 = s.get("event.-1.eventInfo.eventPoints"), t.products = l.toString(), t.prop74 = "bmw .next - nsc|dcr - all - aem - aa - lci", "download" == e.identifier && (t.events = t.apl(t.events, "event903,event904"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event903,event904")), "undefined" != t.products) { var u = "", m = 0, b = "", p = ""; t.products && (m = (u = t.products).indexOf("eVar")) > 0 && (b = u.substring(m, u.length), p = u.substring(0, m), m > 0 && b.length > 0 && (t.products = p + b.replaceAll(/[,]/g, " "))) } t.linkTrackVars = t.apl(t.linkTrackVars, "products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "LCI", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc8b8030dcd33496aa401c17633008322", name: "TPT - SK - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCcb355f46c6774d55bc2376c623ff46ee-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6e74f82b45444a3aa84d85d509aac122", name: "TPT - ZA - AEM - VeInteractive - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/en/all-models/1-series/5-door/2015/start.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd3b5b48f31114437a39999d26e298898-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4a398b026226498ba121ad9ba495ded5", name: "TPT - JP - AEM - WebChat - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.jp", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC52fda760137840329f350655932df5c4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6f0edbd98ec546f2adcbebfc2c25dfbe-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL605b6a9984224582a55114637394958b", name: "TPT - ES - AEM - ContentSquare - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC343a44a5801e4eae9ea6e5eba5400805-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6cc4cb91520c4370b3a8fee385ee4d4d", name: "TPT - DK - AEM - Adform - Outbound Click - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/da/generelt/produkt-tilbud/tilbud/kampagne.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC352a46aea4e74bdcbdbfbd1147aca201-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9bd03406cbbe43b39f098825020cd758", name: "TPT - SK - AEM - Adform - Brochure Download - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc0b48f05a31e41a0953baabc34cb0262-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4722a640572b40cfbd65618dd35def64", name: "TPT - SK - AEM - Adform - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3ab15edba7234d02910eedf87a701381-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLce2281fa4a4b460285a0892ba85308ae", name: "TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_oli_fs_invoice" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5b6223fda86746ee814fc98d8d296502-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1b5360d20c364c9393937ad272811237", name: "TPT - IT - AEM - Adwords - Book a test drive Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "div.col-sm-3 a.car-version,div.col-sm-3 a.car-version span", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/test-drive-now/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC799f6b3be46843d79a5ac35c31a15002-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb158dc9349b74ff791d14b86ce7c7a89", name: "TPT - PT - AEM - GTagDC - Stock Locator - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa5ef0edd51ed4bc8b3bb90b966565c6f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8d3bab6e9a414672b59ddef0351846bb", name: "TPT - HU - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC252ac863929b4dec94ebd0a31de3ec52-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL68019a5becf4488c80241bd1e461417f", name: "TPT - TH - AEM - GtagAW - Multiple - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2b349726bad14827b653ffaaebfee79f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL13686a254fc74802a36767a1cb74c880", name: "TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%pa_cat_subCategory01%", rightOperand: "TDA" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4320944e3d8f47baad356fad93dd1122-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLaf17dbe18725401488ad0b497cc8adf2", name: "TPT - IE - AEM - Facebook - Multiple - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0a59d819c7e0498aa79f60f1e57ae968-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0ad479bae3cc43279bd85636e044f959", name: "TPT - IT - AEM - Bing - Video Start - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb1d3a766a71f478b995bf020cd7e7d8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL88fbacffe4104c4a8c75a6164e35d7ff", name: "TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "temp_form_start" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb51a89feb4984b6ead1f513157163c8e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RLde702b917b8a40ac92425738ff2704da", name: "EBR - All - AA - stageX ACDL Tron - Event", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { function t(e, t, s) { try { s = s || "datalayer field missing"; for (var a = ["", "na", "not set", "n/a", "not available"], o = (t = t || "").split("."), n = e, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && a.indexOf(n.toLowerCase()) > -1 ? "datalayer field empty" : n || s } catch (e) { console.error("Error:", e) } } let s = e.message, a = e.fullState, o = t(s, "eventInfo.eventName"), n = t(s, "eventInfo.reference.linkedComponent"), r = t(a, "component")[n], i = t(r, "componentInfo.componentName"); return !(["adobe form", "forms", "enhanced activity map", "stageX aem page", "video player eggs", "video player", "visualizer", "central car stock locator"].indexOf(i) > -1 || ["bounce timer"].indexOf(o) > -1) } }, timeout: 2e3 }], actions: [{ modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 2e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        function s(e, t, s) {
                            try {
                                s = s || "datalayer field missing"
                                ; for (var a = ["", "na", "not set", "n/a", "not available"], o = (t = t || "").split("."), n = e, r = 0; r < o.length && null != n; r++)n = Array.isArray(n) && /-[0-9]+/.test(o[r]) ? n[n.length - Math.abs(parseInt(o[r]))] : n[o[r]]; return "string" == typeof n && a.indexOf(n.toLowerCase()) > -1 ? "datalayer field empty" : n || s
                            } catch (e) { console.error("Error:", e) }
                        } try { var a = e.message, o = e.fullState, n = s(o, "page.pageInfo.destinationURL", window.location.href), r = _satellite.getVar("smartPreviousValueManager"), i = new Date, c = i.getHours() <= 9 ? "0" + i.getHours() : i.getHours(), d = i.getMinutes() <= 9 ? "0" + i.getMinutes() : i.getMinutes(), l = i.getSeconds() <= 9 ? "0" + i.getSeconds() : i.getSeconds(), u = i.getUTCHours() <= 9 ? "0" + i.getUTCHours() : i.getUTCHours(), m = i.getUTCMinutes() <= 9 ? "0" + i.getUTCMinutes() : i.getUTCMinutes(), b = i.getUTCSeconds() <= 9 ? "0" + i.getUTCSeconds() : i.getUTCSeconds(), p = (s(o, "page.attributes.brand"), s(o, "page.pageInfo.geoRegion"), s(o, "page.pageInfo.language"), s(o, "page.category.primaryCategory"), s(o, "page.pageInfo.pageName"), s(a, "eventInfo.eventName")), g = s(a, "eventInfo.reference.linkedComponent"), f = s(o, "component")[g]; if (t.referrer = s(o, "page.pageInfo.referringURL"), t.server = location.host, t.pageType = "error" == s(o, "page.category.pageType") ? "errorPage" : s(o, "page.category.pageType"), t.pageName = s(o, "page.pageInfo.pageName"), t.prop1 = s(o, "page.pageInfo.pageName"), t.prop2 = s(o, "page.category.pageType"), t.prop3 = s(o, "page.category.primaryCategory"), t.prop4 = s(o, "page.category.subCategory1"), t.prop5 = s(o, "page.category.subCategory2"), t.prop13 = s(o, "page.attributes.brand"), t.prop14 = u + ":" + m + ":" + b, t.prop15 = c + ":" + d + ":" + l, t.prop19 = s(f, "componentInfo.componentName"), t.prop27 = s(o, "page.pageInfo.pageID"), t.prop28 = s(o, "page.pageInfo.variant"), t.prop29 = s(o, "page.pageInfo.version"), t.prop30 = s(o, "page.category.subCategory3"), t.prop31 = r.get("pagePrimaryCategory"), t.prop32 = r.get("pageSubCategory01"), t.prop33 = r.get("pageName"), t.prop41 = s(f, "category.componentType"), t.prop42 = s(f, "category.primaryCategory"), t.prop43 = s(f, "category.subCategory1"), t.prop44 = s(f, "componentInfo.componentID"), t.prop45 = s(f, "attributes.componentVersion"), t.prop46 = s(o, "page.pageInfo.author"), t.prop47 = t._ppvHighestPercentViewed, t.prop48 = t._ppvFoldsAvailable, t.prop49 = t._ppvFoldsSeen, t.prop50 = "page title", t.prop51 = s(a, "eventInfo.category.subCategory2"), t.prop52 = s(a, "eventInfo.cause"), t.prop53 = s(a, "eventInfo.type"), t.prop54 = s(a, "eventInfo.category.primaryCategory"), t.prop55 = s(a, "eventInfo.category.subCategory1"), t.prop56 = s(a, "eventInfo.eventName"), t.prop57 = s(a, "eventInfo.eventAction"), t.prop60 = _satellite.getVar("AA-consentMetaData")("drawer"), t.prop61 = _satellite.getVar("AA-consentMetaData")("identities"), t.prop62 = _satellite.getVar("AA-consentMetaData")("settings"), t.prop63 = _satellite.getVar("AA-consentMetaData")("defaults"), t.prop64 = _satellite.getVar("AA-consentMetaData")("consents"), t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? "landscape" : "portrait", t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.campaign = _satellite.getVar("campaign"), t.eVar4 = n, n.length > 255 && (t.eVar5 = n.substring(255, n.length)), t.eVar6 = document.referrer.split("/")[2], t.eVar7 = s(o, "page.pageInfo.language"), t.eVar8 = s(o, "page.pageInfo.geoRegion"), t.eVar9 = s(a, "eventInfo.attributes.iframeURL"), t.eVar11 = window.location.hash.split("?")[0].split("#")[1], t.eVar12 = window.location.protocol + "//" + window.location.host + window.location.pathname, t.eVar13 = window.location.hash ? window.location.hash.split("?")[1] : window.location.search.slice(1), t.eVar14 = r.get("url"), t.eVar15 = s(o, "user.profile.profileInfo.type"), t.eVar16 = s(o, "user.segment"), t.eVar17 = s(o, "user.profile.profileInfo.profileID"), t.eVar18 = s(o, "page.pageInfo.pageTitle || document.title"), t.eVar28 = r.get("componentSubcategory1"), t.eVar29 = r.get("pathName"), t.eVar34 = s(a, "eventInfo.effect"), t.eVar61 = t.eVar62 = t.campaign, t.eVar63 = _satellite.getVar("AA-InternalcampaignParameter"), t.eVar64 = _satellite.getVar("AA-SearchAds360Parameter"), t.eVar71 = s(a, "eventInfo.attributes.requestedURL"), t.eVar132 = window.navigator.userAgent, t.eVar134 = s(f, "attributes.touchpoint"), t.eVar135 = s(o, "page.pageInfo.sysEnv"), t.eVar136 = s(o, "version"), t.eVar137 = "AEM6", t.eVar161 = "datalayer field missing", t.eVar162 = "datalayer field missing", t.eVar171 = t.Util.getQueryParam("cid"), t.eVar172 = t.Util.getQueryParam("bid"), r.update("pageSubCategory01", t.prop4), r.update("pagePrimaryCategory", t.prop19), r.update("url", t.eVar4), r.update("jcrPath", window.location.pathname), r.update("pathName", t.eVar12), r.update("pageName", t.prop1), r.update("componentSubcategory1", t.prop43), void 0 !== window.epaas.api.getPersistence("bmwdtm_hq_perf") && "" != window.epaas.api.getPersistence("bmwdtm_hq_perf") && null != window.epaas.api.getPersistence("bmwdtm_hq_perf")) { var v = window.epaas.api.getPersistence("bmwdtm_hq_perf"); json_data = JSON.parse(v), json_data.timeServer = json_data.timeServer < 0 ? "0" : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? "0" : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? "0" : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? "0" : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? "0" : json_data.timePageReady, "ok" == json_data.status && (t.events = t.apl(t.events, "event971=" + json_data.timeServer, ",", 1), t.events = t.apl(t.events, "event972=" + json_data.timeServerReact, ",", 1), void 0 !== json_data.lcp && (t.events = t.apl(t.events, "event973=" + json_data.lcp, ",", 1)), t.events = t.apl(t.events, "event974=" + json_data.timeContent, ",", 1), t.events = t.apl(t.events, "event975=" + json_data.timePageReady, ",", 1), void 0 !== json_data.fid && (t.events = t.apl(t.events, "event968=" + json_data.fid, ",", 1)), void 0 !== json_data.cls && (t.events = t.apl(t.events, "event969=" + json_data.cls, ",", 1), t.events = t.apl(t.events, "event967=" + json_data.clsTotal, ",", 1)), t.eVar36 = _satellite.getVar("perfTime_url"), t.eVar37 = _satellite.getVar("perfTime_query"), t.eVar38 = _satellite.getVar("perfTime_hash"), void 0 !== json_data.fidHTML && (t.eVar67 = json_data.fidHTML), void 0 !== json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML)), window.epaas.api.setPersistence("bmwdtm_hq_perf", "") } var h = s(a, "eventInfo.eventPoints", "0"); if (t.events = t.apl(t.events, "event970=" + h, ",", 1), p.indexOf("form") > -1) { t.prop6 = s(a, "eventInfo.category.primaryCategory"), t.prop7 = s(a, "eventInfo.category.subCategory1"); var P = s(a, "eventInfo.effect"); P.indexOf(">") > -1 ? t.prop8 = P.split(">")[1].trim() : t.prop8 = P, t.prop9 = s(a, "eventInfo.attributes.form.stepAmounts"), t.prop10 = s(a, "eventInfo.attributes.form.formVariant"), t.prop11 = s(a, "eventInfo.type"), t.prop16 = s(a, "eventInfo.attributes.form.stepName"), t.prop17 = s(a, "eventInfo.attributes.form.rfxID"), t.prop18 = s(a, "eventInfo.category.subCategory2"), t.linkTrackVars = t.apl(t.linkTrackVars, "prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18", ",") } var j = s(a, "eventInfo.type"); "video" != j && "audio" != j || (t.prop36 = s(a, "eventInfo.category.subCategory1"), t.prop37 = s(a, "eventInfo.category.subCategory2"), t.prop38 = s(a, "eventInfo.type"), t.linkTrackVars = t.apl(t.linkTrackVars, "prop36,prop37,prop38", ",")), _satellite.getVar("fusionEventMapping", e)(t), _satellite.getVar("fusionProductString", e)(t), null != t.linkTrackEvents || "" != t.linkTrackEvents ? t.linkTrackEvents = t.apl(t.linkTrackEvents, t.events, ",") : t.linkTrackEvents = t.events, null != t.linkTrackVars || "" != t.linkTrackVars ? t.linkTrackVars = t.apl(t.linkTrackVars, "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events", ",") : t.linkTrackVars = "referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events" } catch (t) { _satellite.logger.error(t, e.$rule.name) }
                    }
                }, trackerProperties: {}
            }, timeout: 2e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkType: "o" }, timeout: 2e3, delayNext: !0 }]
    }, { id: "RLabb38a8318c24b8b8bea6e31f971bdcd", name: "TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "contacto@bmwfs.com.ar", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.ar", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/es/topics/fascination-bmw/bmw-financial-services.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa11d6c9166624736a8ecb960729055db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL083f54e7f3934482b8633987ae276f15", name: "TPT - BR - AEM - Adwords - Form Submit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (void 0 !== t.data && t.data.toString().indexOf("addEventTracking") > -1) { var s = JSON.parse(t.data), a = s.args[1]; "addEventTracking" == s.methodName && (_satellite.setVar("eventtracking", a), e()) } })) } catch (e) { console.log(e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.br", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pt/integration/solicite-uma-proposta.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe3b8d9849d3945af97742e22812faa90-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLab567b5e9d9c4decbe955c9290f024fc", name: "TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event", elementProperties: [{ name: "href", value: "tel.*", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/footer/metanavigation/contact.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9c9779a9ec14488aa8e5ac40943b4408-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL116d759a265f4347a0cf71de211083ba", name: "TPT - MX - AEM - GoogleSearch - Multiple - PLR", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.mx", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC20eef743fb2b440bbc2fe8ff1b8bff31-source.min.js", language: "html", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL80c6fe942d6c42dca31102d0eda1fd05", name: "TPT - AT - AEM - Adform - Sign In - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd001d44ffd97479181dfa3adc0d9314a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6beccee271c141b4949e73998ad61890", name: "TPT - UK - AEM - GTagDC - Register for Updates Form Submit - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_roi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/forms/pdi_bmw_i2963_dc.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd026d91ec51449b19d8f898cf6bd736a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa11fd90e6f36417da71dafb03658243a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe0b64044e4b54fdc889f0b439bca2119", name: "TPT - AT - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l] copy", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc9fb5dc87c174179a84baea91333da56-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9d933b775c634c0e8b8f832d28fa78b5", name: "TPT - DE - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe41a506c575543c4b9b9d7d38b4f4790-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLb18d70060f1e44ef963522984b332722", name: "TPT - SI - AEM - Adform - Configuration Land - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5842da34033848abb88ed6b372d0b792-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb3900bcd4a304772b8e5b9eb82aecfa6", name: "TPT - SK - AEM - AdWords - Broucher - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".ds2-sticky-sales-bar__link.ds2-tracking-js--event", elementProperties: [{ name: "title", value: "RFI" }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC89f6aa06ad234895a2e97fed47463a17-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa868dfaf29ed4ee6bd032fea17afb736", name: "TPT - AT - AEM - GTagDC - Dealer Locator - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC74a8593506cb4d8193db088fe0fb2ad1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL388002576a614713bc314c9ef0f16fb0", name: "TPT - DE - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe7898c5b8df24589bdcf875ce0f4b4f4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLde3aeaa34cd341bd8c8e189eb024f103", name: "TPT - NL - AEM - GTagDC - SignIn - EBR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9d996d4b5c404f1ab2574d2c7367fd39-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLad072056e4ee4ed7ad533c54b3cea3d8", name: "DCR - All - AEM - AA - Stock Locator Page", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("smartPreviousValueManager"); _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var a = _satellite.getVar("snapshotDL"); t.prop27 = a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", a.get("page.pageInfo.pageID")), t.eVar135 = a.get("page.pageInfo.sysEnv"), t.prop50 = "page title", t.prop17 = t.prop44 = t.eVar71 = t.prop54 = t.prop11 = t.prop7 = t.prop8 = t.prop6 = t.prop55 = t.prop51 = t.prop24 = t.prop52 = t.eVar34 = t.prop57 = t.prop56 = t.prop58 = t.prop12 = t.prop53 = t.eVar23 = t.eVar24 = "", "undefined" == t.products && (t.products = ""), t.prop1 = a.get("page.pageInfo.pageName"), t.prop1.indexOf("sl >") < 0 ? t.prop1 = "stock > " + t.prop1 : t.prop1 = t.prop1.replace("sl >", "stock > "), t.pageName = t.prop1, s.update("pageName", t.prop1, !0), t.prop42 = "stock locator", t.prop43 = -1 != a.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator") ? "used car stock locator" : _satellite.getVar("AA-componentDefaultValues").subCat; var o = a.get("component.0.componentInfo.componentName"); t.prop19 = "digital > new car stock locator" === o ? "central new\xa0car stock locator" : "central used\xa0car stock locator", s.update("componentSubcategory1", t.prop43, !0), s.update("url", t.eVar4, !0), s.update("pageSubCategory01", t.prop4, !0), t.eVar14 = s.get("url"), t.prop31 = s.get("pagePrimaryCategory"), t.prop32 = s.get("pageSubCategory01"), t.prop33 = s.get("pageName"), t.eVar28 = s.get("componentSubcategory1") } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL651fc8f02ee14bc49973adecbb54d223", name: "TPT - MY - AEM - Involve Asia - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/footer/metanavigation/test-drive-request-confirmation.html|/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html|/all-models/3-series/sedan-long-wheelbase/2021/test-drive-confirmation.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2f8e7f18d4ce4823a0b1a88e961fd69f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb5477a55971d4ae896447fe0d65af310-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC17411622156f40c48ad94cd137d5fe9d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc799e5a782284ad1bfeca1f8cd6c6624", name: "TPT - HU - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf65ca2d0135f448c98d1b686fbd4b66d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2eef5d674d3c41089553376aa36c6ff3", name: "TPT - MY - AEM - Adwords - TDA Submission - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.my", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/footer/metanavigation/test-drive-request-confirmation.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc8b24d4c055e40479f589796fe3fdf44-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9f5e4aef82274e68a74412c207f8db89", name: "DCR - All - AEM - AA - Compare", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "compare_technical_data_interaction" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s, a, o, n, r, c = _satellite.getVar("snapshotDL"), d = c.get("event.-1.attributes.linkedComponent.componentInfo"); for (i = 0; i < c.get("component").length; i++) { var l = i.toString(); c.get("component." + l + ".componentInfo.componentID") == d && (_satellite.logger.log("related component - " + l), a = c.get("component." + l + ".componentInfo.componentName", c.get("event.-1.attributes.relatedComponentName", c.get("product.-1.attributes.relatedComponentName"))), s = c.get("component." + l + ".componentInfo.componentID", c.get("component." + l + ".componentInfo.componentId")), o = c.get("component." + l + ".category.primaryCategory"), n = c.get("component." + l + ".category.subCategory01"), r = c.get("component." + l + ".category.componentType", c.get("component." + l + ".componentInfo.componentType"))) } t.prop55 = c.get("event.-1.attributes.errorCode"), t.eVar151 = c.get("event.-1.attributes.totalVehicleCount"), t.eVar34 = c.get("event.-1.eventInfo.effect"), t.eVar34.indexOf("nsc >") < 0 && (t.eVar34 = "nsc > " + t.eVar34), t.prop41 = r, t.prop42 = o, t.prop43 = n, t.prop44 = s, t.prop19 = a, t.prop1 = c.get("page.pageInfo.pageName"), t.prop1.indexOf("nsc >") < 0 && (t.prop1 = "nsc > " + t.prop1), t.pageName = t.prop1, t.linkTrackVars += "prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "compare", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RLb4489f2675cb480eabbdeaa28696e0ef", name: "TPT - SK - AEM - Adwords - Adobe form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3e546ecc7e6f42b6a4a4bc7f7632d951-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL575a53cc7caa4d7381fe3a49a8bae73a", name: " TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://configure.bmw.ie/en_IE/configure/G20/3SBO", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf8d5b359261149e9b95ce372f612a83e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLeb313b8040b14d9c9717340eeb0d7db9", name: "TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://discover.bmw.ie/bmwoffers/bmw-3-phev/", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en/topics/discover/electromobility/plug-in-hybrids.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC293ebdf0da824d07a9cebfc5fbe5e5f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf3d874e1766f48089e1421b3a53526c2", name: "AT - ACDL - Form Finished - Recommendations Entity Params", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = _satellite.getVar("topLevelDomain"); if ("bmw.de" == e || "bmw.fr" == e || "bmw.it" == e || "bmw.es" == e || "bmw.uk" == e) return !0 } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isTargetAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 2e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC39fa339b6cfa4f429b3e6abc800e0f27-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 2e3, delayNext: !0 }] }, { id: "RL21f473b1a75841ee9f577ab5acc81430", name: "TPT - DE - AEM - Outbrain - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC095129b99f734c7691c3300269b84df3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc342a0b069964a829c76b9b99dd44561-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0ef3969e21b34ecc8784800b92b47495-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, {
        id: "RLe1aa471569444c9197ab0e12c2b6db4b", name: "DCR - All - AEM - AA - Stock Locator Event", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, {
            modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: {
                customSetup: {
                    source: function (e, t) {
                        try {
                            _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.effect"), o = s.get("event.-1.eventInfo.eventName"), n = s.get("event.-1.attributes.searchResults"); if (_satellite.getVar("smartPreviousValueManager"), t.prop27 = s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", s.get("page.pageInfo.pageID")), t.eVar135 = s.get("page.pageInfo.sysEnv"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop1.indexOf("sl >") < 0 ? t.prop1 = "stock > " + t.prop1 : t.prop1 = t.prop1.replace("sl >", "stock > "), t.pageName = t.prop1,
                                t.eVar34 = s.get("event.-1.eventInfo.effect"), t.eVar34.indexOf("sl > click dealer email") > 0 ? t.eVar34 = "stock > click dealer email" : t.eVar34 = t.eVar34.replace("sl > click dealer phone", "stock > click dealer phone"), t.eVar34.indexOf("sl >") < 0 ? t.eVar34 = "stock > " + t.eVar34 : t.eVar34 = t.eVar34.replace("sl >", "stock > "), a && a.indexOf("search filter selected") > -1 && (t.prop56 = "search", t.prop55 = n, t.prop53 = "vehicle"), -1 != a.indexOf("/ssl/requests/rfo") || -1 != a.indexOf("/topics/offerte") || -1 != a.indexOf("contact.bmw.fr") || -1 != a.indexOf("/checkout/cart") || -1 != a.indexOf("/forms/angebotsanfrage") || -1 != a.indexOf("/contact/campagne-stock-locator") || -1 != a.indexOf("/forms/rfo") || -1 != a.indexOf("/ko/fastlane") ? (t.events = t.apl(t.events, "event375,event376"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event375,event376")) : "sl > start" == o && (t.events = t.apl(t.events, "event371,event372"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event371,event372")), _satellite.getVar("snapshotDL").get("page.pageInfo.variant"), t.prop42 = "stock locator", t.prop43 = -1 != s.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator") ? "used car stock locator" : _satellite.getVar("AA-componentDefaultValues").subCat, "digital > new car stock locator" === s.get("component.0.componentInfo.componentName") ? (t.prop19 = "central new\xa0car stock locator", t.prop54 = "central new\xa0car stock locator") : (t.prop19 = "central used\xa0car stock locator", t.prop54 = "central used\xa0car stock locator"), "sl > start" === (o = s.get("event.0.eventInfo.eventName")) || "sl > interactions" === o || "sl > ss: start" === o || "sl > ss: interaction" === o ? t.prop56 = "interaction" : "sl > errors" !== o && "sl > ss: errors" !== o || (t.prop56 = "error"), void 0 === a || -1 == a.indexOf("banner slided right") && -1 == a.indexOf("vehicle details clicked") && -1 == a.indexOf("banner slided left") && -1 == a.indexOf("back") && -1 == a.indexOf("banner slided with pagination dot") && -1 == a.indexOf("ss : show vehicle details clicked") && -1 == a.indexOf("disclaimer layer closed") && -1 == a.indexOf("ss : see more vehicles clicked") && -1 == a.indexOf("show all vehicles") && -1 == a.indexOf("accordion") ? void 0 === a || -1 == a.indexOf("dealer selection") && -1 == a.indexOf("sort lowest price") && -1 == a.indexOf("location selection") && -1 == a.indexOf("sort") ? void 0 === a || -1 == a.indexOf("stock locator started") && -1 == a.indexOf("ss : similarity search started") && -1 == a.indexOf("disclaimer layer opened") || (t.prop53 = "automatic") : t.prop53 = "success" : t.prop53 = "ux", t.products) t.products.indexOf("search") > -1 && (r = _satellite.getVar("setDefaultProductVariables"), t.products += r.toString()); else { var r = _satellite.getVar("setDefaultProductVariables"); t.products = r.toString() } t.linkTrackVars += "prop27,prop56,prop55,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,prop54,products"
                        } catch (s) { _satellite.getVar("catchblock", e)(t, s) }
                    }
                }, trackerProperties: {}
            }, timeout: 5e3, delayNext: !0
        }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "stocklocator", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLac9c520d63544813ac225618636c8aea", name: "TPT - RU - AEM - DoubleClick - Started TDA - EBR", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0f51a501907b464a8e25ccf33fa61df9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL781d2d6f4bcd4f6ab505d9335ac91af0", name: "TPT - ES - AEM - GTagDC - Sign In - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { anchorDelay: 1e3, elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.es", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4a04a000423048f5b9339db4e1569eba-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLea1ef7082a68488bbbafec1ec775f1b4", name: "ACDL GROUP - ALL - ANY - DLP - 0060 - product mmdr to mmdrVG", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4fccd56c9fd64bc8bbf0f6c1bbe50694-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }] }, { id: "RLa98d691293b4457bab26316d75859797", name: "TPT - GR - AEM - Dynatrace - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC990069cde8c3442bb00e9deddcbb3588-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL40c97698a1684d539caf8570431139d5", name: "AT - DCR - Stock Locator Started - Recommendations Entity Parameters", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = _satellite.getVar("topLevelDomain"); if ("bmw.de" == e || "bmw.fr" == e || "bmw.it" == e || "bmw.es" == e || "bmw.uk" == e) return !0 } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isTargetAllowed%", rightOperand: "true" }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { return "sl > vehicle" == _satellite.getVar("snapshotDL").snapshot.page.pageInfo.pageName } }, timeout: 2e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 2e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC22c78bad603b4c86a6034f751e4e8363-source.min.js", language: "javascript", isExternal: !0 }, timeout: 2e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 2e3, delayNext: !0 }] }, { id: "RLad33aebf0ce140dc922d7cf238aba795", name: "TPT - PT - AEM - GTagDC - Brochure Download - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "download" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa3be78685bb04b36933c4580bc302727-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL843c14e7cf3b49669ed6ef11f83c0df8", name: "TPT - DK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1842111bed9b4e13978d24a1660415d5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6e3ef5f24cba4356abd9d68bd32b8af4", name: "TPT - RO - AEM - GTagDC - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC67f849ea40364f6ca4056e77e2de7a0b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL353d940c0d5e449280aa248153df898a", name: "TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.th", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfd52c27348a74f9aa837808881b5f685-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL00abdf7f3cbc4df59bf318e5fc3cd0aa", name: "TPT - PT - AEM - GTagDC - Sign In - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: ".button.expand.ds2-tracking-js--event.myBmwLogin", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC46fb16ff157546f9ac460cdcf8639a31-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL21a848ef4f524081ba9ae268f1786d46", name: "TPT - SI - AEM - Facebook - Make Appointment - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC79e1de160b974c7daabf05141f6f97e4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3ddba63c9b674e41b4ed743815fca78b", name: "TPT - BE - AEM - Adform - Form Submission - RFI - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.be", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCec1d283a34ca4f3d9539f8c4610b397b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL41e77a96069e464492cae74be1fc3a5a", name: "PLR - ALL - NSC - AA - share Campaign with IUCP", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC97844b73b8344189ab042df4f78f1d0e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9fd2f466a5fc476a9fd01dd098342e00", name: "TPT - ZA - AEM - LinkedIn - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC580acda06e7a4d46a5accee2c49010eb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1b4f3efa531d40b083e6fca0ddb437be", name: "EBR - CA - iFrame - AA - ACS Page Load", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { try { window.addEventListener("message", (function (t) { if (-1 != ["https://sf-acs.bmw.ca", "https://sf-acs-i.bmw.ca"].indexOf(t.origin)) if (t.data) try { _satellite.logger.log(JSON.parse(t.data)); var s = JSON.parse(t.data); s.detail && s.detail.custom && Object.keys(s.detail.custom) && !Object.keys(s.detail.custom).length && (_satellite.setVar("acs_event_data", s), e()) } catch (e) { _satellite.logger.error("EBR: ACS Component Page Load", e) } else _satellite.logger.log("no data in event object", t) })) } catch (e) { _satellite.logger.error("EBR: ACS Component Page Load", e) } } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.ca" }, timeout: 5e3 }], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("acs_event_data").detail, a = s.event.length ? s.event[s.event.length - 1].eventInfo.eventAction : "datalayer field empty", o = s.event.length ? s.event[s.event.length - 1].eventInfo.eventName : "datalayer field empty", n = s.event.length ? s.event[s.event.length - 1].eventInfo.eventPoints : "datalayer field empty", r = s.event.length ? s.event[s.event.length - 1].eventInfo.type : "datalayer field empty", i = s.event.length ? s.event[s.event.length - 1].eventInfo.timeStamp : "datalayer field empty", c = s.event.length ? s.event[s.event.length - 1].eventInfo.cause : "datalayer field empty", d = s.event.length ? s.event[s.event.length - 1].eventInfo.effect : "datalayer field empty", l = s.component.length ? s.component[s.component.length - 1].componentInfo.componentID : "datalayer field empty", u = s.component.length ? s.component[s.component.length - 1].componentInfo.componentName : "datalayer field empty", m = s.component.length ? s.component[s.component.length - 1].category.componentType : "datalayer field empty", b = s.component.length ? s.component[s.component.length - 1].category.primaryCategory : "datalayer field empty", p = s.component.length ? s.component[s.component.length - 1].category.subCategory1 : "datalayer field empty"; s.component.length && s.component[s.component.length - 1].category.subCategory2, t.prop44 = l, t.prop19 = u, t.prop41 = m, t.prop42 = b, t.prop43 = p, t.prop56 = o, t.prop57 = a, (n = "na" == n ? "datalayer field empty" : n) && parseInt(n) && !isNaN(parseInt(n)) ? (parseInt(n) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(n) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + n, ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = n, t.prop53 = r, t.prop12 = i, t.prop52 = c, t.eVar34 = d } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "page" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL650497200764444e946ef2f15ce6fb79", name: "TPT - SE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.se", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC0fb473a3c73343d189f80f847e6a600d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLa2de6cb7f8fd42e0b529812d40cc0eaa", name: "TPT - GR - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC49dc8c53912747139ae717e37962f499-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLd9d8b68247f744cfb260d155c90bc292", name: "ACDL BMW - ALL - FORMS - DLP - 0050 - FORMS Workaround Hardcode G60E WL1", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !1, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC96468fe628444fc2b8229931c577755d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4d9fdcf802fb4a4cb225bd4cdeabd11b", name: "TPT - PT - AEM - Adform - iFrame RFC Forms - DCR - p15r[c] ", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC40b97e18de4c4d3984d4edcc1b853f94-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe81372b7e1b24304b6701cdbc77ab79d", name: "PLR - AT - Showroom page - Adobe Target - Save Models Viewed", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 41 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isAdobeAnalyticsAllowed%", rightOperand: "true" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/pathAndQuerystring.js", settings: { paths: [{ value: "/all-models", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%topLevelDomain%", rightOperand: "bmw.at" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc9ff03048be841fd9202e4913b721b87-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL321f7855ea9c4f1d8f53e06f93cfb0db", name: "TPT - BG - AEM - IgnitionOne - Form Submit - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { global: !1, source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC065ac8062e4f4ccaa1bc0380f8bb34be-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5bd11d3f64344c9481bc2ef8a3a53f69", name: "TPT - NL - AEM - Facebook - DCSStockLocator - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC32d734dd2e084e3a92768dcd956f53df-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL846874bce049415993f1f5fefc4f02a0", name: "DCR - ZA - AEM - AA - Mood Configuration", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "mood_pre_configuration_interaction" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = s.get("event.-1.attributes.relatedPageName", s.get("page.pageInfo.pageName")), r = (s.get("event.-1.category.subCategory01"), s.get("product.-1.attributes.fuelType")), i = _satellite.getVar("smartPreviousValueManager"), c = ["vehicle", "service", "search", "accessory"]; -1 != r.indexOf("|") && (r = r.replace(/\|/g, "~")), _satellite.getVar("setDefaultVariables", e)(t), t.prop1 = -1 == n.indexOf("nsc >") ? "nsc > " + n : n, t.prop41 = s.get("component.-1.category.componentType"), t.prop45 = s.get("component.-1.category.componentVersion"), t.prop56 = a, t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop53 = s.get("event.-1.eventInfo.type"), t.prop12 = s.get("event.-1.eventInfo.timeStamp"), t.eVar34 = -1 == o.indexOf("nsc >") ? "nsc > " + o : o, t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop54 = s.get("event.-1.category.primaryCategory"), t.prop55 = s.get("event.-1.category.subCategory01", s.get("event.-1.category.subCategory1")), t.eVar71 = s.get("event.-1.attributes.requestedURL"), t.prop44 = s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"), t.prop27 = s.get("event.-1.attributes.linkedPage.pageInfo.pageID"), t.prop13 = "bmw"; var d = s.get("product.-1.attributes.internalCode"), l = s.get("product.-1.attributes.engine"); if (l) { var u = /[0-9]{3}[a-z]{1}/i, m = /xdrive[0-9]{2}[a-z]{1}/i, b = /sdrive[0-9]{2}[a-z]{1}/i, p = l.match(u) || l.match(m) || l.match(b); l.indexOf("i3 (120 ah)") > -1 || l.indexOf("i3 (120ah)") > -1 || l.indexOf("i3 120ah") > -1 ? l = "i3 (120 ah)" : l.indexOf("i3s (120 ah)") > -1 || l.indexOf("i3s (120ah)") > -1 || l.indexOf("i3s 120ah") > -1 ? l = "i3s (120 ah)" : p && p.length && (l = p[0].toUpperCase()) } var g = _satellite.getVar("setDefaultProductVariables"); g.id = s.get("event.-1.attributes.linkedProduct.productInfo.productID", s.get("product.-1.productInfo.productID")); var f = s.get("product.-1.category.subCategory1"); c.indexOf(f) > -1 ? g.category = f : g.category = "datalayer field missing", g.merchEvars.eVar58 = l, g.merchEvars.eVar10 = d, g.merchEvars.eVar56 = r, t.products = g.toString(), t.prop59 = s.get("product.-1.attributes.configID"), t.eVar59 = s.get("product.-1.attributes.configLink"), "interaction" == a ? (t.events = t.apl(t.events, "event917,event918"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event917,event918")) : "error" == a && (t.events = t.apl(t.events, "event931,event932"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event931,event932")), t.linkTrackVars += "prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19", i.update("pageName", t.prop1) } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "Pre configuration", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL59b0e8b242b44a32b665f38288b42fa5", name: "TPT - BG - AEM - Facebook - Make Appointment - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC9647c5509c824f938b2843117b421989-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL942c185b55be4c1c8aa7440fd81d899f", name: "TPT - SK - AEM - Adwords - Adobe Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.sk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbd0bb0b7c5804b13875d137b90c7e11d-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2c59231583f94788853cc4edba21c20e", name: "TPT - DE - AEM - Outbrain - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbec0f22f47724fdd8f5e61670654892b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLe4d02192de644aed9d5e54661d2b55f9", name: "TPT - PT - AEM - GtagDC - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.pt", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCea88a9dcc6d3482a9a27d6f394175959-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLcd5f02caba12410c92b182081e3be802", name: "TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe277ee985a9d4d129fbefffb3536bfd4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL917557056e8c4a2199400c8b49116dd7", name: "TPT - FI - AEM - GTagDC - Dealer Locator - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC53096e9ba2014c4e8e90d002ce879dc4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf23db2ac88b04fa1bc447c8495dc6837", name: "TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "GR" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3408bb408e1d4798b4aa266ca02c260b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL0d30c6727d8d40699ffeeb5e98d59b5d", name: "TPT - LU - AEM - DoubleClick - History Change - EBR - p15r[c]", events: [{ modulePath: "core/src/lib/events/historyChange.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "m.bmw.lu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { try { var e = _satellite.getVar("pa_pag_pageName"), t = _satellite.getVar("previousStepName"); if (null == t || t !== e) { if ("fr-LU" == _satellite.getVar("pa_pag_language")) return _satellite.setVar("previousStepName", e), "Select Engine" == _satellite.getVar("pa_pag_pageName") && "G31" == _satellite.getVar("pr_att_mmdr"); if ("de-LU" == _satellite.getVar("pa_pag_language")) return _satellite.setVar("previousStepName", e), "Select Engine" == _satellite.getVar("pa_pag_pageName") && "G31" == _satellite.getVar("pr_att_mmdr") } } catch (e) { _satellite.logger.log("TPT - LU - Custom Code condition") } } }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC440acbf7342c473882a62ca6addaf858-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL367acb0576a043c68e582420263391bf", name: "TPT - RU - AEM - Adwords - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2eeb85e24e84415194a1ae9b9a539694-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL573225986fdf4c24a76189f328ce61f1", name: "TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility", elementProperties: [{ name: "href", value: ".*\\/brochures\\/.*", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/pricelist-brochure-download.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC70cb5ea7c0df43cca0b9174506e62a45-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL68e88342191c42f5b719cdff506907fb", name: "TPT - BG - AEM - GTagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{
            modulePath: "core/src/lib/conditions/subdomain.js", settings: {
                subdomains: [{
                    value: "bmw.bg",
                    valueIsRegex: !0
                }]
            }, timeout: 5e3
        }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4c1818713b804bf09f60e3a661eb4598-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLd71ce4d9a4f14ffc966e31e169ff242f", name: "TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC10c7e0d950bf41cd912718f930451772-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc686d7da28ed49799265edf9f953d939", name: "TPT - GR - AEM - Facebook - Make Appointment - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dlo_state_standalone" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.gr", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8dfddd0c8e4643eaa922bd2a8b98dff3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL1d4dd7ef828a4ae3b3f7579e468c5c3f", name: "TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: 'a[href="https://meinprime.bmw.at"]', bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.at", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/de/topics/offers-and-services/bmw-prime/prime.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb9728088cb6a4a0298e4712b7061b4c4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL40ac50c7425a46d48a3bf66761c1a425", name: "TPT - HU - AEM - GTagDC - ValueService_FormSubmission - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/hu/topics/details/valueservice", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf8472bbda8504b5bbd3f57134dae8eff-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL687d1a3c234245c8b52b1e5e02ec9889", name: "TPT - HU - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf2f7c3be19f14c8e92010b0734ef9a0f-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf54735be1b04477ca8f10560309f2e2e", name: "TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "stock-locator-page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCba3352fceeb04ad5be0b3448a988f0f6-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2cdece413d954c09812d16fa60a9b6ca", name: "TPT - AU - AEM - GtagDC - Multiple - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/en-au/", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC39bfbd31fea54e2296e64fad74bec6e0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8c4f400ff5c940209a384f52f0b0c705", name: "TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf5390df6e718478aa609d9d1aaa21fd0-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLacc5a94ae6404f27ac7d2179902d0a71", name: "ACDL GROUP - ALL - AEM - PLR - 0050 - AEM Workaround WL 2 (Navi)", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { Promise.all([new Promise((e => { (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.initialized", (() => { epaas.api.isUsageAllowed("AdobeAnalytics") ? (_satellite.logger.info("WDPTA: resolving ePaaS AA directly"), e()) : epaas.api.registerOnUserConsentChange("AdobeAnalytics", (() => { _satellite.logger.info("WDPTA: resolving ePaaS AA on change"), e() })) })) })), new Promise(((e, t) => { const s = (a, o) => a <= 0 || document.getElementsByClassName("ds2-navigation").length ? (_satellite.logger.info("WDPTA: rejected as ds2-navigation found"), void t()) : document.getElementsByClassName("globalnavigation").length && window.adobeDataLayer && adobeDataLayer.getState ? (_satellite.logger.info("WDPTA: resolving as globalnavigation found"), void e()) : void setTimeout((() => s(a - 1)), o); s(100, 40) }))]).then((() => { _satellite.logger.info("WDPTA: triggering"), e() })) } }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC651f97987a0e48e8a8bd8d7385c84278-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL33a9d00080c840ae933ee2ec8ba3a8f2", name: "TPT - DE - FORMS - Criteo Pixel - Adobe Forms - ACDL - p15r[c]", events: [{ modulePath: "gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js", settings: { scope: "all", method: "specificEvent", eventKey: "tron event-cleansed" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !1, withComponent: !0 }) } }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC6e3f1a0afd1a4d37ab9f90732517fcb5-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RL0333243774db48be8b222871055d43d7", name: "TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "IT" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3b4014225b9f4b5cab4ad4859943e5b2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3b4d10c18025415389622f2c4b8b085a", name: "TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.cz", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe929ef316f7d416c848c1a01ad085c33-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLacaa8704a407458abafdc6fd7571e402", name: "TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_tda" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.za", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc2dcf31f97604a529f39a5ed4bcf0e29-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL9fb1d82ff51c4969a6db62bf1fb3c18f", name: "TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2267bc74faf54399b319691f196d88b9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL7685a30f94f84c7294fe205b1b7e9785", name: "TPT - NL - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "search_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC73ea778e9f2a4a87b01b2bfe24ed329b-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2a0ebeb6912a49b790a2d3a436dd5ed5", name: "AT - All - All Models -\xa0 Recommendation Entity Params", events: [{ modulePath: "core/src/lib/events/libraryLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%AA-PagesubCategory01%", rightOperand: "all-models" }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function () { var e = _satellite.getVar("topLevelDomain"); if ("bmw.de" == e || "bmw.fr" == e || "bmw.it" == e || "bmw.es" == e || "bmw.uk" == e) return !0 } }, timeout: 2e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals", caseInsensitive: !0 }, leftOperand: "%isTargetAllowed%", rightOperand: "true" }, timeout: 2e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: 'try {\nadobe.target.getOffers({\n  request: {\n    execute: {\n      mboxes: [\n        {\n          index: 0,\n          name: "track-entity-0",\n          parameters: {\n            "entity.id": _satellite.getVar(\'snapshotDL\').snapshot.page.pageInfo.geoRegion + "_" +_satellite.getVar(\'snapshotDL\').snapshot.product[0].attributes.modelCode\n          }\n        },\n        {\n          index: 1,\n          name: "track-entity-1",\n          parameters: {\n            "entity.id": _satellite.getVar(\'snapshotDL\').snapshot.page.pageInfo.geoRegion+ "_" +_satellite.getVar(\'snapshotDL\').snapshot.product[0].attributes.mmdr\n          }\n        }\n      ]\n    }\n  }\n});\n\n} catch (e) {\n    _satellite.logger.error(e, event.$rule.name);\n}\n', language: "javascript" }, timeout: 2e3, delayNext: !0 }] }, { id: "RLe411f7dd0a594739b59a7f3f2cb4f016", name: "TPT - DE - AEM - Criteo Pixel - Scrape Form Finish - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.de", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4d9fdba72ae64d42a7437d12c6239825-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL6af5ec6432904d029c40cee2b4e68e5d", name: "TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC4f0038b6f4524ec587fdfebada0905e3-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL83396fb7b1054ea382ec97481693b6bb", name: "ACDL GROUP - ALL - ANY - DLP - 0900 - Send Tron error to test RS", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 900 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCf198a2f784e0412a9a4e849d69baabc4-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLf17223e690a24abdb8867ad227608f55", name: "Payal check", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "localform" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = (s.get("event.-1.eventInfo.cause"), s.get("event.-1.eventInfo.eventPoints"), s.get("event.-1.eventInfo.type")), r = s.get("event.-1.category.subCategory1"), i = s.get("event.-1.category.subCategory2"), c = s.get("page.pageInfo.pageName", s.get("event.-1.attributes.relatedPageName")); _satellite.getVar("setDefaultProductVariables"), _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t), t.prop1 = t.pageName = -1 == c.indexOf("nsc >") ? "nsc > " + c : c, t.eVar34 = o, t.eVar9 = s.get("iframeURL"); var d, l = { rao: ["event25,event26", "event27,event28"], rfa: ["event29,event30", "event31,event32"], rfc: ["event33,event34", "event35,event36"], rfcd: ["event37,event38", "event39,event40"], rfd: ["event41,event42", "event43,event44"], rfo: ["event61,event62", "event63,event64"], roi: ["event73,event74", "event75,event76"], rfp: ["event65,event66", "event67,event68"], rfs: ["event69,event70", "event71,event72"], tda: ["event85,event86", "event87,event88"], "online tda": ["event89,event90", "event91,event92"], registration: ["event93,event94", "event95,event96"], campaign: ["event97,event98", "event99,event100"], rfi: ["event45,event46", "event47,event48"], download: ["event49,event50", "event51,event52"], generic: ["event53,event54", "event55,event56"], postal: ["event57,event58", "event59,event60"], "keep me informed": ["event77,event78", "event79,event80"], newsletter: ["event81,event82", "event83,event84"], "fs rfo": ["event101,event102", "event103,event104"], loan: ["event105,event106", "event107,event108"], "operational lease": ["event109,event110", "event111,event112"], "private lease": ["event113,event114", "event115,event116"], quote: ["event117,event118", "event119,event120"], insurance: ["event121,event122", "event123,event124"], lead: ["event17,event18", "event19,event20"], handraiser: ["event21,event22", "event23,event24"] }, u = l[n.toLowerCase()], m = l[r.toLowerCase()], b = l[i.toLowerCase()]; "nsc > form started" == o || "local > form started" == o ? (d = t.apl(d, "event3,event4"), null != b && (d = t.apl(d, b[0])), null != u && (d = t.apl(d, u[0])), "RFI" != n && "FS RFO" != n && "fs rfo" != n && "rfi" != n || null != m && (d = t.apl(d, m[0]))) : "nsc > form finished" == o || "local > form finished" == o ? (d = t.apl(d, "event15,event16"), null != b && (d = t.apl(d, b[1])), null != u && (d = t.apl(d, u[1])), "RFI" != n && "ROI" != n && "FS RFO" != n && "fs rfo" != n && "rfi" != n && "roi" != n || null != m && (d = t.apl(d, m[1]))) : "nsc > form finish intention" == o || "form finish intension" == o || "local > form finish intention" == o ? d = t.apl(d, "event917,event918,event13,event14") : "first form interaction" == o || "local > first form interaction" == o ? d = t.apl(d, "event917,event918,event5,event6") : "form interaction" == o || "local > form interaction" == o ? d = t.apl(d, "event917,event918,event9,event10") : o.indexOf("form step") > -1 ? d = t.apl(d, "event7,event8") : "form impression" == o ? d = t.apl(d, "event925,event926") : "error" == a && (d = t.apl(d, "event931,event932")); var p = s.get("event.-1.attributes.leadTime", "0"); d = t.apl(d, "event977=" + p), t.events = t.apl(t.events, d), t.linkTrackEvents = t.apl(t.linkTrackEvents, d), t.eVar137 = s.get("component.-1.category.application", "aem6"), t.prop55 = s.get("event.-1.category.subCategory1", s.get("event.-1.attributes.errorCode")), t.eVar23 = s.get("page.attributes.marketingConsent"), t.prop6 = t.prop53 = t.prop54 = "local form", t.prop7 = s.get("event.-1.category.subCategory1"), t.prop8 = o, t.prop8.indexOf("local > ") > -1 && (t.prop8 = t.prop8.replace("local > ", "")), t.prop9 = s.get("page.category.subCategory1"), t.prop10 = s.get("page.category.subCategory2"), t.prop11 = n, t.prop16 = s.get("page.pageInfo.pageName"), t.prop17 = s.get("event.-1.attributes.form.rfxID"), t.prop18 = s.get("event.-1.category.subCategory2", s.get("event.-1.category.subCategory02")), t.eVar41 = s.get("dealer.-1.dealerInfo.dealerGroupName"), t.eVar42 = s.get("dealer.-1.dealerInfo.dealerGroupID"), t.eVar39 = s.get("dealer.-1.dealerInfo.dealerOutletName"), t.eVar40 = s.get("dealer.-1.dealerInfo.dealerOutletID"), t.prop42 = "locally developed", t.prop43 = "forms", t.prop56 = "form", ("form" != s.get("component.-1.category.subCategory01") && "form" != s.get("component.-1.category.subCategory1") || "aem6" != s.get("component.-1.category.application")) && "nsc > form finish intention" != s.get("event.-1.eventInfo.effect") || "interaction" == a && (t.prop6 = t.prop53 = "adobe form"), "datalayer field missing" != t.prop7 && "datalayer field empty" != t.prop7 || "form" == t.prop56 && (t.prop7 = "generic"), "datalayer field missing" != t.prop55 && "datalayer field empty" != t.prop55 || "form" == t.prop56 && (t.prop55 = "generic"), "error" == a && (t.prop56 = "error", t.prop6 = "", t.prop8 = "", t.prop55 = s.get("event.-1.category.subCategory1"), t.prop53 = s.get("event.-1.eventInfo.type"), t.eVar34 = s.get("event.-1.eventInfo.effect"), t.prop52 = s.get("event.-1.eventInfo.cause")), t.prop19 = "local form", t.eVar136 = s.get("version"), t.linkTrackVars = t.apl(t.linkTrackVars, "products,eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56,events") } catch (t) { var g = { from: "AA", type: "Rule", name: e.$rule.name }; _satellite.logger.error(t, g) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%AA-eventType%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL30eb9a4da4574118ab3287db71361f5f", name: "TPT - BG - AEM - Adform - All Pages - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.bg", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb8019c6adcec41a0bbf9a8088f50f873-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL058e097c1f6a45c5a8263f78486b6322", name: "TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.si", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd5db987f89ee491694bd2c5e4d35ad5c-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL3d51318083f44333a0be8fc1794b468a", name: "TPT - RU - AEM - MailRU - All Pages - PLR", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }, { modulePath: "core/src/lib/events/customEvent.js", settings: { type: "re-trigger-third-party", elementSelector: "body", bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%geoRegion%", rightOperand: "RU" }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ru", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%isRegulationAccepted_Tags%", rightOperand: "true" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe19a8084d6444ba0a33417c9ddc7e741-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLbf08d090f4c1454d837d91cdffc237b4", name: "TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08370e9d40a947c4bfc38a49903821bb-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }, { modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCc439773a40af46e09df9a7a99cef8ca1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL78c78ec26f374ed1aace859e05596fcb", name: "TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfo" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC8a9f61967e73479fb08d8bfe8dd4e3e8-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL998666e5d68e48c99128a608876d5453", name: "ACDL GROUP - ALL - ANY - DLP - 0010 - shadow domains for geoRegion+language", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 10 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd27bd9f146754263bbb263c172588901-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2b7f07e92f9e454ebe20f3d95901ca3b", name: "TPT - CH - AEM - GtagDC - TDA FormSumbmit - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCfc0837028c4d45bd9809b8289afe54e7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL90c9856c6b5f48eea4c23c40d77daf4d", name: "TPT - IE - AEM - AdWords - Start Video - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "start_video" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCe826607d57164d309bb27949f2e0949a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLc1ae0f7f36fb4a718a543a34d1511eb7", name: "TPT - IE - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/success-pool/tda-success-page.business-forms.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC1d6db23ab0b444bc9bea6d9d33a2a7f9-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLba59e23ffd0c4d4ba5ea8951716f710e", name: "DCR - ALL - NSC - AA - Visualizer Component", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "visualizer_start" }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "visualizer_interactions" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.logger.log("Rule: ", e.$rule.name, " fired identifier ", e.identifier); var s = _satellite.getVar("snapshotDL"), a = s.get("event.-1.eventInfo.eventName"), o = s.get("event.-1.eventInfo.effect"), n = s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"), r = "", i = "nsc > "; t.linkTrackVars = "events,", t.linkTrackEvents = "", t.events = "", _satellite.getVar("setDefaultVariables", e)(t), ("datalayer field missing" != s.get("product") && "datalayer field empty" != s.get("product") && s.get("product") != [] || "datalayer field empty" != s.get("product.-1.productInfo.productName") && "datalayer field missing" != s.get("product.-1.productInfo.productName")) && _satellite.getVar("setProductString")(t), t.prop42 = "configuration", t.prop19 = t.prop54 = "visualizer", t.prop56 = "interaction", t.prop53 = "ux", "visualizer start" == a.toLowerCase() || "visualizer finish" == a.toLowerCase() ? t.prop53 = "success" : "inactivity" == a.toLowerCase() || "error" == a.toLowerCase() ? t.prop53 = "3rd party backend" : "buildability conflict" == a.toLowerCase() && (t.prop53 = "automatic"), t.eVar134 = "web", t.eVar34 = a && "object" != typeof a ? a : "datalayer field missing", t.eVar34.indexOf(i) < 0 && (t.eVar34 = i + t.eVar34), ["change roof top color", "change interior trims", "change interior upholstery", "change exterior mirror caps", "change exterior wheels", "change exterior color", "change view", "visualizer finish", "visualizer start"].indexOf(a.toLowerCase()) > -1 ? t.eVar34 = s.get("event.-1.eventInfo.effect") : ["inactivity", "error", "buildability conflict"].indexOf(a.toLowerCase()) > -1 && (t.eVar34 = s.get("event.-1.eventInfo.cause")), t.prop55 = s.get("event.-1.category.subCategory01"), t.prop57 = s.get("event.-1.eventInfo.eventAction"), s.get("event.-1.eventInfo.eventPoints") && parseInt(s.get("event.-1.eventInfo.eventPoints")) && !isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints"))) ? (parseInt(s.get("event.-1.eventInfo.eventPoints")) > 6e4 ? t.events = t.apl(t.events, "event970=60001", ",", 1) : parseInt(s.get("event.-1.eventInfo.eventPoints")) <= 0 ? t.events = t.apl(t.events, "event970=0", ",", 1) : t.events = t.apl(t.events, "event970=" + s.get("event.-1.eventInfo.eventPoints"), ",", 1), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event970")) : t.prop58 = s.get("event.-1.eventInfo.eventPoints"), t.prop12 = s.get("event.-1.eventInfo.timeStamp", s.get("event.-1.eventInfo.timestamp")), t.prop52 = s.get("event.-1.eventInfo.cause"), t.prop55 = s.get("event.-1.category.subCategory01"), "360 rotate" == a.toLowerCase() || "roof top close" == a.toLowerCase() || "roof top open" == a.toLowerCase() ? t.prop51 = s.get("event.-1.eventInfo.effect") : t.prop51 = s.get("event.-1.eventInfo.eventName"), t.prop50 = s.get("event.-1.eventInfo.element"), t.eVar71 = s.get("event.-1.eventInfo.target"), t.prop43 = _satellite.getVar("AA-componentDefaultValues").subCat, t.prop2 = s.get("page.category.pageType"), t.prop3 = s.get("page.category.primaryCategory"), t.prop4 = s.get("page.category.subCategory01"), t.prop5 = s.get("page.category.subCategory02"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop1.indexOf(i) < 0 && (t.prop1 = i + t.prop1), t.prop28 = s.get("page.attributes.virtualPage"), t.prop29 = s.get("page.pageInfo.version"), t.linkTrackVars += "prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29", r = "event917,event918", "visualizer" == n && (r += ",event313,event314"), "visualizer finish" == a && (r += ",event315,event316"), "visualizer start" == a.toLowerCase() && (r += ",event311,event312"), ["inactivity", "error", "buildability conflict"].indexOf(a.toLowerCase()) < 0 && (r += ",event313,event314"), ["Inactivity", "Error"].indexOf(a) > -1 && ["Page", "Popup", "Inline message"].indexOf(o) > -1 && (r = "event931,event932"), t.eVar34.indexOf("nsc >") < 0 && (t.eVar34 = "nsc > " + t.eVar34), t.events = "", t.events = t.apl(t.events, r), t.linkTrackEvents = t.apl(t.linkTrackEvents, r), _satellite.getVar("smartPreviousValueManager").update("pageName", t.prop1) } catch (s) { t.sa("bmwgroup.group.global.test"), t.linkTrackEvents = t.apl(t.linkTrackEvents, "event933", ","), t.linkTrackVars = t.apl(t.linkTrackVars, "eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74", ","), t.prop74 = _satellite.property.name + "|" + e.$rule.name, t.eVar4 = window.location.href, t.eVar11 = window.location.hash, t.eVar12 = window.location.pathname, t.prop52 = "js error", t.prop53 = "backend 1st party", t.prop55 = "AL-TC", t.prop56 = "error", t.eVar34 = String(s) || "unknown", t.events = "event933", t.registerPostTrackCallback((function () { t.sa(_satellite.getVar("AA-reportSuite")) })) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "%event.identifier%", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL447ac5a4d4784d1cabf3214568df7d5a", name: "TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "forms_simulated_page" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.hu", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeead1147c0e6421cbeba6af1785b403e-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, {
        id: "RL76c1f8d3da814b329bffca8eb7670d3e", name: "TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfc" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ro", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC2f52c4b84a434861adf12b3ae0ddb245-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }]
    }, { id: "RLb1c3c1f1981a47519847e4407f2536b6", name: "DCR - All - AEM - AA - DCS Event", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "dcs" }, ruleOrder: 50 }], conditions: [], actions: [{ modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js", settings: { takeSnapshot: null }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/clearVariables.js", settings: {}, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/setVariables.js", settings: { customSetup: { source: function (e, t) { try { _satellite.getVar("flatMapping")(t), _satellite.getVar("setDefaultVariables", e)(t); var s = _satellite.getVar("snapshotDL"); s.get("event.-1.eventInfo.effect"), s.get("event.-1.eventInfo.eventName"), t.prop27 = s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID", s.get("page.pageInfo.pageID")), t.eVar135 = s.get("page.pageInfo.sysEnv"), t.prop1 = s.get("page.pageInfo.pageName"), t.prop1.indexOf("sales >") < 0 && (t.prop1 = "sales > " + t.prop1), t.pageName = t.prop1, t.prop4 = s.get("page.category.subCategory1"), t.linkTrackVars += "prop4,", t.eVar34 = s.get("event.-1.eventInfo.effect"), t.eVar34.indexOf("sales >") < 0 && (t.eVar34 = "sales > " + t.eVar34), t.eVar151 = s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"), t.eVar152 = s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"), t.eVar153 = s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"), t.eVar154 = s.get("component.-1.attributes.referringComponent"), t.eVar155 = s.get("cart.attributes.offerID"), t.eVar156 = s.get("page.attributes.checkoutID"), t.prop42 = "vehicle sales platforms", t.prop43 = "indirect sales", t.prop19 = "digital checkout solution", t.linkTrackVars += "prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID" } catch (s) { _satellite.getVar("catchblock", e)(t, s) } } }, trackerProperties: {} }, timeout: 5e3, delayNext: !0 }, { modulePath: "adobe-analytics/src/lib/actions/sendBeacon.js", settings: { type: "link", linkName: "DCS", linkType: "o" }, timeout: 5e3, delayNext: !0 }, { modulePath: "bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js", settings: { discardSnapshot: null }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8b76ef1428a2472a897cb43641344de1", name: "TPT - IE - AEM - AdWords - Outbound Click - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "outbound_click" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC5654d366908547759137b8d88ff97a05-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8fbd6163eb2e4be88ddbc1510dd48962", name: "TPT - IE - AEM - Adwords - Adobe form - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "adobe form" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ie", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCef2eef025b8f4da7b2da1153f890fffd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL69cdd983d0144eaba2d7b4997a935a59", name: "TPT - IT - AEM - ContentSquare - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.it", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCb91ab7192e5446c88f546c167ca7fd62-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL5ec39cd459b9456b973676958ff9a9f4", name: "TPT - DK - AEM - GTagDC - Dealer Locator - PLR - p15r[c]", events: [{ modulePath: "core/src/lib/events/windowLoaded.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.dk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC144767e6bf7c4cfa9759111eb449556a-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL8bfa27dd3e774de4838ec49f4ffaf907", name: "TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]", events: [{ modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Premium Selection -vaihtoautohaku", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "J\xe4lleenmyyj\xe4t", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Lue lis\xe4\xe4", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "BMW Vakuutus", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Rakenna oma BMW", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Hinnastot ja esitteet", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "title", value: "Varaa huolto", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }, { modulePath: "core/src/lib/events/click.js", settings: { elementSelector: "a", elementProperties: [{ name: "href", value: "https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html", valueIsRegex: !0 }], bubbleFireIfParent: !0, bubbleFireIfChildFired: !0 }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.fi", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/path.js", settings: { paths: [{ value: "/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC08ee736fddbe46f6b8f0e387cd28bbb1-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RLdd373a0ead394fe38a2b45c3c2978159", name: "TPT - UK - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "iframe_forms_rfi" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCeaa1169d816246dcb8811fff4cd68ee7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL2b4ac48242914c5ba30ef81c44587712", name: "TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/customCode.js", settings: { source: function (e) { new Promise((function (t, s) { var a = !1; (window.consentcontroller && window.consentcontroller.api || window).addEventListener("consentcontroller.api.initialized", (function () { a = !0, console.log("epaas promise is resolved"), document.getElementsByTagName("epaas-consent-drawer-shell").length || window.epaas.api.showDisclaimer() ? (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.drawerhidden", (() => { t(!0), e() })) : (t(!0), e()) })), setTimeout((function () { a || s() }), 5e3) })).catch((function () { console.log("epaas promise is rejected") })) } }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.co.uk$", valueIsRegex: !0 }] }, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "matchesRegex", caseInsensitive: !0 }, leftOperand: "%URL%", rightOperand: "mein-bmw\\.html" }, negate: !0, timeout: 5e3 }, { modulePath: "core/src/lib/conditions/valueComparison.js", settings: { comparison: { operator: "equals" }, leftOperand: "%usabilla_randomizer%", rightOperand: "PSYMA" }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCd7170e88960244b7a1bad6563701de81-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL217c5ee08a174d18bb8a46ea4bc1439a", name: "TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]", events: [{ modulePath: "core/src/lib/events/domReady.js", settings: {}, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.nl", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCa9167ffc61a44fca8a551938987960d2-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL48c1c9f0fb134466b15a856a9fead2d6", name: "TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "open_navigation" }, ruleOrder: 50 }], conditions: [{ modulePath: "core/src/lib/conditions/subdomain.js", settings: { subdomains: [{ value: "bmw.ch", valueIsRegex: !0 }] }, timeout: 5e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC3b5966caa8294c2588094763b47e5be7-source.min.js", language: "javascript", isExternal: !0 }, timeout: 5e3, delayNext: !0 }] }, { id: "RL4e0bc49767f6494290cee79aff664d57", name: "ACDL GROUP - ALL - ANY - DLP - 0020 - product and its references", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 20 }], conditions: [], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RC340383f52a074d2ba49a890bc593e0db-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }, { id: "RLeb6f7b2ed8914d87b3c10738973b9dbf", name: "ACDL BMW - DE,GB,ES,FR,IT,BE,LU - ANY - DLP - 0060 - visitor score and vibe segment cluster", events: [{ modulePath: "core/src/lib/events/directCall.js", settings: { identifier: "DLP" }, ruleOrder: 60 }], conditions: [{ modulePath: "core/src/lib/conditions/customCode.js", settings: { source: function (e) { return adobeDataLayer.condition.fitsWithRuleName({ event: e, withMarket: !0, withApp: !0 }) } }, timeout: 8e3 }], actions: [{ modulePath: "core/src/lib/actions/customCode.js", settings: { source: "https://assets.adobedtm.com/717b2dc27cb7/98ec5bd2d010/d3c381bd1eca/RCbc020e5497a54e5598db146d25419fcd-source.min.js", language: "javascript", isExternal: !0 }, timeout: 8e3, delayNext: !0 }] }]
}; var _satellite = function () {
    "use strict"; function e(e) { if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(e) } function t() { try { if (!Object.assign) return !1; var e = new String("abc"); if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1; for (var t = {}, s = 0; s < 10; s++)t["_" + String.fromCharCode(s)] = s; if ("0123456789" !== Object.getOwnPropertyNames(t).map((function (e) { return t[e] })).join("")) return !1; var a = {}; return "abcdefghijklmnopqrst".split("").forEach((function (e) { a[e] = e })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, a)).join("") } catch (e) { return !1 } } function s(e) { if (e.__esModule) return e; var t = Object.defineProperty({}, "__esModule", { value: !0 }); return Object.keys(e).forEach((function (s) { var a = Object.getOwnPropertyDescriptor(e, s); Object.defineProperty(t, s, a.get ? a : { enumerable: !0, get: function () { return e[s] } }) })), t } function a(e) { var t = { exports: {} }; return e(t, t.exports), t.exports } function o(e) { var t = this.constructor; return this.then((function (s) { return t.resolve(e()).then((function () { return s })) }), (function (s) { return t.resolve(e()).then((function () { return t.reject(s) })) })) } function n(e) { return Boolean(e && void 0 !== e.length) } function r() { } function i(e, t) { return function () { e.apply(t, arguments) } } function c(e) { if (!(this instanceof c)) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof e) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], p(e, this) } function d(e, t) { for (; 3 === e._state;)e = e._value; 0 !== e._state ? (e._handled = !0, c._immediateFn((function () { var s = 1 === e._state ? t.onFulfilled : t.onRejected; if (null !== s) { var a; try { a = s(e._value) } catch (e) { return void u(t.promise, e) } l(t.promise, a) } else (1 === e._state ? l : u)(t.promise, e._value) }))) : e._deferreds.push(t) } function l(e, t) { try { if (t === e) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" == typeof t || "function" == typeof t)) { var s = t.then; if (t instanceof c) return e._state = 3, e._value = t, void m(e); if ("function" == typeof s) return void p(i(s, t), e) } e._state = 1, e._value = t, m(e) } catch (t) { u(e, t) } } function u(e, t) { e._state = 2, e._value = t, m(e) } function m(e) { 2 === e._state && 0 === e._deferreds.length && c._immediateFn((function () { e._handled || c._unhandledRejectionFn(e._value) })); for (var t = 0, s = e._deferreds.length; t < s; t++)d(e, e._deferreds[t]); e._deferreds = null } function b(e, t, s) { this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = s } function p(e, t) { var s = !1; try { e((function (e) { s || (s = !0, l(t, e)) }), (function (e) { s || (s = !0, u(t, e)) })) } catch (e) { if (s) return; s = !0, u(t, e) } } function g(e) { return !0 === Be(e) && "[object Object]" === Object.prototype.toString.call(e) } function f(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function v(e) { return "string" == typeof e && -1 !== e.indexOf("[") && -1 !== e.indexOf("]") } function h(e) { return e.substr(0, e.indexOf("[")) } function P(e, t, s) { if (e.length && Ue(t)) { var a = e[0]; if (1 !== e.length) { var o = e.slice(1); if (!v(a)) return P(o, t[a], s); var n = t[a = h(a)]; Array.isArray(n) && n.forEach((function (e) { return P(o, e, s) })) } else t.hasOwnProperty(a) && "string" == typeof t[a] && (t[a] = s(t[a])) } } if (window.atob) {
        var j = document, C = Object.getOwnPropertySymbols, y = Object.prototype.hasOwnProperty, w = Object.prototype.propertyIsEnumerable, R = t() ? Object.assign : function (t) { for (var s, a, o = e(t), n = 1; n < arguments.length; n++) { for (var r in s = Object(arguments[n])) y.call(s, r) && (o[r] = s[r]); if (C) { a = C(s); for (var i = 0; i < a.length; i++)w.call(s, a[i]) && (o[a[i]] = s[a[i]]) } } return o }, x = R, E = window, T = function (e, t, s, a) { var o, n = Boolean(t && Array.isArray(s)), r = Boolean(n && e), i = document.createElement("a"); if (n) { var c = function () { var e = new Error("Unable to find the Library Embed Code for Dynamic Host Resolution."); throw e.code = "dynamic_host_resolver_constructor_error", e }; if (e && (/^((https?:)?\/\/).+/.test(e) || c(), /^\/\/.+/.test(e) ? i.href = E.location.protocol + e : i.href = e), i.hostname || c(), -1 === s.indexOf(i.hostname)) { var d = new Error("This library is not authorized for this domain. Please contact your CSM for more information."); throw d.code = "dynamic_host_not_allowed", d } } var l = function () { if (null != o) return o; if (r) { var e = i.host; /:80$/.test(e) ? e = e.replace(":80", "") : /:80\/$/.test(e) ? e = e.replace(":80/", "") : /:443$/.test(e) ? e = e.replace(":443", "") : /:443\/$/.test(e) && (e = e.replace(":443/", "")), o = i.protocol + "//" + e } else o = ""; return o }, u = function (e) { return r && "string" == typeof e ? [l(), "/" === e.charAt(0) ? e.slice(1) : e].join("/") : e }, m = { getTurbineHost: l, decorateWithDynamicHost: u, get isDynamicEnforced() { return n } }; return E && a.onDebugChanged((function (e) { e ? E.dynamicHostResolver = m : delete E.dynamicHostResolver })), m }, I = function (e) { var t = []; return e.forEach((function (e) { e.events && e.events.forEach((function (s) { t.push({ rule: e, event: s }) })) })), t.sort((function (e, t) { return e.event.ruleOrder - t.event.ruleOrder })) }, _ = "debug", A = function (e, t) { var s = function () { return "true" === e.getItem(_) }, a = function (t) { e.setItem(_, t) }, o = [], n = function (e) { o.push(e) }; return t.outputEnabled = s(), { onDebugChanged: n, getDebugEnabled: s, setDebugEnabled: function (e) { s() !== e && (a(e), t.outputEnabled = e, o.forEach((function (t) { t(e) }))) } } }, k = "Module did not export a function.", L = function (e, t, s) { return function (a, o, n) { n = n || []; var r = e.getModuleExports(a.modulePath); if ("function" != typeof r) throw new Error(k); var i = e.getModuleDefinition(a.modulePath), c = a.settings || {}; !a.hasTransformedFilePaths && i.filePaths && (s(c, i.filePaths, a.modulePath), a.hasTransformedFilePaths = !0); var d = t(c, o); return r.bind(null, d).apply(null, n) } }, O = function (e) { return "string" == typeof e ? e.replace(/\s+/g, " ").trim() : e }, S = { LOG: "log", INFO: "info", DEBUG: "debug", WARN: "warn", ERROR: "error" }, V = "\ud83d\ude80", N = 10 === parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]) ? "[Launch]" : V, D = !1, M = function (e) { if (D && window.console) { var t = Array.prototype.slice.call(arguments, 1); t.unshift(N), e !== S.DEBUG || window.console[e] || (e = S.INFO), window.console[e].apply(window.console, t) } }, F = M.bind(null, S.LOG), B = M.bind(null, S.INFO), U = M.bind(null, S.DEBUG), G = M.bind(null, S.WARN), q = M.bind(null, S.ERROR), H = function () { var e = D; D = !0, M.apply(null, Array.prototype.concat(S.WARN, Array.prototype.slice.call(arguments))), e || (D = !1) }, z = { log: F, info: B, debug: U, warn: G, error: q, deprecation: H, get outputEnabled() { return D }, set outputEnabled(e) { D = e }, createPrefixedLogger: function (e) { var t = "[" + e + "]"; return { log: F.bind(null, t), info: B.bind(null, t), debug: U.bind(null, t), warn: G.bind(null, t), error: q.bind(null, t) } } }, K = "com.adobe.reactor.", W = function (e, t) { var s = K + (t || ""); return { getItem: function (t) { try { return E[e].getItem(s + t) } catch (e) { return null } }, setItem: function (t, a) { try { return E[e].setItem(s + t, a), !0 } catch (e) { return !1 } } } }, Y = "dataElements.", Z = W("sessionStorage", Y), J = W("localStorage", Y), $ = { PAGEVIEW: "pageview", SESSION: "session", VISITOR: "visitor" }, Q = {}, X = function (e) { var t; try { t = JSON.stringify(e) } catch (e) { } return t }, ee = { setValue: function (e, t, s) { var a; switch (t) { case $.PAGEVIEW: return void (Q[e] = s); case $.SESSION: return void ((a = X(s)) && Z.setItem(e, a)); case $.VISITOR: return void ((a = X(s)) && J.setItem(e, a)) } }, getValue: function (e, t) { var s; switch (t) { case $.PAGEVIEW: return Q.hasOwnProperty(e) ? Q[e] : null; case $.SESSION: return null === (s = Z.getItem(e)) ? s : JSON.parse(s); case $.VISITOR: return null === (s = J.getItem(e)) ? s : JSON.parse(s) } } }, te = function (e, t, s, a) { return "Failed to execute data element module " + e.modulePath + " for data element " + t + ". " + s + (a ? "\n" + a : "") }, se = function (e, t, s, a, o) { return function (n, r) { var i = t(n); if (!i) return a ? "" : void 0; var c, d, l = i.storageDuration; try { c = e.getModuleExports(i.modulePath), d = e.getModuleDefinition(i.modulePath) } catch (e) { return void z.error(te(i, n, e.message, e.stack)) } if ("function" == typeof c) { var u, m = i.settings || {}; !i.hasTransformedFilePaths && d.filePaths && (o(m, d.filePaths, i.modulePath), i.hasTransformedFilePaths = !0); try { u = c(s(m, r), r) } catch (e) { return void z.error(te(i, n, e.message, e.stack)) } return l && (null != u ? ee.setValue(n, l, u) : u = ee.getValue(n, l)), null == u && null != i.defaultValue && (u = i.defaultValue), "string" == typeof u && (i.cleanText && (u = O(u)), i.forceLowerCase && (u = u.toLowerCase())), u } z.error(te(i, n, "Module did not export a function.")) } }, ae = { text: function (e) { return e.textContent }, cleanText: function (e) { return O(e.textContent) } }, oe = function (e, t, s) { for (var a, o = e, n = 0, r = t.length; n < r; n++) { if (null == o) return; var i = t[n]; if (s && "@" === i.charAt(0)) { var c = i.slice(1); o = ae[c](o) } else if (o.getAttribute && (a = i.match(/^getAttribute\((.+)\)$/))) { var d = a[1]; o = o.getAttribute(d) } else o = o[i] } return o }, ne = function (e, t, s) { return function (a, o) { var n; if (t(a)) n = s(a, o); else { var r = a.split("."), i = r.shift(); "this" === i ? o && (n = oe(o.element, r, !0)) : "event" === i ? o && (n = oe(o, r)) : "target" === i ? o && (n = oe(o.target, r)) : n = oe(e[i], r) } return n } }, re = function (e, t) { return function (s) { var a = s.split(".")[0]; return Boolean(t(s) || "this" === a || "event" === a || "target" === a || e.hasOwnProperty(a)) } }, ie = function (e, t, s) { var a = { exports: {} }; return e.call(a.exports, a, a.exports, t, s), a.exports }, ce = function () { var e = {}, t = function (t) { var s = e[t]; if (!s) throw new Error("Module " + t + " not found."); return s }, s = function () { Object.keys(e).forEach((function (e) { try { a(e) } catch (s) { var t = "Error initializing module " + e + ". " + s.message + (s.stack ? "\n" + s.stack : ""); z.error(t) } })) }, a = function (e) { var s = t(e); return s.hasOwnProperty("exports") || (s.exports = ie(s.definition.script, s.require, s.turbine)), s.exports }; return { registerModule: function (t, s, a, o, n) { var r = { definition: s, extensionName: a, require: o, turbine: n }; r.require = o, e[t] = r }, hydrateCache: s, getModuleExports: a, getModuleDefinition: function (e) { return t(e).definition }, getModuleExtensionName: function (e) { return t(e).extensionName } } }, de = !1, le = function (e) { return function (t, s) { var a = e._monitors; a && (de || (z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."), de = !0), a.forEach((function (e) { e[t] && e[t](s) }))) } }, ue = function (e, t, s) { var a, o, n, r, i = [], c = function (a, o, n) { if (!e(o)) return a; i.push(o); var r = t(o, n); return i.pop(), null == r && s ? "" : r }; return a = function (e, t) { var s = /^%([^%]+)%$/.exec(e); return s ? c(e, s[1], t) : e.replace(/%(.+?)%/g, (function (e, s) { return c(e, s, t) })) }, o = function (e, t) { for (var s = {}, a = Object.keys(e), o = 0; o < a.length; o++) { var n = a[o], i = e[n]; s[n] = r(i, t) } return s }, n = function (e, t) { for (var s = [], a = 0, o = e.length; a < o; a++)s.push(r(e[a], t)); return s }, r = function (e, t) { return "string" == typeof e ? a(e, t) : Array.isArray(e) ? n(e, t) : "object" == typeof e && null !== e ? o(e, t) : e }, function (e, t) { return i.length > 10 ? (z.error("Data element circular reference detected: " + i.join(" -> ")), e) : r(e, t) } }, me = function (e) { return function () { if ("string" == typeof arguments[0]) e[arguments[0]] = arguments[1]; else if (arguments[0]) { var t = arguments[0]; for (var s in t) e[s] = t[s] } } }, be = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, pe = setTimeout; c.prototype.catch = function (e) { return this.then(null, e) }, c.prototype.then = function (e, t) { var s = new this.constructor(r); return d(this, new b(e, t, s)), s }, c.prototype.finally = o, c.all = function (e) { return new c((function (t, s) { function a(e, n) { try { if (n && ("object" == typeof n || "function" == typeof n)) { var i = n.then; if ("function" == typeof i) return void i.call(n, (function (t) { a(e, t) }), s) } o[e] = n, 0 == --r && t(o) } catch (e) { s(e) } } if (!n(e)) return s(new TypeError("Promise.all accepts an array")); var o = Array.prototype.slice.call(e); if (0 === o.length) return t([]); for (var r = o.length, i = 0; i < o.length; i++)a(i, o[i]) })) }, c.resolve = function (e) { return e && "object" == typeof e && e.constructor === c ? e : new c((function (t) { t(e) })) }, c.reject = function (e) { return new c((function (t, s) { s(e) })) }, c.race = function (e) { return new c((function (t, s) { if (!n(e)) return s(new TypeError("Promise.race accepts an array")); for (var a = 0, o = e.length; a < o; a++)c.resolve(e[a]).then(t, s) })) }, c._immediateFn = "function" == typeof setImmediate && function (e) { setImmediate(e) } || function (e) { pe(e, 0) }, c._unhandledRejectionFn = function (e) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e) }; var ge = s(Object.freeze({ __proto__: null, default: c })), fe = "undefined" != typeof window && window.Promise || void 0 !== be && be.Promise || ge.default || ge, ve = function (e, t, s) { return function (a, o, n, r) { return r.then((function () { var r, i = a.delayNext; return new fe((function (t, s) { var o = e(a, n, [n]); if (!i) return t(); var c = a.timeout, d = new fe((function (e, t) { r = setTimeout((function () { t(new Error("A timeout occurred because the action took longer than " + c / 1e3 + " seconds to complete. ")) }), c) })); fe.race([o, d]).then(t, s) })).catch((function (e) { return clearTimeout(r), e = t(e), s(a, o, e), fe.reject(e) })).then((function () { clearTimeout(r) })) })) } }, he = function (e, t, s, a, o) { return function (n, r, i, c) { return c.then((function () { var c; return new fe((function (t, s) { var a = e(n, i, [i]), o = n.timeout, r = new fe((function (e, t) { c = setTimeout((function () { t(new Error("A timeout occurred because the condition took longer than " + o / 1e3 + " seconds to complete. ")) }), o) })); fe.race([a, r]).then(t, s) })).catch((function (e) { return clearTimeout(c), e = t(e), a(n, r, e), fe.reject(e) })).then((function (e) { if (clearTimeout(c), !s(n, e)) return o(n, r), fe.reject() })) })) } }, Pe = fe.resolve(), je = function (e, t, s) { return function (a, o) { return a.conditions && a.conditions.forEach((function (t) { Pe = e(t, a, o, Pe) })), a.actions && a.actions.forEach((function (e) { Pe = t(e, a, o, Pe) })), Pe = (Pe = Pe.then((function () { s(a) }))).catch((function () { })) } }, Ce = function (e) { return Boolean(e && "object" == typeof e && "function" == typeof e.then) }, ye = function (e, t, s, a) { return function (o, n) { var r; if (o.conditions) for (var i = 0; i < o.conditions.length; i++) { r = o.conditions[i]; try { var c = e(r, n, [n]); if (Ce(c)) throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly."); if (!t(r, c)) return s(r, o), !1 } catch (e) { return a(r, o, e), !1 } } return !0 } }, we = function (e, t) { return function (s, a) { e(s, a) && t(s, a) } }, Re = function (e) { return function (t) { var s = e.getModuleDefinition(t.modulePath); return s && s.displayName || t.modulePath } }, xe = function (e) { return function (t) { var s = t.rule, a = t.event, o = e.getModuleDefinition(a.modulePath).name; return { $type: e.getModuleExtensionName(a.modulePath) + "." + o, $rule: { id: s.id, name: s.name } } } }, Ee = function (e, t, s, a, o, n) { return function (r, i) { var c = i.rule, d = i.event; d.settings = d.settings || {}; try { var l = o(i); t(d, null, [function (t) { var a = s(l, t); r((function () { e(a, c) })) }]) } catch (e) { n.error(a(d, c, e)) } } }, Te = function (e, t, s, a) { return function (o, n, r) { var i = t(o); s.error(e(i, n.name, r)), a("ruleActionFailed", { rule: n, action: o }) } }, Ie = function (e, t, s, a) { return function (o, n, r) { var i = t(o); s.error(e(i, n.name, r)), a("ruleConditionFailed", { rule: n, condition: o }) } }, _e = function (e, t, s) { return function (a, o) { var n = e(a); t.log('Condition "' + n + '" for rule "' + o.name + '" was not met.'), s("ruleConditionFailed", { rule: o, condition: a }) } }, Ae = function (e, t) { return function (s) { e.log('Rule "' + s.name + '" fired.'), t("ruleCompleted", { rule: s }) } }, ke = function (e, t, s) { return function (a, o) { var n; if (a.actions) for (var r = 0; r < a.actions.length; r++) { n = a.actions[r]; try { e(n, o, [o]) } catch (e) { return void t(n, a, e) } } s(a) } }, Le = function (e, t, s, a) { return function (o, n) { a("ruleTriggered", { rule: n }), e ? s(n, o) : t(n, o) } }, Oe = function (e, t, s) { return 'Failed to execute "' + e + '" for "' + t + '" rule. ' + s.message + (s.stack ? "\n" + s.stack : "") }, Se = function (e, t) { return t && !e.negate || !t && e.negate }, Ve = [], Ne = !1, De = function (e) { Ne ? e() : Ve.push(e) }, Me = function (e, t, s) { e(t).forEach((function (e) { s(De, e) })), Ne = !0, Ve.forEach((function (e) { e() })), Ve = [] }, Fe = function (e) { if (e || (e = new Error("The extension triggered an error, but no error information was provided.")), !(e instanceof Error)) { var t = "object" == typeof e ? JSON.stringify(e) : String(e); e = new Error(t) } return e }, Be = function (e) { return null != e && "object" == typeof e && !1 === Array.isArray(e) }, Ue = function (e) { var t, s; return !1 !== g(e) && ("function" == typeof (t = e.constructor) && (!1 !== g(s = t.prototype) && !1 !== s.hasOwnProperty("isPrototypeOf"))) }, Ge = function (e, t) { return Ue(t = t || {}) ? t = x({}, t, e) : x(t, e), t.hasOwnProperty("type") || Object.defineProperty(t, "type", { get: function () { return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."), t.$type } }), t }, qe = function (e, t) { return function (s, a) { var o = e[s]; if (o) { var n = o.modules; if (n) for (var r = Object.keys(n), i = 0; i < r.length; i++) { var c = r[i], d = n[c]; if (d.shared && d.name === a) return t.getModuleExports(c) } } } }, He = function (e, t) { return function () { return t ? e(t) : {} } }, ze = function (e, t, s) { return function (a) { if (s) { var o = a.split("."); o.splice(o.length - 1 || 1, 0, "min"), a = o.join(".") } return e(t) + a } }, Ke = ".js", We = function (e) { return e.substr(0, e.lastIndexOf("/")) }, Ye = function (e, t) { return -1 !== e.indexOf(t, e.length - t.length) }, Ze = function (e, t) { Ye(t, Ke) || (t += Ke); var s = t.split("/"), a = We(e).split("/"); return s.forEach((function (e) { e && "." !== e && (".." === e ? a.length && a.pop() : a.push(e)) })), a.join("/") }, Je = a((function (e) { !function (t) { if (e.exports = t(), !!0) { var s = window.Cookies, a = window.Cookies = t(); a.noConflict = function () { return window.Cookies = s, a } } }((function () { function e() { for (var e = 0, t = {}; e < arguments.length; e++) { var s = arguments[e]; for (var a in s) t[a] = s[a] } return t } function t(e) { return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent) } function s(a) { function o() { } function n(t, s, n) { if ("undefined" != typeof document) { "number" == typeof (n = e({ path: "/" }, o.defaults, n)).expires && (n.expires = new Date(1 * new Date + 864e5 * n.expires)), n.expires = n.expires ? n.expires.toUTCString() : ""; try { var r = JSON.stringify(s); /^[\{\[]/.test(r) && (s = r) } catch (e) { } s = a.write ? a.write(s, t) : encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape); var i = ""; for (var c in n) n[c] && (i += "; " + c, !0 !== n[c] && (i += "=" + n[c].split(";")[0])); return document.cookie = t + "=" + s + i } } function r(e, s) { if ("undefined" != typeof document) { for (var o = {}, n = document.cookie ? document.cookie.split("; ") : [], r = 0; r < n.length; r++) { var i = n[r].split("="), c = i.slice(1).join("="); s || '"' !== c.charAt(0) || (c = c.slice(1, -1)); try { var d = t(i[0]); if (c = (a.read || a)(c, d) || t(c), s) try { c = JSON.parse(c) } catch (e) { } if (o[d] = c, e === d) break } catch (e) { } } return e ? o[e] : o } } return o.set = n, o.get = function (e) { return r(e, !1) }, o.getJSON = function (e) { return r(e, !0) }, o.remove = function (t, s) { n(t, "", e(s, { expires: -1 })) }, o.defaults = {}, o.withConverter = s, o } return s((function () { })) })) })), $e = { get: Je.get, set: Je.set, remove: Je.remove }, Qe = function (e, t) { return new fe((function (s, a) { t.onload = function () { s(t) }, t.onerror = function () { a(new Error("Failed to load script " + e)) } })) }, Xe = function (e) { var t = document.createElement("script"); t.src = e, t.async = !0; var s = Qe(e, t); return document.getElementsByTagName("head")[0].appendChild(t), s }, et = function (e, t, s, a) { t = t || "&", s = s || "="; var o = {}; if ("string" != typeof e || 0 === e.length) return o; var n = /\+/g; e = e.split(t); var r = 1e3; a && "number" == typeof a.maxKeys && (r = a.maxKeys); var i = e.length; r > 0 && i > r && (i = r); for (var c = 0; c < i; ++c) { var d, l, u, m, b = e[c].replace(n, "%20"), p = b.indexOf(s); p >= 0 ? (d = b.substr(0, p), l = b.substr(p + 1)) : (d = b, l = ""), u = decodeURIComponent(d), m = decodeURIComponent(l), f(o, u) ? Array.isArray(o[u]) ? o[u].push(m) : o[u] = [o[u], m] : o[u] = m } return o }, tt = function (e) { switch (typeof e) { case "string": return e; case "boolean": return e ? "true" : "false"; case "number": return isFinite(e) ? e : ""; default: return "" } }, st = function (e, t, s, a) { return t = t || "&", s = s || "=", null === e && (e = void 0), "object" == typeof e ? Object.keys(e).map((function (a) { var o = encodeURIComponent(tt(a)) + s; return Array.isArray(e[a]) ? e[a].map((function (e) { return o + encodeURIComponent(tt(e)) })).join(t) : o + encodeURIComponent(tt(e[a])) })).join(t) : a ? encodeURIComponent(tt(a)) + s + encodeURIComponent(tt(e)) : "" }, at = a((function (e, t) { t.decode = t.parse = et, t.encode = t.stringify = st })), ot = "@adobe/reactor-", nt = { cookie: $e, document: j, "load-script": Xe, "object-assign": x, promise: fe, "query-string": { parse: function (e) { return "string" == typeof e && (e = e.trim().replace(/^[?#&]/, "")), at.parse(e) }, stringify: function (e) { return at.stringify(e) } }, window: E }, rt = function (e) { return function (t) { if (0 === t.indexOf(ot)) { var s = t.substr(ot.length), a = nt[s]; if (a) return a } if (0 === t.indexOf("./") || 0 === t.indexOf("../")) return e(t); throw new Error('Cannot resolve module "' + t + '".') } }, it = function (e, t, s, a, o, n, r) {
            var i = e.extensions, c = e.buildInfo, d = e.environment, l = e.property.settings; if (i) {
                var u = qe(i, t); Object.keys(i).forEach((function (m) {
                    var b = i[m], p = b.settings; Array.isArray(b.filePaths) && (p = n(p, b.filePaths)); var g = He(a, p); if (b.modules) {
                        var f = z.createPrefixedLogger(b.displayName), v = ze(r, b.hostedLibFilesBaseUrl, c.minified), h = {
                            buildInfo: c, environment: d, property: { name: e.property.name, id: e.property.id }, getDataElementValue: o, getExtensionSettings: g, getHostedLibFileUrl: v, getSharedModule: u, logger: f, propertySettings: l, replaceTokens: a, onDebugChanged: s.onDebugChanged, get debugEnabled() {
                                return s.getDebugEnabled()
                            }
                        }; Object.keys(b.modules).forEach((function (e) { var s = b.modules[e], a = rt((function (s) { var a = Ze(e, s); return t.getModuleExports(a) })); t.registerModule(e, s, m, a, h) }))
                    }
                })), t.hydrateCache()
            } return t
        }, ct = function (e, t, s, a, o) { var n = z.createPrefixedLogger("Custom Script"); e.track = function (e) { z.log('"' + e + '" does not match any direct call identifiers.') }, e.getVisitorId = function () { return null }, e.property = { name: t.property.name, id: t.property.id }, e.company = t.company, e.buildInfo = t.buildInfo, e.environment = t.environment, e.logger = n, e.notify = function (e, t) { switch (z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."), t) { case 3: n.info(e); break; case 4: n.warn(e); break; case 5: n.error(e); break; default: n.log(e) } }, e.getVar = a, e.setVar = o, e.setCookie = function (e, t, s) { var a = "", o = {}; s && (a = ", { expires: " + s + " }", o.expires = s); var n = '_satellite.setCookie is deprecated. Please use _satellite.cookie.set("' + e + '", "' + t + '"' + a + ")."; z.deprecation(n), $e.set(e, t, o) }, e.readCookie = function (e) { return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("' + e + '").'), $e.get(e) }, e.removeCookie = function (e) { z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("' + e + '").'), $e.remove(e) }, e.cookie = $e, e.pageBottom = function () { }, e.setDebug = s; var r = !1; Object.defineProperty(e, "_container", { get: function () { return r || (z.warn("_satellite._container may change at any time and should only be used for debugging."), r = !0), t } }) }, dt = function (e, t) { return function (s, a, o) { return e && Ue(s) && Object.keys(s).length && Array.isArray(a) && a.length ? (a.forEach((function (e) { Boolean(null != o && /^core\/.*actions.*\/customCode\.js$/.test(o)) && "source" === e && !s.isExternal || P(e.split("."), s, t) })), s) : s } }, lt = window._satellite; if (lt && !window.__satelliteLoaded) { window.__satelliteLoaded = !0; var ut = lt.container; delete lt.container; var mt = x({}, ut.buildInfo); Object.defineProperty(mt, "environment", { get: function () { return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"), ut.environment.stage } }), ut.buildInfo = mt; var bt, pt = A(W("localStorage"), z), gt = ""; j.currentScript && j.currentScript.getAttribute("src") && (gt = j.currentScript.getAttribute("src")); try { bt = T(gt, Boolean(ut.company.dynamicCdnEnabled), ut.company.cdnAllowList, pt) } catch (e) { throw z.warn("Please review the following error:"), e } var ft, vt = dt(bt.isDynamicEnforced, bt.decorateWithDynamicHost), ht = ce(), Pt = ut.property.settings.undefinedVarsReturnEmpty, jt = ut.property.settings.ruleComponentSequencingEnabled, Ct = ut.dataElements || {}, yt = function (e) { return Ct[e] }, wt = function () { return ft.apply(null, arguments) }, Rt = se(ht, yt, wt, Pt, vt), xt = {}, Et = me(xt), Tt = re(xt, yt), It = ne(xt, yt, Rt); ft = ue(Tt, It, Pt), ct(lt, ut, pt.setDebugEnabled, It, Et), it(ut, ht, pt, ft, Rt, vt, bt.decorateWithDynamicHost); var _t = le(lt), At = L(ht, ft, vt), kt = Re(ht), Lt = _e(kt, z, _t), Ot = Ie(Oe, kt, z, _t), St = Te(Oe, kt, z, _t), Vt = Ae(z, _t), Nt = Ee(Le(jt, we(ye(At, Se, Lt, Ot), ke(At, St, Vt)), je(he(At, Fe, Se, Ot, Lt), ve(At, Fe, St), Vt), _t), At, Ge, Oe, xe(ht), z); Me(I, ut.rules || [], Nt) } return lt
    } console.warn("Adobe Launch is unsupported in IE 9 and below.")
}();