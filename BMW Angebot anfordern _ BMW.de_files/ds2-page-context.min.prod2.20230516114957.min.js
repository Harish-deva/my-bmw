(function(d){define("ds2-page-context",["postal","lodash"],function(b,e){function a(a){if(a){try{this.context=JSON.parse(a.innerHTML)}catch(h){this.context=d}b.subscribe({channel:"page-context",topic:"get",callback:this.call.bind(this,this.context)});b.subscribe({channel:"page-context",topic:"set",callback:this.changeContext.bind(this)});b.publish({channel:"page-context",topic:"init",data:this.context})}}var d={},c={MODEL_CODE:"${pageContext.modelCode}",MODEL_RANGE:"${pageContext.modelRange}",PAINT:"${pageContext.paint}",
FABRIC:"${pageContext.fabric}",OPTIONS:"${pageContext.options}"};a.prototype.changeContext=function(a){"object"===typeof a&&(a=e.assign(context,a),e.eq(context,a)||(this.context=a,b.publish({channel:"page-context",topic:"change",data:context})))};a.prototype.call=function(a,c){c(a)};a.CHANNEL="page-context";a.MODEL_RANGE="model-range";a.CURRENT_PAGE="current-page";a.CONFIGURATOR_PARAMS="default-configurator-params";a.MODEL_CODE="model-code";a.PAINT="paint";a.FABRIC="fabric";a.OPTIONS="options";a.SERIES_OVERVIEW_MODEL_RANGES=
"series-overview-model-ranges";a.MODEL_CAROUSEL_MODEL_CODES="model-carousel-codes";a.ALTERNATIVE_LANG_PAGES="alternativeLang";a.replacements=c;a.createHash=function(a,b,d,e,f,g){return a.replace(c.MODEL_CODE,b||"").replace(c.MODEL_RANGE,d||"").replace(c.PAINT,e||"").replace(c.FABRIC,f||"").replace(c.OPTIONS,g||"")};a.replaceModelRange=function(a,b){return a.replace(c.MODEL_RANGE,b||"")};return a});d(window).ready(function(){require(["ds2-page-context"],function(b){new b(document.getElementById("ds2-page-context"))})})})(window.jQuery);