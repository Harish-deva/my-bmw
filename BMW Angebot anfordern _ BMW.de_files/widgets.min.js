(function(a){a.widget("xfaWidget.afcaptcha",a.xfaWidget.abstractWidget,{_widgetName:"GuideCaptcha",captchaImgPath:"",captchaStartTime:0,render:function(){var d=this;this.element.append('\x3cdiv class\x3d"guide-af-captcha"\x3e\x3c/div\x3e');var b=a("div.guide-af-captcha");this.captchaImgPath=Granite.HTTP.externalize(this.options.captchaConfigData["jcr:path"]+".captcha.png");b.html('\x3cinput type\x3d"hidden" id\x3d"afcaptchakey" value\x3d""/\x3e\x3cdiv\x3e\x3cdiv class\x3d"afcaptcha-img"\x3e\x3cimg id\x3d"afcaptchaimg" src\x3d"'+
this.captchaImgPath+'?id\x3d" alt\x3d""\x3e\x3c/div\x3e\x3cdiv class\x3d"afcaptcha-input"\x3e\x3cinput type\x3d"text" id\x3d"afcaptchaToken"/\x3e\x3c/div\x3e\x3cdiv class\x3d"afcaptcha-refresh"\x3e\x3cinput type\x3d"button" class\x3d"afcaptcha-refresh-btn" value\x3d"Reload"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"timer-bar-holder"\x3e\x3cdiv id\x3d"afcaptchatimer" class\x3d"afcaptchatimer" style\x3d"width: 63px;"\x3e\x3c/div\x3e\x3c/div\x3e');a(".afcaptcha-refresh-btn").click(function(){c()});
a("#afcaptchaToken").focusout(function(){d.tokenChange()});var c=function(){var a=(""+Math.random()).substring(3,8);var c=document.getElementById("afcaptchaimg");var b=document.getElementById("afcaptchakey");c.src=Granite.HTTP.externalize(d.captchaImgPath+"?id\x3d"+a);b.value=a;d.captchaStartTime=(new Date).getTime()},e=function(){var a=(new Date).getTime();6E4<a-d.captchaStartTime&&c();var b=document.getElementById("afcaptchatimer");b&&(b.innerHTML='\x3cdiv class\x3d"afcaptchatimer-bar" style\x3d"width:'+
Math.floor((6E4-(a-d.captchaStartTime))/6E4*64)+'px;"\x3e\x3c/div\x3e',setTimeout(e,500))};e();return a("div.guide-af-captcha")},tokenChange:function(){var d=null,b=a("#afcaptchaToken").val();_.isEmpty(b)||(d={captchaToken:b,captchaKey:a("#afcaptchakey").val()});this.element.trigger({type:"tokenChange.captcha",token:d})}})})($);
(function(a){a.widget("xfaWidget.recaptcha",a.xfaWidget.abstractWidget,{g_recaptcha_response:"",recaptcha_url:"recaptcha/api.js",_widgetName:"Recaptcha",render:function(){var d=this;this.element.append('\x3cdiv class\x3d"g-recaptcha"\x3e\x3c/div\x3e');var b=a("div.g-recaptcha")[0],c,e=this.element.data("externaldomain");e=(new URL(this.recaptcha_url,e)).toString();window.successCallback=function(a){d.g_recaptcha_response=a;d.tokenChange()};window.expiredCallback=function(){grecaptcha.reset(c);d.g_recaptcha_response=
"";d.tokenChange()};var l={sitekey:this.options.captchaConfigData.rcSitekey,theme:this.options.captchaConfigData.rcTheme||"light",type:this.options.captchaConfigData.rcType||"image",size:this.options.captchaConfigData.rcSize||"normal",callback:window.successCallback,"expired-callback":window.expiredCallback};onloadCallbackInternal=function(){return c=grecaptcha.render(b,l)};window.onloadRecaptchaCallback=onloadCallbackInternal;var m=this.element.data("locale");this.element.append('\x3cscript src\x3d"'+
e+"?onload\x3donloadRecaptchaCallback\x26render\x3dexplicit\x26hl\x3d"+m+'" async defer\x3e\x3c/script\x3e');return a("div.g-recaptcha")},tokenChange:function(){var a=null,b=this.g_recaptcha_response;_.isEmpty(b)||(a={g_recaptcha_response:b,rcCloudServicePath:this.options.captchaConfigData.rcCloudServicePath});this.element.trigger({type:"tokenChange.captcha",token:a})}})})($);
(function(a,d){var b=xfalib.ut.XfaUtil.prototype;a.widget("xfaWidget.dateInputWidget",a.xfaWidget.abstractWidget,{_widgetName:"dateInputWidget",_getFieldOrder:function(a){return["M","D","Y"].map(function(c){return{value:c,index:a.indexOf(c)}}).sort(function(a,c){return a.index-c.index}).map(function(a){return a.value})},_getCombFieldOptions:function(a,d,l){return{commitEvent:b.XFA_EXIT_EVENT,zero:this.options.zero,dataType:"integer",placeholder:a,combCells:d||2,screenReaderText:l}},_getCombFieldControl:function(a){return this.combFieldControls?
this.combFieldControls[this.combFieldOrder[a]]:null},_initializeCombFields:function(){var c={D:this._getCombFieldOptions(this.options.placeholderDay,null,this.options.labelDay),M:this._getCombFieldOptions(this.options.placeholderMonth,null,this.options.labelMonth),Y:this._getCombFieldOptions(this.options.placeholderYear,4,this.options.labelYear)},e=this;this.separator=this.options.dateFormat.match(/^date\{.*([^mdy]).*\}$/i)[1];this.combFieldControls={D:{cssClass:"comb-form-group-day",regex:/^(?:0?[1-9]|1[0-9]|2[0-9]|3[01])$/,
placeholder:this.options.placeholderDay,label:this.options.labelDay},M:{cssClass:"comb-form-group-month",regex:/^(?:0?[1-9]|1[012])$/,placeholder:this.options.placeholderMonth,label:this.options.labelMonth},Y:{cssClass:"comb-form-group-year",regex:/^[0-9]{4}$/,placeholder:this.options.placeholderYear,label:this.options.labelYear}};this.element.find("[data-dateInput-wrapper]").each(function(l){a(this).addClass("comb-datefield");var m=a(this).find("input"),q=e.combFieldOrder[l],g=e._getCombFieldControl(l);
l=g.cssClass+(new Date).getTime();if(!e.options.hideLabels){var t=a(this).children("[data-dateInput-label]");0==t.length&&(t=a(document.createElement("label")).attr("data-dateInput-label"),m.before(t));t.text(g.label).attr("for",l).addClass("showTitle");m.attr("id",l)}m.addClass(g.cssClass);d.isUndefined(a.xfaWidget.numericInput)||(g.numericInputWidget=m.numericInput(c[q]).data("xfaWidget-numericInput"),m.css("position","relative"),g.value=null,a(this).on(b.XFA_EXIT_EVENT,function(a){e._isCombFieldValid(q)?
e._isValidDate(q)?(e.options.value=e.getCommitValue(),e.element.trigger(b.XFA_CHANGE_EVENT),e.element.trigger(b.XFA_EXIT_EVENT),g.value=g.numericInputWidget.option("value"),g.numericInputWidget.option("displayValue",g.value)):(g.value=g.numericInputWidget.option("value"),g.numericInputWidget.option("displayValue",g.value),a.stopPropagation()):g.numericInputWidget.option("value",g.value)}).on(b.XFA_CHANGE_EVENT,function(a){a.stopPropagation()}))})},_getConcatenatedValue:function(){var a=this;return this.combFieldOrder.reduce(function(b,
c){c=a.combFieldControls[c].numericInputWidget.option("value");return d.isEmpty(c)?b:b+a.separator+c},"").substr(1)},_isCombFieldValid:function(a){a=this.combFieldControls[a];var b=a.numericInputWidget.option("value");return d.isEmpty(b)||a.regex.test(b)},_isValidDate:function(){var a=this._getConcatenatedValue();if(0==a.length)return!0;a=this._parseDate(a);return!d.isUndefined(a)},_parseDate:function(a){var b;if(d.isEmpty(a))return"";try{return b=xfalib.ut.PictureFmt.parseDate(a,this.options.dateFormat)}catch(l){window.guideBridge._guide.logger().log("Error while parsing date "+
l)}},render:function(){this.combFieldOrder=this._getFieldOrder(this.options.dateFormat);this._initializeCombFields();return this.element.find("input").eq(0)},getCommitValue:function(){var a=this._parseDate(this._getConcatenatedValue());return d.isUndefined(a)?"":a},getOptionsMap:function(){var b=a.xfaWidget.abstractWidget.prototype.getOptionsMap.apply(this,arguments);return a.extend({},b,{value:function(a){if(d.isEmpty(a))d.each(this.combFieldControls,function(a){a.value="";a.numericInputWidget.option("value",
"");a.numericInputWidget.option("displayValue","")});else{var b=this,c=a.match(/[^0-9]/i),e=a.split(c);["Y","M","D"].forEach(function(a,c){a=b.combFieldControls[a];a.value=e[c];a.numericInputWidget.option("value",e[c]);a.numericInputWidget.option("displayValue",e[c])})}},screenReaderText:function(a){a&&this.element.attr("aria-label",a)},access:function(a){d.each(this.combFieldControls,function(b){b.value="";b.numericInputWidget.option("access",a)})},mandatory:function(a){a?this.element.find("input").attr("aria-required",
!0):this.element.find("input").removeAttr("aria-required")}})},getEventMap:function(){return{}}})})($,_);
(function(a){a.widget("xfaWidget.imageCheckRadioButtonWidget",a.xfaWidget.XfaCheckBox,{_widgetName:"imageCheckRadioButtonWidget",_getItemSkeleton:function(a){return'\x3cdiv class\x3d"'+("radio"===a?"guideRadioButtonItem":"guideCheckBoxItem")+' {NAME_PLACEHOLDER} {CSS_PLACEHOLDER}" style\x3d"background-image: url({LABEL_PLACEHOLDER}); background-repeat: no-repeat; background-size: contain;" data-original-title\x3d"" title\x3d""\x3e\n            \x3cdiv class\x3d"guideFieldWidget imageCheckRadioButtonWidget" data-id\x3d"{COUNTER_PLACEHOLDER}" data-af-widgetname\x3d"imageCheckRadioButtonWidget" data-original-title\x3d"" title\x3d""\x3e\n                \x3cinput type\x3d"'+a+
'" id\x3d"{TEMPLATE_ID_PLACEHOLDER}_{COUNTER_PLACEHOLDER}_widget" name\x3d"{TEMPLATE_ID_PLACEHOLDER}_jqName" value\x3d"-100" tabindex\x3d"0" aria-label\x3d"{LABEL_PLACEHOLDER}"  aria-selected\x3d"false" placeholder\x3d"" style\x3d"position: relative;"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"guideWidgetLabel right"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e'},getOptionsMap:function(){var d=a.xfaWidget.XfaCheckBox.prototype.getOptionsMap.apply(this,arguments);return a.extend({},
d,{displayValue:function(a){d.displayValue.apply(this,arguments);var b=this.$userControl.parents(".guideRadioButtonItem, .guideCheckBoxItem");b&&b.toggleClass("imageCheckButtonChecked",this.checkedState);"disabled"===this.$userControl.attr("disabled")&&b.addClass("imageCheckButtonDisabled")}})},renderGroupItem:function(a){var b=this._getItemSkeleton(a.widgetType),c=guidelib.util.GuideUtil;b=c.replaceAll(b,"{NAME_PLACEHOLDER}",a.modelName);b=c.replaceAll(b,"{TEMPLATE_ID_PLACEHOLDER}",a.modelTemplateId);
b=c.replaceAll(b,"{CSS_PLACEHOLDER}",a.cssValue);b=c.replaceAll(b,"{COUNTER_PLACEHOLDER}",a.itemIndex);return b=c.replaceAll(b,"{LABEL_PLACEHOLDER}",a.displayValue)}})})($);
(function(a){var d=xfalib.ut.XfaUtil.prototype;a.widget("xfaWidget.numericStepper",a.xfaWidget.numericInput,{_widgetName:"numericStepper",render:function(){var b=a.xfaWidget.numericInput.prototype.render.apply(this,arguments);return a.ui.spinner(this.options,b).element},getOptionsMap:function(){var b=a.xfaWidget.numericInput.prototype.getOptionsMap.apply(this,arguments);return a.extend({},b,{access:function(a){switch(a){case "open":this.$userControl.spinner("enable");break;case "readOnly":this.$userControl.spinner("disable")}},
value:function(a){this.$userControl.spinner("value",a)},displayValue:function(a){}})},getCommitValue:function(){return this.$userControl.spinner("value")},showValue:function(){},showDisplayValue:function(){},getEventMap:function(){var b=a.xfaWidget.numericInput.prototype.getEventMap.apply(this,arguments);return a.extend({},b,{spinstop:d.XFA_EXIT_EVENT,change:d.XFA_CHANGE_EVENT,"onKeyInput.numericInput":null})}})})($);
(function(a){a.widget("xfaWidget.richTextField",a.xfaWidget.textField,{_widgetName:"richTextField",_richTextWidget:null,_changeAccess:function(a){switch(a){case "open":this._richTextWidget&&(this._richTextWidget.editor.enable(),this._richTextWidget.$toolbar.removeClass("hideToolbar"));break;case "readOnly":this._richTextWidget&&(this._richTextWidget.editor.disable(),this._richTextWidget.$toolbar.addClass("hideToolbar"))}},getOptionsMap:function(){var d=a.xfaWidget.textField.prototype.getOptionsMap.apply(this,
arguments);return a.extend({},d,{value:function(a){this._richTextWidget&&this._richTextWidget.setRichTextEditorContent(a)},access:function(a){this._changeAccess(a)}})},getEventMap:function(){if(xfalib.ut.XfaUtil.prototype.isIE()){var d=a.xfaWidget.textField.prototype.getEventMap.apply(this,arguments);return a.extend({},d,{"activate.richTextField":xfalib.ut.XfaUtil.prototype.XFA_ENTER_EVENT})}return a.xfaWidget.textField.prototype.getEventMap.apply(this,arguments)},render:function(){var d=this.element.find("div.richTextWidget").eq(0);
d.children().remove();var b=xfalib.ut.XfaUtil.prototype.encodeScriptableTags(this.options.value);d.append(b);return a.xfaWidget.defaultWidget.prototype.render.apply(this,arguments)},getCommitValue:function(){var a="";this._richTextWidget&&(a=this._richTextWidget.getRichTextEditorContent());return a},preProcessEnter:function(d){a.xfaWidget.textField.prototype.preProcessEnter.apply(this,arguments);var b=this.$userControl.find("div.richTextWidget").eq(0);if(void 0!==window.Form&&void 0!==window.Form.rte&&
null===this._richTextWidget){this._initializeRTEToolbar();this._richTextWidget=new window.Form.rte.RichTextEditor({selector:b.attr("id"),toolbar:window.Form.rte.RichTextEditor.AFToolbar,data:xfalib.ut.XfaUtil.prototype.encodeScriptableTags(this.options.value),locale:b.data("locale")});var c=this;this._richTextWidget.editor.on("blur:composer",function(){c.$userControl.trigger("blur")});this.options.access&&this._changeAccess(this.options.access)}},_initializeRTEToolbar:function(){window.Form.rte.RichTextEditor.AFToolbar=
window.Form.rte.RichTextEditor.AFToolbar||{defaultMode:"basic",toolbars:{basic:{layout:[{items:[Form.rte.Commands.HEADER]},{items:[Form.rte.Commands.BOLD,Form.rte.Commands.ITALIC,Form.rte.Commands.UNDERLINE]},{command:"lists",icon:"list",title:"List Type",type:"popover",placement:"bottom",items:[Form.rte.Commands.INSERT_UNORDERED_LIST,Form.rte.Commands.INSERT_ORDERED_LIST,Form.rte.Commands.INSERT_LOWERCASE_ALPHABET_LIST]},{title:"Expand",command:Form.rte.Commands.MODE,value:Form.rte.ToolbarMode.FULL,
icon:"resize-full"}],floating:!0},full:{layout:[{items:[Form.rte.Commands.BOLD,Form.rte.Commands.ITALIC,Form.rte.Commands.UNDERLINE]},{items:[Form.rte.Commands.SUPERSCIPT,Form.rte.Commands.SUBSCRIPT]},{items:[Form.rte.Commands.HEADER,Form.rte.Commands.FONT_FAMILY,Form.rte.Commands.LINE_HEIGHT,Form.rte.Commands.FORE_COLOR,Form.rte.Commands.HILITE_COLOR,Form.rte.Commands.LINK]},{items:[Form.rte.Commands.INSERT_UNORDERED_LIST,Form.rte.Commands.INSERT_ORDERED_LIST,Form.rte.Commands.INSERT_LOWERCASE_ALPHABET_LIST]},
{title:"Collapse",command:Form.rte.Commands.MODE,value:Form.rte.ToolbarMode.BASIC,icon:"resize-small",selected:!0}]}}}}})})($);
(function(a){function d(b,c,d,f){f={data:f||0===f||!1===f?f:c?c.data:{},_wrap:c?c._wrap:null,tmpl:null,parent:c||null,nodes:[],calls:g,nest:t,wrap:C,html:D,update:E};b&&a.extend(f,b,{nodes:[],parent:c});d&&(f.tmpl=d,f._ctnt=f._ctnt||f.tmpl(a,f),f.key=++v,(y.length?w:p)[v]=f);return f}function b(k,d,e){var f;e=e?a.map(e,function(a){return"string"===typeof a?k.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,'$1 _tmplitem\x3d"'+k.key+'" $2'):a:b(a,k,a._ctnt)}):k;if(d)return e;e=e.join("");
e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(b,d,k,h){f=a(k).get();q(f);d&&(f=c(d).concat(f));h&&(f=f.concat(c(h)))});return f?f:c(e)}function c(b){var c=document.createElement("div");c.innerHTML=b;return a.makeArray(c.childNodes)}function e(b){return new Function("jQuery","$item","var $\x3djQuery,call,__\x3d[],$data\x3d$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{\x3d $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(b,c,d,k,e,n,g){b=a.tmpl.tag[d];if(!b)throw"Unknown template tag: "+d;d=b._default||[];n&&!/\w$/.test(e)&&(e+=n,n="");e?(e=m(e),g=g?","+m(g)+")":n?")":"",g=n?-1<e.indexOf(".")?e+m(n):"("+e+").call($item"+g:e,n=n?g:"(typeof("+e+")\x3d\x3d\x3d'function'?("+e+").call($item):("+e+"))"):n=g=d.$1||"null";k=m(k);return"');"+b[c?"close":"open"].split("$notnull_1").join(e?"typeof("+e+")!\x3d\x3d'undefined' \x26\x26 ("+e+")!\x3dnull":"true").split("$1a").join(n).split("$1").join(g).split("$2").join(k||
d.$2||"")+"__.push('"})+"');}return __;")}function l(c,d){c._wrap=b(c,!0,a.isArray(d)?d:[z.test(d)?d:a(d).html()]).join("")}function m(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function q(b){function c(b){function c(a){a+=e;h=g[a]=g[a]||d(h,p[h.parent.key+e]||h.parent)}var k,f=b,h,u;if(u=b.getAttribute("_tmplitem")){for(;f.parentNode&&1===(f=f.parentNode).nodeType&&!(k=f.getAttribute("_tmplitem")););k!==u&&(f=f.parentNode?11===f.nodeType?0:f.getAttribute("_tmplitem")||0:0,(h=p[u])||
(h=w[u],h=d(h,p[f]||w[f]),h.key=++v,p[v]=h),r&&c(u));b.removeAttribute("_tmplitem")}else r&&(h=a.data(b,"tmplItem"))&&(c(h.key),p[h.key]=h,f=(f=a.data(b.parentNode,"tmplItem"))?f.key:0);if(h){for(k=h;k&&k.key!=f;)k.nodes.push(b),k=k.parent;delete h._ctnt;delete h._wrap;a.data(b,"tmplItem",h)}}var e="_"+r,k,g={},l,n;var m=0;for(l=b.length;m<l;m++)if(1===(k=b[m]).nodeType){var q=k.getElementsByTagName("*");for(n=q.length-1;0<=n;n--)c(q[n]);c(k)}}function g(a,b,c,d){if(!a)return y.pop();y.push({_:a,
tmpl:b,item:this,data:c,options:d})}function t(b,c,d){return a.tmpl(a.template(b),c,d,this)}function C(b,c){var d=b.options||{};d.wrapped=c;return a.tmpl(a.template(b.tmpl),b.data,d,b.item)}function D(b,c){var d=this._wrap;return a.map(a(a.isArray(d)?d.join(""):d).filter(b||"*"),function(a){if(c)a=a.innerText||a.textContent;else{var b;(b=a.outerHTML)||(b=document.createElement("div"),b.appendChild(a.cloneNode(!0)),b=b.innerHTML);a=b}return a})}function E(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);
a(b).remove()}var A=a.fn.domManip,z=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{! /,p={},w={},x,B={key:0,data:{}},v=0,r=0,y=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){a.fn[b]=function(d){var e=[];d=a(d);var k;var h=1===this.length&&this[0].parentNode;x=p||{};if(h&&11===h.nodeType&&1===h.childNodes.length&&1===d.length)d[c](this[0]),e=this;else{var g=0;for(k=d.length;g<k;g++)r=g,h=(0<g?this.clone(!0):this).get(),a(d[g])[c](h),
e=e.concat(h);r=0;e=this.pushStack(e,b,d.selector)}d=x;x=null;a.tmpl.complete(d);return e}});a.fn.extend({tmpl:function(b,c,d){return a.tmpl(this[0],b,c,d)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,c,d){if(b[0]&&a.isArray(b[0])){for(var e=a.makeArray(arguments),h=b[0],k=h.length,g=0,l;g<k&&!(l=a.data(h[g++],"tmplItem")););l&&r&&(e[2]=function(b){a.tmpl.afterManip(this,b,d)});A.apply(this,e)}else A.apply(this,arguments);
r=0;!x&&a.tmpl.complete(p);return this}});a.extend({tmpl:function(c,e,g,f){var h=!f;if(h)f=B,c=a.template[c]||a.template(null,c),w={};else if(!c)return c=f.tmpl,p[f.key]=f,f.nodes=[],f.wrapped&&l(f,f.wrapped),a(b(f,null,f.tmpl(a,f)));if(!c)return[];"function"===typeof e&&(e=e.call(f||{}));g&&g.wrapped&&l(g,g.wrapped);e=a.isArray(e)?a.map(e,function(a){return a?d(g,f,c,a):null}):[d(g,f,c,e)];return h?a(b(f,null,e)):e},tmplItem:function(b){var c;for(b instanceof a&&(b=b[0]);b&&1===b.nodeType&&!(c=a.data(b,
"tmplItem"))&&(b=b.parentNode););return c||B},template:function(b,c){return c?("string"===typeof c?c=e(c):c instanceof a&&(c=c[0]||{}),c.nodeType&&(c=a.data(c,"tmpl")||a.data(c,"tmpl",e(c.innerHTML))),"string"===typeof b?a.template[b]=c:c):b?"string"!==typeof b?a.template(null,b):a.template[b]||a.template(null,z.test(b)?b:a(b)):null},encode:function(a){return(""+a).split("\x3c").join("\x26lt;").split("\x3e").join("\x26gt;").split('"').join("\x26#34;").split("'").join("\x26#39;")}});a.extend(a.tmpl,
{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__\x3d__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__\x3d[];",close:"call\x3d$item.calls();__\x3dcall._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) \x26\x26 $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) \x26\x26 $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},
"\x3d":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){p={}},afterManip:function(b,c,d){var e=11===c.nodeType?a.makeArray(c.childNodes):1===c.nodeType?[c]:[];d.call(b,c);q(e);r++}})})(jQuery);
(function(a,d){a.widget("switchbutton.switchbutton",{options:{classes:"",duration:200,dragThreshold:5,autoResize:!0,labels:!0,checkedLabel:"ON",uncheckedLabel:"OFF",disabledClass:"ui-switchbutton-disabled ui-state-disabled",template:'\x3cdiv class\x3d"ui-switchbutton ui-switchbutton-default ${classes} {{if !labels}}ui-switchbutton-no-labels{{/if}}" tabindex\x3d-1\x3e\x3clabel class\x3d"ui-switchbutton-disabled"\x3e\x3cspan\x3e{{if labels}}${uncheckedLabel}{{/if}}\x3c/span\x3e\x3c/label\x3e\x3clabel class\x3d"ui-switchbutton-enabled"\x3e\x3cspan\x3e{{if labels}}${checkedLabel}{{/if}}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"ui-switchbutton-handle"\x3e\x3c/div\x3e\x3c/div\x3e'},_create:function(){this.element.is(":checkbox")&&
(this._wrapCheckboxInContainer(),this._attachEvents(),this._globalEvents(),this._disableTextSelection(),this.element.prop("checked")&&this.$container.toggleClass("ui-state-active",this.element.prop("checked")),this.options.autoResize&&this._autoResize(),this._initialPosition())},_wrapCheckboxInContainer:function(){this.$container=a.tmpl(this.options.template,this.options);this.element.after(this.$container);this.element.remove();this.$container.append(this.element);this.$disabledLabel=this.$container.children(".ui-switchbutton-disabled");
this.$disabledSpan=this.$disabledLabel.children("span");this.$enabledLabel=this.$container.children(".ui-switchbutton-enabled");this.$enabledSpan=this.$enabledLabel.children("span");this.$handle=this.$container.children(".ui-switchbutton-handle")},_attachEvents:function(){var b=this;this.$container.on("keydown",function(a){if(!(a.ctrlKey||a.altKey||a.metaKey||a.shiftKey||(32!=a.keyCode&&37!=a.keyCode&&39!=a.keyCode||a.preventDefault(),b.element.prop("disabled")))){var c=b.element.prop("checked");
if(32==a.keyCode||37==a.keyCode&&c||39==a.keyCode&&!c)a=jQuery.Event("willChange"),b.element.trigger(a),a.isDefaultPrevented()||(c=!c,b.element.prop("checked",c),b.$container.toggleClass("ui-state-active",c),b.element.change(),b.element.trigger("didChange"))}}).on("mousedown touchstart",function(c){c.preventDefault();b.element.prop("disabled")||(a(this).focus(),c=c.pageX||c.originalEvent.changedTouches[0].pageX,a[d].currentlyClicking=b.$handle,a[d].dragStartPosition=c,a[d].handleLeftOffset=parseInt(b.$handle.css("left"),
10)||0,a[d].dragStartedOn=b.element)}).on("iPhoneDrag",function(c,e){c.preventDefault();b.element.prop("disabled")||b.element!=a[d].dragStartedOn||(c=(e+a[d].handleLeftOffset-a[d].dragStartPosition)/b.rightSide,0>c&&(c=0),1<c&&(c=1),b.$handle.css({left:c*b.rightSide}),b.$enabledLabel.css({width:c*b.rightSide}),b.$disabledSpan.css({"margin-right":-c*b.rightSide}),b.$enabledSpan.css({"margin-left":-(1-c)*b.rightSide}))}).on("iPhoneDragEnd",function(c,e){b.element.prop("disabled")||(c=jQuery.Event("willChange"),
b.element.trigger(c),c.isDefaultPrevented()?e=b.element.prop("checked"):a[d].dragging?(e=(e-a[d].dragStartPosition)/b.rightSide,e=0>e?.5>Math.abs(e):.5<=e):e=!b.element.prop("checked"),a[d].currentlyClicking=null,a[d].dragging=null,b.element.prop("checked",e),b.$container.toggleClass("ui-state-active",e),b.element.change(),b.element.trigger("didChange"))});this.element.change(function(){b.refresh();var a=b.element.prop("checked")?b.rightSide:0;b.$handle.animate({left:a},b.options.duration);b.$enabledLabel.animate({width:a},
b.options.duration);b.$disabledSpan.animate({"margin-right":-a},b.options.duration);b.$enabledSpan.animate({"margin-left":a-b.rightSide},b.options.duration)})},_globalEvents:function(){if(!a[d].initComplete){var b=this.options;a(document).on("mousemove touchmove",function(c){if(a[d].currentlyClicking){c.preventDefault();var e=c.pageX||c.originalEvent.changedTouches[0].pageX;!a[d].dragging&&Math.abs(a[d].dragStartPosition-e)>b.dragThreshold&&(a[d].dragging=!0);a(c.target).trigger("iPhoneDrag",[e])}}).on("mouseup touchend",
function(b){a[d].currentlyClicking&&(b.preventDefault(),b=b.pageX||b.originalEvent.changedTouches[0].pageX,a(a[d].currentlyClicking).trigger("iPhoneDragEnd",[b]))})}},_disableTextSelection:function(){a([this.$handle,this.$disabledLabel,this.$enabledLabel,this.$container]).attr("unselectable","on")},_autoResize:function(){var a=this.$enabledLabel.width();32>a&&(a=32);var c=this.$disabledLabel.width(),d=this.$disabledSpan.innerWidth()-this.$disabledSpan.width();handleMargins=this.$handle.outerWidth()-
this.$handle.innerWidth();a=handleWidth=a>c?a:c;this.$handle.css({width:handleWidth});handleWidth=this.$handle.width();a+=handleWidth+6;spanWidth=a-handleWidth-d-handleMargins;this.$container.css({width:a});this.$container.find("span").width(spanWidth)},_initialPosition:function(){this.$disabledLabel.css({width:this.$container.width()-5});this.rightSide=this.$container.width()-this.$handle.outerWidth();this.element.prop("checked")?(this.$handle.css({left:this.rightSide}),this.$enabledLabel.css({width:this.rightSide}),
this.$disabledSpan.css({"margin-right":-this.rightSide})):(this.$enabledLabel.css({width:0}),this.$enabledSpan.css({"margin-left":-this.rightSide}));this.refresh()},enable:function(){this.element.prop("disabled",!1);this.refresh();return this._setOption("disabled",!1)},disable:function(){this.element.prop("disabled",!0);this.refresh();return this._setOption("disabled",!0)},widget:function(){return this.$container},refresh:function(){if(this.element.prop("disabled"))return this.$container.addClass(this.options.disabledClass),
!1;this.$container.removeClass(this.options.disabledClass)}})})(jQuery,"switchbutton");
(function(a){a.widget("xfaWidget.guideSwitch",a.xfaWidget.XfaCheckBox,{_widgetName:"guideSwitch",options:{value:null,state:-1,states:2,values:[]},checkedState:!1,render:function(){var d=a.xfaWidget.XfaCheckBox.prototype.render.apply(this,arguments),b={checkedLabel:this.options.checkedLabel,uncheckedLabel:this.options.uncheckedLabel};d.prop("checked","0"==this.options.state?!0:!1);return d=a.switchbutton.switchbutton(b,d).element},getOptionsMap:function(){return a.xfaWidget.XfaCheckBox.prototype.getOptionsMap.apply(this,
arguments)},getEventMap:function(){var d=a.xfaWidget.XfaCheckBox.prototype.getEventMap.apply(this,arguments);return a.extend({},d,{change:xfalib.ut.XfaUtil.prototype.XFA_CHANGE_EVENT,click:xfalib.ut.XfaUtil.prototype.XFA_CLICK_EVENT})}})})($);(function(a,d){a.widget("xfaWidget.telephoneWidget",a.xfaWidget.textField,{_widgetName:"telephoneWidget"})})($,_);